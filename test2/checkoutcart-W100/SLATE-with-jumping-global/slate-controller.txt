apscheduler.scheduler - add_job(line:454) - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
apscheduler.scheduler - add_job(line:454) - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
apscheduler.scheduler - add_job(line:454) - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
apscheduler.scheduler - add_job(line:454) - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
apscheduler.scheduler - add_job(line:454) - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
apscheduler.scheduler - add_job(line:454) - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
apscheduler.scheduler - add_job(line:454) - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
apscheduler.scheduler - _real_add_job(line:895) - INFO - Added job "read_config_file" to job store "default"
apscheduler.scheduler - _real_add_job(line:895) - INFO - Added job "write_spans_to_file" to job store "default"
apscheduler.scheduler - _real_add_job(line:895) - INFO - Added job "training_phase" to job store "default"
apscheduler.scheduler - _real_add_job(line:895) - INFO - Added job "aggregated_rps_routine" to job store "default"
apscheduler.scheduler - _real_add_job(line:895) - INFO - Added job "optimizer_entrypoint" to job store "default"
apscheduler.scheduler - _real_add_job(line:895) - INFO - Added job "perform_jumping" to job store "default"
apscheduler.scheduler - _real_add_job(line:895) - INFO - Added job "state_check" to job store "default"
apscheduler.scheduler - start(line:181) - INFO - Scheduler started
 * Serving Flask app 'global_controller'
 * Debug mode: off
__main__ - read_config_file(line:2970) - INFO - Update benchmark_name:  -> not_init
__main__ - read_config_file(line:2995) - INFO - parent_of_bottleneck_service: not_init, bottleneck_service: not_init
__main__ - read_config_file(line:3000) - INFO - Update total_num_services: 0 -> -1
__main__ - read_config_file(line:3008) - INFO - Update mode:  -> before_start
__main__ - training_phase(line:2807) - INFO - mode: before_start. Skip training.
__main__ - optimizer_entrypoint(line:1908) - WARNING - run optimizer only in runtime mode. current mode: before_start.
__main__ - training_phase(line:2807) - INFO - mode: before_start. Skip training.
__main__ - optimizer_entrypoint(line:1908) - WARNING - run optimizer only in runtime mode. current mode: before_start.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-1, gap: 5.017150640487671
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - training_phase(line:2807) - INFO - mode: before_start. Skip training.
__main__ - optimizer_entrypoint(line:1908) - WARNING - run optimizer only in runtime mode. current mode: before_start.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-2, gap: 1.0000758171081543
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - training_phase(line:2807) - INFO - mode: before_start. Skip training.
__main__ - optimizer_entrypoint(line:1908) - WARNING - run optimizer only in runtime mode. current mode: before_start.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-3, gap: 1.0004734992980957
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - training_phase(line:2807) - INFO - mode: before_start. Skip training.
__main__ - optimizer_entrypoint(line:1908) - WARNING - run optimizer only in runtime mode. current mode: before_start.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-4, gap: 0.9970090389251709
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - training_phase(line:2807) - INFO - mode: before_start. Skip training.
__main__ - optimizer_entrypoint(line:1908) - WARNING - run optimizer only in runtime mode. current mode: before_start.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-5, gap: 0.9998493194580078
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - training_phase(line:2807) - INFO - mode: before_start. Skip training.
__main__ - optimizer_entrypoint(line:1908) - WARNING - run optimizer only in runtime mode. current mode: before_start.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-6, gap: 0.999884843826294
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - training_phase(line:2807) - INFO - mode: before_start. Skip training.
__main__ - optimizer_entrypoint(line:1908) - WARNING - run optimizer only in runtime mode. current mode: before_start.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-7, gap: 0.9998950958251953
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - training_phase(line:2807) - INFO - mode: before_start. Skip training.
__main__ - optimizer_entrypoint(line:1908) - WARNING - run optimizer only in runtime mode. current mode: before_start.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-8, gap: 0.9999849796295166
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - training_phase(line:2807) - INFO - mode: before_start. Skip training.
__main__ - optimizer_entrypoint(line:1908) - WARNING - run optimizer only in runtime mode. current mode: before_start.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-9, gap: 1.0002267360687256
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - read_config_file(line:3008) - INFO - Update mode: before_start -> runtime
__main__ - read_config_file(line:3040) - INFO - Update inter_cluster_latency: us-west-1 -> us-west-1: 0
__main__ - read_config_file(line:3040) - INFO - Update inter_cluster_latency: us-west-1 -> us-east-1: 33
__main__ - read_config_file(line:3040) - INFO - Update inter_cluster_latency: us-west-1 -> us-central-1: 15
__main__ - read_config_file(line:3040) - INFO - Update inter_cluster_latency: us-west-1 -> us-south-1: 20
__main__ - read_config_file(line:3040) - INFO - Update inter_cluster_latency: us-east-1 -> us-east-1: 0
__main__ - read_config_file(line:3040) - INFO - Update inter_cluster_latency: us-east-1 -> us-central-1: 20
__main__ - read_config_file(line:3040) - INFO - Update inter_cluster_latency: us-east-1 -> us-south-1: 15
__main__ - read_config_file(line:3040) - INFO - Update inter_cluster_latency: us-central-1 -> us-central-1: 0
__main__ - read_config_file(line:3040) - INFO - Update inter_cluster_latency: us-central-1 -> us-south-1: 10
__main__ - read_config_file(line:3040) - INFO - Update inter_cluster_latency: us-south-1 -> us-south-1: 0
__main__ - read_config_file(line:2970) - INFO - Update benchmark_name: not_init -> onlineboutique
__main__ - read_config_file(line:2995) - INFO - parent_of_bottleneck_service: sslateingress, bottleneck_service: frontend
__main__ - read_config_file(line:3000) - INFO - Update total_num_services: -1 -> 8
__main__ - read_config_file(line:3028) - INFO - Update degree: 0 -> 2
__main__ - read_config_file(line:3047) - INFO - Update load_coef_flag: False -> 1
__main__ - read_config_file(line:3060) - INFO - Update workload: west-checkoutcart: 100RPS
__main__ - read_config_file(line:3060) - INFO - Update workload: east-checkoutcart: 250RPS
__main__ - read_config_file(line:3060) - INFO - Update workload: central-checkoutcart: 200RPS
__main__ - read_config_file(line:3060) - INFO - Update workload: south-checkoutcart: 150RPS
__main__ - read_config_file(line:3016) - INFO - Update mode: LOCAL -> SLATE-with-jumping-global
__main__ - training_phase(line:2810) - ERROR - [ERROR] trace.csv does not exist.
[ERROR] trace.csv does not exist.
[ERROR] trace.csv does not exist.
[ERROR] trace.csv does not exist.
[ERROR] trace.csv does not exist.
[ERROR] trace.csv does not exist.
[ERROR] trace.csv does not exist.
[ERROR] trace.csv does not exist.
[ERROR] trace.csv does not exist.
[ERROR] trace.csv does not exist.

__main__ - record_endpoint_rps(line:3094) - INFO - Skip recording endpoint_rps_history.csv. aggregated_rps has not been initialized because training is not done yet.
__main__ - optimizer_entrypoint(line:1914) - WARNING - runtime True, SLATE-with-jumping-global, BUT run optimizer only after training. train_done: False.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-10, gap: 0.9996323585510254
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1914) - WARNING - runtime True, SLATE-with-jumping-global, BUT run optimizer only after training. train_done: False.
__main__ - record_endpoint_rps(line:3094) - INFO - Skip recording endpoint_rps_history.csv. aggregated_rps has not been initialized because training is not done yet.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-11, gap: 0.9998667240142822
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - trace_string_file_to_trace_data_structure(line:2562) - INFO - len(traces[us-west-1]): 1
time_stitching - traces_to_endpoint_str_callgraph_table(line:451) - INFO - new callgraph key: ed91725c, sslateingress@POST@/cart/checkout|frontend@POST@/cart/checkout|checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder|recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations|cartservice@POST@/hipstershop.CartService/GetCart|emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation|paymentservice@POST@/hipstershop.PaymentService/Charge|shippingservice@POST@/hipstershop.ShippingService/ShipOrder in cluster us-west-1
__main__ - training_phase(line:2855) - INFO - REPLICATE trace: {'us-west-1': {'us-west-1': 0, 'us-east-1': 33, 'us-central-1': 15, 'us-south-1': 20}, 'us-east-1': {'us-west-1': 33, 'us-east-1': 0, 'us-central-1': 20, 'us-south-1': 15}, 'us-central-1': {'us-west-1': 15, 'us-east-1': 20, 'us-central-1': 0, 'us-south-1': 10}, 'us-south-1': {'us-west-1': 20, 'us-east-1': 15, 'us-central-1': 10, 'us-south-1': 0}}
__main__ - training_phase(line:2859) - INFO - Replicate trace for us-east-1
__main__ - training_phase(line:2859) - INFO - Replicate trace for us-central-1
__main__ - training_phase(line:2859) - INFO - Replicate trace for us-south-1
__main__ - initialize_global_datastructure(line:2685) - INFO - Clusters in stitched_traces: dict_keys(['us-west-1', 'us-east-1', 'us-central-1', 'us-south-1'])
__main__ - set_svc_to_placement(line:1075) - INFO - svc_to_placement
__main__ - set_svc_to_placement(line:1076) - INFO - {'shippingservice': {'us-east-1', 'us-south-1', 'us-central-1', 'us-west-1'}, 'sslateingress': {'us-east-1', 'us-south-1', 'us-central-1', 'us-west-1'}, 'cartservice': {'us-east-1', 'us-south-1', 'us-central-1', 'us-west-1'}, 'paymentservice': {'us-east-1', 'us-south-1', 'us-central-1', 'us-west-1'}, 'emailservice': {'us-east-1', 'us-south-1', 'us-central-1', 'us-west-1'}, 'checkoutservice': {'us-east-1', 'us-south-1', 'us-central-1', 'us-west-1'}, 'recommendationservice': {'us-east-1', 'us-south-1', 'us-central-1', 'us-west-1'}, 'frontend': {'us-east-1', 'us-south-1', 'us-central-1', 'us-west-1'}}
__main__ - initialize_global_datastructure(line:2714) - INFO - Init all_endpoints[us-west-1][shippingservice]: {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder'}
__main__ - initialize_global_datastructure(line:2714) - INFO - Init all_endpoints[us-west-1][sslateingress]: {'sslateingress@POST@/cart/checkout'}
__main__ - initialize_global_datastructure(line:2714) - INFO - Init all_endpoints[us-west-1][cartservice]: {'cartservice@POST@/hipstershop.CartService/GetCart'}
__main__ - initialize_global_datastructure(line:2714) - INFO - Init all_endpoints[us-west-1][paymentservice]: {'paymentservice@POST@/hipstershop.PaymentService/Charge'}
__main__ - initialize_global_datastructure(line:2714) - INFO - Init all_endpoints[us-west-1][emailservice]: {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation'}
__main__ - initialize_global_datastructure(line:2714) - INFO - Init all_endpoints[us-west-1][checkoutservice]: {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder'}
__main__ - initialize_global_datastructure(line:2714) - INFO - Init all_endpoints[us-west-1][recommendationservice]: {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations'}
__main__ - initialize_global_datastructure(line:2714) - INFO - Init all_endpoints[us-west-1][frontend]: {'frontend@POST@/cart/checkout'}
__main__ - initialize_global_datastructure(line:2714) - INFO - Init all_endpoints[us-east-1][shippingservice]: {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder'}
__main__ - initialize_global_datastructure(line:2714) - INFO - Init all_endpoints[us-east-1][sslateingress]: {'sslateingress@POST@/cart/checkout'}
__main__ - initialize_global_datastructure(line:2714) - INFO - Init all_endpoints[us-east-1][cartservice]: {'cartservice@POST@/hipstershop.CartService/GetCart'}
__main__ - initialize_global_datastructure(line:2714) - INFO - Init all_endpoints[us-east-1][paymentservice]: {'paymentservice@POST@/hipstershop.PaymentService/Charge'}
__main__ - initialize_global_datastructure(line:2714) - INFO - Init all_endpoints[us-east-1][emailservice]: {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation'}
__main__ - initialize_global_datastructure(line:2714) - INFO - Init all_endpoints[us-east-1][checkoutservice]: {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder'}
__main__ - initialize_global_datastructure(line:2714) - INFO - Init all_endpoints[us-east-1][recommendationservice]: {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations'}
__main__ - initialize_global_datastructure(line:2714) - INFO - Init all_endpoints[us-east-1][frontend]: {'frontend@POST@/cart/checkout'}
__main__ - initialize_global_datastructure(line:2714) - INFO - Init all_endpoints[us-central-1][shippingservice]: {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder'}
__main__ - initialize_global_datastructure(line:2714) - INFO - Init all_endpoints[us-central-1][sslateingress]: {'sslateingress@POST@/cart/checkout'}
__main__ - initialize_global_datastructure(line:2714) - INFO - Init all_endpoints[us-central-1][cartservice]: {'cartservice@POST@/hipstershop.CartService/GetCart'}
__main__ - initialize_global_datastructure(line:2714) - INFO - Init all_endpoints[us-central-1][paymentservice]: {'paymentservice@POST@/hipstershop.PaymentService/Charge'}
__main__ - initialize_global_datastructure(line:2714) - INFO - Init all_endpoints[us-central-1][emailservice]: {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation'}
__main__ - initialize_global_datastructure(line:2714) - INFO - Init all_endpoints[us-central-1][checkoutservice]: {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder'}
__main__ - initialize_global_datastructure(line:2714) - INFO - Init all_endpoints[us-central-1][recommendationservice]: {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations'}
__main__ - initialize_global_datastructure(line:2714) - INFO - Init all_endpoints[us-central-1][frontend]: {'frontend@POST@/cart/checkout'}
__main__ - initialize_global_datastructure(line:2714) - INFO - Init all_endpoints[us-south-1][shippingservice]: {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder'}
__main__ - initialize_global_datastructure(line:2714) - INFO - Init all_endpoints[us-south-1][sslateingress]: {'sslateingress@POST@/cart/checkout'}
__main__ - initialize_global_datastructure(line:2714) - INFO - Init all_endpoints[us-south-1][cartservice]: {'cartservice@POST@/hipstershop.CartService/GetCart'}
__main__ - initialize_global_datastructure(line:2714) - INFO - Init all_endpoints[us-south-1][paymentservice]: {'paymentservice@POST@/hipstershop.PaymentService/Charge'}
__main__ - initialize_global_datastructure(line:2714) - INFO - Init all_endpoints[us-south-1][emailservice]: {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation'}
__main__ - initialize_global_datastructure(line:2714) - INFO - Init all_endpoints[us-south-1][checkoutservice]: {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder'}
__main__ - initialize_global_datastructure(line:2714) - INFO - Init all_endpoints[us-south-1][recommendationservice]: {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations'}
__main__ - initialize_global_datastructure(line:2714) - INFO - Init all_endpoints[us-south-1][frontend]: {'frontend@POST@/cart/checkout'}
__main__ - initialize_global_datastructure(line:2716) - INFO - Init endpoint_to_placement[shippingservice@POST@/hipstershop.ShippingService/ShipOrder]: {'us-east-1', 'us-south-1', 'us-central-1', 'us-west-1'}
__main__ - initialize_global_datastructure(line:2716) - INFO - Init endpoint_to_placement[sslateingress@POST@/cart/checkout]: {'us-east-1', 'us-south-1', 'us-central-1', 'us-west-1'}
__main__ - initialize_global_datastructure(line:2716) - INFO - Init endpoint_to_placement[cartservice@POST@/hipstershop.CartService/GetCart]: {'us-east-1', 'us-south-1', 'us-central-1', 'us-west-1'}
__main__ - initialize_global_datastructure(line:2716) - INFO - Init endpoint_to_placement[paymentservice@POST@/hipstershop.PaymentService/Charge]: {'us-east-1', 'us-south-1', 'us-central-1', 'us-west-1'}
__main__ - initialize_global_datastructure(line:2716) - INFO - Init endpoint_to_placement[emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation]: {'us-east-1', 'us-south-1', 'us-central-1', 'us-west-1'}
__main__ - initialize_global_datastructure(line:2716) - INFO - Init endpoint_to_placement[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder]: {'us-east-1', 'us-south-1', 'us-central-1', 'us-west-1'}
__main__ - initialize_global_datastructure(line:2716) - INFO - Init endpoint_to_placement[recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations]: {'us-east-1', 'us-south-1', 'us-central-1', 'us-west-1'}
__main__ - initialize_global_datastructure(line:2716) - INFO - Init endpoint_to_placement[frontend@POST@/cart/checkout]: {'us-east-1', 'us-south-1', 'us-central-1', 'us-west-1'}
__main__ - initialize_global_datastructure(line:2718) - INFO - Init svc_to_placement[shippingservice]: {'us-east-1', 'us-south-1', 'us-central-1', 'us-west-1'}
__main__ - initialize_global_datastructure(line:2718) - INFO - Init svc_to_placement[sslateingress]: {'us-east-1', 'us-south-1', 'us-central-1', 'us-west-1'}
__main__ - initialize_global_datastructure(line:2718) - INFO - Init svc_to_placement[cartservice]: {'us-east-1', 'us-south-1', 'us-central-1', 'us-west-1'}
__main__ - initialize_global_datastructure(line:2718) - INFO - Init svc_to_placement[paymentservice]: {'us-east-1', 'us-south-1', 'us-central-1', 'us-west-1'}
__main__ - initialize_global_datastructure(line:2718) - INFO - Init svc_to_placement[emailservice]: {'us-east-1', 'us-south-1', 'us-central-1', 'us-west-1'}
__main__ - initialize_global_datastructure(line:2718) - INFO - Init svc_to_placement[checkoutservice]: {'us-east-1', 'us-south-1', 'us-central-1', 'us-west-1'}
__main__ - initialize_global_datastructure(line:2718) - INFO - Init svc_to_placement[recommendationservice]: {'us-east-1', 'us-south-1', 'us-central-1', 'us-west-1'}
__main__ - initialize_global_datastructure(line:2718) - INFO - Init svc_to_placement[frontend]: {'us-east-1', 'us-south-1', 'us-central-1', 'us-west-1'}
__main__ - initialize_global_datastructure(line:2720) - INFO - Init placement[us-west-1]: {'cartservice', 'shippingservice', 'checkoutservice', 'emailservice', 'paymentservice', 'recommendationservice', 'sslateingress', 'frontend'}
__main__ - initialize_global_datastructure(line:2720) - INFO - Init placement[us-east-1]: {'cartservice', 'shippingservice', 'checkoutservice', 'emailservice', 'paymentservice', 'recommendationservice', 'sslateingress', 'frontend'}
__main__ - initialize_global_datastructure(line:2720) - INFO - Init placement[us-central-1]: {'cartservice', 'shippingservice', 'checkoutservice', 'emailservice', 'paymentservice', 'recommendationservice', 'sslateingress', 'frontend'}
__main__ - initialize_global_datastructure(line:2720) - INFO - Init placement[us-south-1]: {'cartservice', 'shippingservice', 'checkoutservice', 'emailservice', 'paymentservice', 'recommendationservice', 'sslateingress', 'frontend'}
__main__ - initialize_global_datastructure(line:2729) - INFO - len(ep_str_callgraph_table: 1
__main__ - print_ep_str_callgraph_table(line:1633) - INFO - ep_str_callgraph_table
__main__ - print_ep_str_callgraph_table(line:1636) - INFO - ************************************************************
__main__ - print_ep_str_callgraph_table(line:1637) - INFO - hashed_cg_key-0: ed91725c
__main__ - print_ep_str_callgraph_table(line:1639) - INFO - shippingservice@POST@/hipstershop.ShippingService/ShipOrder -> []
__main__ - print_ep_str_callgraph_table(line:1639) - INFO - sslateingress@POST@/cart/checkout -> ['frontend@POST@/cart/checkout']
__main__ - print_ep_str_callgraph_table(line:1639) - INFO - cartservice@POST@/hipstershop.CartService/GetCart -> []
__main__ - print_ep_str_callgraph_table(line:1639) - INFO - paymentservice@POST@/hipstershop.PaymentService/Charge -> []
__main__ - print_ep_str_callgraph_table(line:1639) - INFO - emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation -> []
__main__ - print_ep_str_callgraph_table(line:1639) - INFO - checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder -> ['cartservice@POST@/hipstershop.CartService/GetCart', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation', 'paymentservice@POST@/hipstershop.PaymentService/Charge', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder']
__main__ - print_ep_str_callgraph_table(line:1639) - INFO - recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations -> []
__main__ - print_ep_str_callgraph_table(line:1639) - INFO - frontend@POST@/cart/checkout -> ['checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations']
__main__ - print_ep_str_callgraph_table(line:1640) - INFO - 
__main__ - initialize_global_datastructure(line:2732) - INFO - num callgraph: 1
__main__ - initialize_global_datastructure(line:2755) - INFO - Init aggregated_rps[us-west-1][shippingservice][shippingservice@POST@/hipstershop.ShippingService/ShipOrder]: 0
__main__ - initialize_global_datastructure(line:2755) - INFO - Init aggregated_rps[us-west-1][sslateingress][sslateingress@POST@/cart/checkout]: 0
__main__ - initialize_global_datastructure(line:2755) - INFO - Init aggregated_rps[us-west-1][cartservice][cartservice@POST@/hipstershop.CartService/GetCart]: 0
__main__ - initialize_global_datastructure(line:2755) - INFO - Init aggregated_rps[us-west-1][paymentservice][paymentservice@POST@/hipstershop.PaymentService/Charge]: 0
__main__ - initialize_global_datastructure(line:2755) - INFO - Init aggregated_rps[us-west-1][emailservice][emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation]: 0
__main__ - initialize_global_datastructure(line:2755) - INFO - Init aggregated_rps[us-west-1][checkoutservice][checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder]: 0
__main__ - initialize_global_datastructure(line:2755) - INFO - Init aggregated_rps[us-west-1][recommendationservice][recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations]: 0
__main__ - initialize_global_datastructure(line:2755) - INFO - Init aggregated_rps[us-west-1][frontend][frontend@POST@/cart/checkout]: 0
__main__ - initialize_global_datastructure(line:2755) - INFO - Init aggregated_rps[us-east-1][shippingservice][shippingservice@POST@/hipstershop.ShippingService/ShipOrder]: 0
__main__ - initialize_global_datastructure(line:2755) - INFO - Init aggregated_rps[us-east-1][sslateingress][sslateingress@POST@/cart/checkout]: 0
__main__ - initialize_global_datastructure(line:2755) - INFO - Init aggregated_rps[us-east-1][cartservice][cartservice@POST@/hipstershop.CartService/GetCart]: 0
__main__ - initialize_global_datastructure(line:2755) - INFO - Init aggregated_rps[us-east-1][paymentservice][paymentservice@POST@/hipstershop.PaymentService/Charge]: 0
__main__ - initialize_global_datastructure(line:2755) - INFO - Init aggregated_rps[us-east-1][emailservice][emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation]: 0
__main__ - initialize_global_datastructure(line:2755) - INFO - Init aggregated_rps[us-east-1][checkoutservice][checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder]: 0
__main__ - initialize_global_datastructure(line:2755) - INFO - Init aggregated_rps[us-east-1][recommendationservice][recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations]: 0
__main__ - initialize_global_datastructure(line:2755) - INFO - Init aggregated_rps[us-east-1][frontend][frontend@POST@/cart/checkout]: 0
__main__ - initialize_global_datastructure(line:2755) - INFO - Init aggregated_rps[us-central-1][shippingservice][shippingservice@POST@/hipstershop.ShippingService/ShipOrder]: 0
__main__ - initialize_global_datastructure(line:2755) - INFO - Init aggregated_rps[us-central-1][sslateingress][sslateingress@POST@/cart/checkout]: 0
__main__ - initialize_global_datastructure(line:2755) - INFO - Init aggregated_rps[us-central-1][cartservice][cartservice@POST@/hipstershop.CartService/GetCart]: 0
__main__ - initialize_global_datastructure(line:2755) - INFO - Init aggregated_rps[us-central-1][paymentservice][paymentservice@POST@/hipstershop.PaymentService/Charge]: 0
__main__ - initialize_global_datastructure(line:2755) - INFO - Init aggregated_rps[us-central-1][emailservice][emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation]: 0
__main__ - initialize_global_datastructure(line:2755) - INFO - Init aggregated_rps[us-central-1][checkoutservice][checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder]: 0
__main__ - initialize_global_datastructure(line:2755) - INFO - Init aggregated_rps[us-central-1][recommendationservice][recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations]: 0
__main__ - initialize_global_datastructure(line:2755) - INFO - Init aggregated_rps[us-central-1][frontend][frontend@POST@/cart/checkout]: 0
__main__ - initialize_global_datastructure(line:2755) - INFO - Init aggregated_rps[us-south-1][shippingservice][shippingservice@POST@/hipstershop.ShippingService/ShipOrder]: 0
__main__ - initialize_global_datastructure(line:2755) - INFO - Init aggregated_rps[us-south-1][sslateingress][sslateingress@POST@/cart/checkout]: 0
__main__ - initialize_global_datastructure(line:2755) - INFO - Init aggregated_rps[us-south-1][cartservice][cartservice@POST@/hipstershop.CartService/GetCart]: 0
__main__ - initialize_global_datastructure(line:2755) - INFO - Init aggregated_rps[us-south-1][paymentservice][paymentservice@POST@/hipstershop.PaymentService/Charge]: 0
__main__ - initialize_global_datastructure(line:2755) - INFO - Init aggregated_rps[us-south-1][emailservice][emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation]: 0
__main__ - initialize_global_datastructure(line:2755) - INFO - Init aggregated_rps[us-south-1][checkoutservice][checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder]: 0
__main__ - initialize_global_datastructure(line:2755) - INFO - Init aggregated_rps[us-south-1][recommendationservice][recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations]: 0
__main__ - initialize_global_datastructure(line:2755) - INFO - Init aggregated_rps[us-south-1][frontend][frontend@POST@/cart/checkout]: 0
__main__ - training_phase(line:2882) - INFO - Training starts.
__main__ - load_coef(line:2316) - INFO - loaded_coef,emailservice,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,6.244809568429129e-06
__main__ - load_coef(line:2316) - INFO - loaded_coef,emailservice,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,intercept,0.6987102362698281
__main__ - load_coef(line:2316) - INFO - loaded_coef,frontend,frontend@POST@/cart/checkout,frontend@POST@/cart/checkout,3.73107486513784e-05
__main__ - load_coef(line:2316) - INFO - loaded_coef,frontend,frontend@POST@/cart/checkout,intercept,0.2560584348954728
__main__ - load_coef(line:2316) - INFO - loaded_coef,paymentservice,paymentservice@POST@/hipstershop.PaymentService/Charge,paymentservice@POST@/hipstershop.PaymentService/Charge,5.541307960266252e-06
__main__ - load_coef(line:2316) - INFO - loaded_coef,paymentservice,paymentservice@POST@/hipstershop.PaymentService/Charge,intercept,0.7322807594252826
__main__ - load_coef(line:2316) - INFO - loaded_coef,checkoutservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,0.0001364372975024
__main__ - load_coef(line:2316) - INFO - loaded_coef,checkoutservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,intercept,-5.633727951982855
__main__ - load_coef(line:2316) - INFO - loaded_coef,recommendationservice,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,8.942462953450725e-05
__main__ - load_coef(line:2316) - INFO - loaded_coef,recommendationservice,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,intercept,-13.192377235381432
__main__ - load_coef(line:2316) - INFO - loaded_coef,sslateingress,sslateingress@POST@/cart/checkout,sslateingress@POST@/cart/checkout,1.663884044632706e-05
__main__ - load_coef(line:2316) - INFO - loaded_coef,sslateingress,sslateingress@POST@/cart/checkout,intercept,1.0868519851102758
__main__ - load_coef(line:2316) - INFO - loaded_coef,cartservice,cartservice@POST@/hipstershop.CartService/GetCart,cartservice@POST@/hipstershop.CartService/GetCart,8.813330823536261e-06
__main__ - load_coef(line:2316) - INFO - loaded_coef,cartservice,cartservice@POST@/hipstershop.CartService/GetCart,intercept,0.9452056491695048
__main__ - load_coef(line:2316) - INFO - loaded_coef,shippingservice,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,3.358173659059789e-06
__main__ - load_coef(line:2316) - INFO - loaded_coef,shippingservice,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,intercept,0.6245698521639249
__main__ - load_coef(line:2352) - INFO - --------------------------------------------------------------------------------
__main__ - load_coef(line:2356) - INFO - ret_coef,emailservice,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,6.244809568429129e-06
__main__ - load_coef(line:2356) - INFO - ret_coef,emailservice,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,intercept,0.6987102362698281
__main__ - load_coef(line:2356) - INFO - ret_coef,frontend,frontend@POST@/cart/checkout,frontend@POST@/cart/checkout,3.73107486513784e-05
__main__ - load_coef(line:2356) - INFO - ret_coef,frontend,frontend@POST@/cart/checkout,intercept,0.2560584348954728
__main__ - load_coef(line:2356) - INFO - ret_coef,paymentservice,paymentservice@POST@/hipstershop.PaymentService/Charge,paymentservice@POST@/hipstershop.PaymentService/Charge,5.541307960266252e-06
__main__ - load_coef(line:2356) - INFO - ret_coef,paymentservice,paymentservice@POST@/hipstershop.PaymentService/Charge,intercept,0.7322807594252826
__main__ - load_coef(line:2356) - INFO - ret_coef,checkoutservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,0.0001364372975024
__main__ - load_coef(line:2356) - INFO - ret_coef,checkoutservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,intercept,-5.633727951982855
__main__ - load_coef(line:2356) - INFO - ret_coef,recommendationservice,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,8.942462953450725e-05
__main__ - load_coef(line:2356) - INFO - ret_coef,recommendationservice,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,intercept,-13.192377235381432
__main__ - load_coef(line:2356) - INFO - ret_coef,sslateingress,sslateingress@POST@/cart/checkout,sslateingress@POST@/cart/checkout,1.663884044632706e-05
__main__ - load_coef(line:2356) - INFO - ret_coef,sslateingress,sslateingress@POST@/cart/checkout,intercept,1.0868519851102758
__main__ - load_coef(line:2356) - INFO - ret_coef,cartservice,cartservice@POST@/hipstershop.CartService/GetCart,cartservice@POST@/hipstershop.CartService/GetCart,8.813330823536261e-06
__main__ - load_coef(line:2356) - INFO - ret_coef,cartservice,cartservice@POST@/hipstershop.CartService/GetCart,intercept,0.9452056491695048
__main__ - load_coef(line:2356) - INFO - ret_coef,shippingservice,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,3.358173659059789e-06
__main__ - load_coef(line:2356) - INFO - ret_coef,shippingservice,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,intercept,0.6245698521639249
__main__ - load_coef(line:2357) - INFO - --------------------------------------------------------------------------------
__main__ - load_coef(line:2316) - INFO - loaded_coef,emailservice,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,6.244809568429129e-06
__main__ - load_coef(line:2316) - INFO - loaded_coef,emailservice,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,intercept,0.6987102362698281
__main__ - load_coef(line:2316) - INFO - loaded_coef,frontend,frontend@POST@/cart/checkout,frontend@POST@/cart/checkout,0.0002745620070413
__main__ - load_coef(line:2316) - INFO - loaded_coef,frontend,frontend@POST@/cart/checkout,intercept,-17.06665662891628
__main__ - load_coef(line:2316) - INFO - loaded_coef,paymentservice,paymentservice@POST@/hipstershop.PaymentService/Charge,paymentservice@POST@/hipstershop.PaymentService/Charge,5.541307960266252e-06
__main__ - load_coef(line:2316) - INFO - loaded_coef,paymentservice,paymentservice@POST@/hipstershop.PaymentService/Charge,intercept,0.7322807594252826
__main__ - load_coef(line:2316) - INFO - loaded_coef,checkoutservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,0.0001488901710063
__main__ - load_coef(line:2316) - INFO - loaded_coef,checkoutservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,intercept,-4.336334150907508
__main__ - load_coef(line:2316) - INFO - loaded_coef,recommendationservice,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,8.942462953450725e-05
__main__ - load_coef(line:2316) - INFO - loaded_coef,recommendationservice,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,intercept,-13.192377235381432
__main__ - load_coef(line:2316) - INFO - loaded_coef,sslateingress,sslateingress@POST@/cart/checkout,sslateingress@POST@/cart/checkout,0.0002957236895652
__main__ - load_coef(line:2316) - INFO - loaded_coef,sslateingress,sslateingress@POST@/cart/checkout,intercept,-17.3714676412491
__main__ - load_coef(line:2316) - INFO - loaded_coef,cartservice,cartservice@POST@/hipstershop.CartService/GetCart,cartservice@POST@/hipstershop.CartService/GetCart,8.813330823536261e-06
__main__ - load_coef(line:2316) - INFO - loaded_coef,cartservice,cartservice@POST@/hipstershop.CartService/GetCart,intercept,0.9452056491695048
__main__ - load_coef(line:2316) - INFO - loaded_coef,shippingservice,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,3.358173659059789e-06
__main__ - load_coef(line:2316) - INFO - loaded_coef,shippingservice,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,intercept,0.6245698521639249
__main__ - load_coef(line:2352) - INFO - --------------------------------------------------------------------------------
__main__ - load_coef(line:2356) - INFO - ret_coef,emailservice,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,6.244809568429129e-06
__main__ - load_coef(line:2356) - INFO - ret_coef,emailservice,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,intercept,0.6987102362698281
__main__ - load_coef(line:2356) - INFO - ret_coef,frontend,frontend@POST@/cart/checkout,frontend@POST@/cart/checkout,0.0002745620070413
__main__ - load_coef(line:2356) - INFO - ret_coef,frontend,frontend@POST@/cart/checkout,intercept,-17.06665662891628
__main__ - load_coef(line:2356) - INFO - ret_coef,paymentservice,paymentservice@POST@/hipstershop.PaymentService/Charge,paymentservice@POST@/hipstershop.PaymentService/Charge,5.541307960266252e-06
__main__ - load_coef(line:2356) - INFO - ret_coef,paymentservice,paymentservice@POST@/hipstershop.PaymentService/Charge,intercept,0.7322807594252826
__main__ - load_coef(line:2356) - INFO - ret_coef,checkoutservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,0.0001488901710063
__main__ - load_coef(line:2356) - INFO - ret_coef,checkoutservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,intercept,-4.336334150907508
__main__ - load_coef(line:2356) - INFO - ret_coef,recommendationservice,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,8.942462953450725e-05
__main__ - load_coef(line:2356) - INFO - ret_coef,recommendationservice,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,intercept,-13.192377235381432
__main__ - load_coef(line:2356) - INFO - ret_coef,sslateingress,sslateingress@POST@/cart/checkout,sslateingress@POST@/cart/checkout,0.0002957236895652
__main__ - load_coef(line:2356) - INFO - ret_coef,sslateingress,sslateingress@POST@/cart/checkout,intercept,-17.3714676412491
__main__ - load_coef(line:2356) - INFO - ret_coef,cartservice,cartservice@POST@/hipstershop.CartService/GetCart,cartservice@POST@/hipstershop.CartService/GetCart,8.813330823536261e-06
__main__ - load_coef(line:2356) - INFO - ret_coef,cartservice,cartservice@POST@/hipstershop.CartService/GetCart,intercept,0.9452056491695048
__main__ - load_coef(line:2356) - INFO - ret_coef,shippingservice,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,3.358173659059789e-06
__main__ - load_coef(line:2356) - INFO - ret_coef,shippingservice,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,intercept,0.6245698521639249
__main__ - load_coef(line:2357) - INFO - --------------------------------------------------------------------------------
__main__ - training_phase(line:2901) - INFO - coef_dict[emailservice][emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation][emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation]: 6.244809568429129e-06
__main__ - training_phase(line:2901) - INFO - coef_dict[emailservice][emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation][intercept]: 0.6987102362698281
__main__ - training_phase(line:2901) - INFO - coef_dict[frontend][frontend@POST@/cart/checkout][frontend@POST@/cart/checkout]: 3.73107486513784e-05
__main__ - training_phase(line:2901) - INFO - coef_dict[frontend][frontend@POST@/cart/checkout][intercept]: 0.2560584348954728
__main__ - training_phase(line:2901) - INFO - coef_dict[paymentservice][paymentservice@POST@/hipstershop.PaymentService/Charge][paymentservice@POST@/hipstershop.PaymentService/Charge]: 5.541307960266252e-06
__main__ - training_phase(line:2901) - INFO - coef_dict[paymentservice][paymentservice@POST@/hipstershop.PaymentService/Charge][intercept]: 0.7322807594252826
__main__ - training_phase(line:2901) - INFO - coef_dict[checkoutservice][checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder][checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder]: 0.0001364372975024
__main__ - training_phase(line:2901) - INFO - coef_dict[checkoutservice][checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder][intercept]: -5.633727951982855
__main__ - training_phase(line:2901) - INFO - coef_dict[recommendationservice][recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations][recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations]: 8.942462953450725e-05
__main__ - training_phase(line:2901) - INFO - coef_dict[recommendationservice][recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations][intercept]: -13.192377235381432
__main__ - training_phase(line:2901) - INFO - coef_dict[sslateingress][sslateingress@POST@/cart/checkout][sslateingress@POST@/cart/checkout]: 1.663884044632706e-05
__main__ - training_phase(line:2901) - INFO - coef_dict[sslateingress][sslateingress@POST@/cart/checkout][intercept]: 1.0868519851102758
__main__ - training_phase(line:2901) - INFO - coef_dict[cartservice][cartservice@POST@/hipstershop.CartService/GetCart][cartservice@POST@/hipstershop.CartService/GetCart]: 8.813330823536261e-06
__main__ - training_phase(line:2901) - INFO - coef_dict[cartservice][cartservice@POST@/hipstershop.CartService/GetCart][intercept]: 0.9452056491695048
__main__ - training_phase(line:2901) - INFO - coef_dict[shippingservice][shippingservice@POST@/hipstershop.ShippingService/ShipOrder][shippingservice@POST@/hipstershop.ShippingService/ShipOrder]: 3.358173659059789e-06
__main__ - training_phase(line:2901) - INFO - coef_dict[shippingservice][shippingservice@POST@/hipstershop.ShippingService/ShipOrder][intercept]: 0.6245698521639249
__main__ - training_phase(line:2923) - INFO - final coef_dict[emailservice][emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation]: {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 6.244809568429129e-06, 'intercept': 0.6987102362698281}
__main__ - training_phase(line:2923) - INFO - final coef_dict[frontend][frontend@POST@/cart/checkout]: {'frontend@POST@/cart/checkout': 3.73107486513784e-05, 'intercept': 0.2560584348954728}
__main__ - training_phase(line:2923) - INFO - final coef_dict[paymentservice][paymentservice@POST@/hipstershop.PaymentService/Charge]: {'paymentservice@POST@/hipstershop.PaymentService/Charge': 5.541307960266252e-06, 'intercept': 0.7322807594252826}
__main__ - training_phase(line:2923) - INFO - final coef_dict[checkoutservice][checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder]: {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 0.0001364372975024, 'intercept': 1}
__main__ - training_phase(line:2923) - INFO - final coef_dict[recommendationservice][recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations]: {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 8.942462953450725e-05, 'intercept': 1}
__main__ - training_phase(line:2923) - INFO - final coef_dict[sslateingress][sslateingress@POST@/cart/checkout]: {'sslateingress@POST@/cart/checkout': 1.663884044632706e-05, 'intercept': 1.0868519851102758}
__main__ - training_phase(line:2923) - INFO - final coef_dict[cartservice][cartservice@POST@/hipstershop.CartService/GetCart]: {'cartservice@POST@/hipstershop.CartService/GetCart': 8.813330823536261e-06, 'intercept': 0.9452056491695048}
__main__ - training_phase(line:2923) - INFO - final coef_dict[shippingservice][shippingservice@POST@/hipstershop.ShippingService/ShipOrder]: {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 3.358173659059789e-06, 'intercept': 0.6245698521639249}
__main__ - training_phase(line:2930) - INFO - final coef_dict[emailservice][emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation]: {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 6.244809568429129e-06, 'intercept': 0.6987102362698281}
__main__ - training_phase(line:2930) - INFO - final coef_dict[frontend][frontend@POST@/cart/checkout]: {'frontend@POST@/cart/checkout': 0.0002745620070413, 'intercept': 1}
__main__ - training_phase(line:2930) - INFO - final coef_dict[paymentservice][paymentservice@POST@/hipstershop.PaymentService/Charge]: {'paymentservice@POST@/hipstershop.PaymentService/Charge': 5.541307960266252e-06, 'intercept': 0.7322807594252826}
__main__ - training_phase(line:2930) - INFO - final coef_dict[checkoutservice][checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder]: {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 0.0001488901710063, 'intercept': 1}
__main__ - training_phase(line:2930) - INFO - final coef_dict[recommendationservice][recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations]: {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 8.942462953450725e-05, 'intercept': 1}
__main__ - training_phase(line:2930) - INFO - final coef_dict[sslateingress][sslateingress@POST@/cart/checkout]: {'sslateingress@POST@/cart/checkout': 0.0002957236895652, 'intercept': 1}
__main__ - training_phase(line:2930) - INFO - final coef_dict[cartservice][cartservice@POST@/hipstershop.CartService/GetCart]: {'cartservice@POST@/hipstershop.CartService/GetCart': 8.813330823536261e-06, 'intercept': 0.9452056491695048}
__main__ - training_phase(line:2930) - INFO - final coef_dict[shippingservice][shippingservice@POST@/hipstershop.ShippingService/ShipOrder]: {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 3.358173659059789e-06, 'intercept': 0.6245698521639249}
__main__ - training_phase(line:2938) - INFO - train_done. duration: 0.07897424697875977 sec
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1944) - ERROR - !!! Skip optimizer !!! all root_node_rps all regions are 0
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-12, gap: 1.0008552074432373
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1944) - ERROR - !!! Skip optimizer !!! all root_node_rps all regions are 0
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-13, gap: 1.006204605102539
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-14, gap: 0.9901244640350342
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - optimizer_entrypoint(line:1944) - ERROR - !!! Skip optimizer !!! all root_node_rps all regions are 0
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-15, gap: 0.9999372959136963
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1944) - ERROR - !!! Skip optimizer !!! all root_node_rps all regions are 0
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-16, gap: 0.9999563694000244
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - optimizer_entrypoint(line:1944) - ERROR - !!! Skip optimizer !!! all root_node_rps all regions are 0
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(180) at sslateingress > total capcity(0) at frontend
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-17, gap: 1.017674446105957
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,39
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,34
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,61
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,46
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,46 -> new_capacity, 46
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,46 -> new_capacity, 46
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,46 -> new_capacity, 46
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,46 -> new_capacity, 46
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-18 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-18
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 130}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 180}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 170}, 'frontend': {'frontend@POST@/cart/checkout': 156}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 86}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 69}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 119}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 124}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:39:10 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-18, gap: 1.012528419494629
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,39
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,34
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,61
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,93
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.10758519172668457
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.7260336875915527 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-19
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-19, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,19,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,93,93,1.0
,19,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,34,34,1.0
,19,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,39,39,1.0
,19,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,61,61,1.0
,19,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,93,93,1.0
,19,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,34,34,1.0
,19,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,39,39,1.0
,19,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,61,61,1.0
,19,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,93,93,1.0
,19,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,34,34,1.0
,19,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,39,39,1.0
,19,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,61,61,1.0
,19,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,93,93,1.0
,19,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,34,34,1.0
,19,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,39,39,1.0
,19,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,61,61,1.0
,19,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,93,93,1.0
,19,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,34,34,1.0
,19,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,39,39,1.0
,19,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,61,61,1.0
,19,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,93,93,1.0
,19,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,34,34,1.0
,19,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,39,39,1.0
,19,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,61,61,1.0
,19,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,93,93,1.0
,19,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,34,34,1.0
,19,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,39,39,1.0
,19,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,61,61,1.0
,19,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,93,227,0.40969162995594716
,19,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,34,227,0.14977973568281938
,19,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,39,227,0.17180616740088106
,19,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,61,227,0.2687224669603524

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-19, gap: 0.9858269691467285
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,173
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,61
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,61
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,200
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(495) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,124 -> new_capacity, 124
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,124 -> new_capacity, 124
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,124 -> new_capacity, 124
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,124 -> new_capacity, 124
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-20 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-20
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 587}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 495}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 400}, 'frontend': {'frontend@POST@/cart/checkout': 405}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 378}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 403}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 333}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2049}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:39:12 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-20, gap: 1.0229201316833496
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,173
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,145
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,77
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,200
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.4057431221008301
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.3387458324432373 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-21
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-21, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,21,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,199,201,0.9900497512437811
,21,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,2,201,0.009950248756218905
,21,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,61,61,1.0
,21,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-south-1,7,174,0.040229885057471264
,21,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,167,174,0.9597701149425287
,21,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,61,61,1.0
,21,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,199,199,1.0
,21,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,69,69,1.0
,21,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,167,167,1.0
,21,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,62,62,1.0
,21,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,199,199,1.0
,21,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,69,69,1.0
,21,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,167,167,1.0
,21,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,62,62,1.0
,21,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,199,199,1.0
,21,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,69,69,1.0
,21,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,167,167,1.0
,21,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,62,62,1.0
,21,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,199,199,1.0
,21,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,69,69,1.0
,21,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,167,167,1.0
,21,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,62,62,1.0
,21,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,199,199,1.0
,21,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,69,69,1.0
,21,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,167,167,1.0
,21,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,62,62,1.0
,21,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,199,199,1.0
,21,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,69,69,1.0
,21,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,167,167,1.0
,21,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,62,62,1.0
,21,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,200,495,0.40404040404040403
,21,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,61,495,0.12323232323232323
,21,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,173,495,0.34949494949494947
,21,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,61,495,0.12323232323232323

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(654) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,164 -> new_capacity, 164
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,164 -> new_capacity, 164
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,164 -> new_capacity, 164
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,164 -> new_capacity, 164
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-21 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-21
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 672}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 654}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 657}, 'frontend': {'frontend@POST@/cart/checkout': 715}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 599}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 604}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 634}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2390}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-21, gap: 0.9880633354187012
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,185
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,159
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,93
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,217
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:39:14 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-22, gap: 0.9938597679138184
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,190
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,158
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,111
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,259
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.3135714530944824
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.5396044254302979 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-23
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-23, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,23,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,217,217,1.0
,23,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,159,159,1.0
,23,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,185,185,1.0
,23,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,93,93,1.0
,23,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,217,217,1.0
,23,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,23,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,185,185,1.0
,23,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,94,94,1.0
,23,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,217,217,1.0
,23,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,23,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,185,185,1.0
,23,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,94,94,1.0
,23,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,217,217,1.0
,23,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,23,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,185,185,1.0
,23,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,94,94,1.0
,23,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,217,217,1.0
,23,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,23,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,185,185,1.0
,23,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,94,94,1.0
,23,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,217,217,1.0
,23,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,23,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,185,185,1.0
,23,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,94,94,1.0
,23,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,217,217,1.0
,23,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,23,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,185,185,1.0
,23,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,94,94,1.0
,23,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,217,654,0.3318042813455658
,23,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,159,654,0.24311926605504589
,23,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,185,654,0.28287461773700306
,23,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,93,654,0.14220183486238533

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(736) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,185 -> new_capacity, 185
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,185 -> new_capacity, 185
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,185 -> new_capacity, 185
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,185 -> new_capacity, 185
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-23 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-23
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 729}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 736}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 690}, 'frontend': {'frontend@POST@/cart/checkout': 717}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 722}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 719}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 674}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2417}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-23, gap: 0.9980981349945068
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,213
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,155
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,111
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,257
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:39:16 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-24, gap: 0.989678144454956
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,197
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,155
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,110
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,258
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.5190880298614502
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.78987717628479 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-25
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-25, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,25,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,249,258,0.9651162790697675
,25,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,9,258,0.03488372093023256
,25,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,155,155,1.0
,25,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,213,213,1.0
,25,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,111,111,1.0
,25,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,249,249,1.0
,25,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,164,164,1.0
,25,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,213,213,1.0
,25,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,112,112,1.0
,25,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,249,249,1.0
,25,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,164,164,1.0
,25,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,213,213,1.0
,25,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,112,112,1.0
,25,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,249,249,1.0
,25,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,164,164,1.0
,25,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,213,213,1.0
,25,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,112,112,1.0
,25,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,249,249,1.0
,25,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,164,164,1.0
,25,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,213,213,1.0
,25,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,112,112,1.0
,25,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,249,249,1.0
,25,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,164,164,1.0
,25,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,213,213,1.0
,25,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,112,112,1.0
,25,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,249,249,1.0
,25,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,164,164,1.0
,25,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,213,213,1.0
,25,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,112,112,1.0
,25,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,257,736,0.3491847826086957
,25,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,155,736,0.2105978260869565
,25,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,213,736,0.28940217391304346
,25,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,111,736,0.15081521739130435

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-25, gap: 0.9972546100616455
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,199
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,153
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,110
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,251
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(713) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-26 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-26
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 781}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 713}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 706}, 'frontend': {'frontend@POST@/cart/checkout': 714}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 716}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 681}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 718}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2397}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:39:18 UTC)" skipped: maximum number of running instances reached (1)
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-26, gap: 1.036926507949829
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,207
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,146
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,108
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,254
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.40186262130737305
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.4355263710021973 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-27
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-27, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,27,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,27,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,27,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,153,153,1.0
,27,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,199,199,1.0
,27,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,110,110,1.0
,27,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,27,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,159,159,1.0
,27,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,199,199,1.0
,27,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,111,111,1.0
,27,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,27,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,159,159,1.0
,27,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,199,199,1.0
,27,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,111,111,1.0
,27,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,27,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,159,159,1.0
,27,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,199,199,1.0
,27,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,111,111,1.0
,27,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,27,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,159,159,1.0
,27,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,199,199,1.0
,27,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,111,111,1.0
,27,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,27,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,159,159,1.0
,27,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,199,199,1.0
,27,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,111,111,1.0
,27,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,27,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,159,159,1.0
,27,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,199,199,1.0
,27,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,111,111,1.0
,27,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,713,0.3520336605890603
,27,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,153,713,0.21458625525946703
,27,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,199,713,0.2791023842917251
,27,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,110,713,0.15427769985974754

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(712) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-27 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-27
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 729}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 712}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 717}, 'frontend': {'frontend@POST@/cart/checkout': 708}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 693}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 733}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 728}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2443}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-27, gap: 0.9695255756378174
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,206
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,154
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,101
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,251
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:39:20 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-28, gap: 1.009361982345581
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,199
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,157
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,95
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,251
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.45596957206726074
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.4146037101745605 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-29
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-29, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,29,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,29,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,29,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,29,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,29,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,29,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,29,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,29,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,29,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,29,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,29,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,29,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,29,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,29,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,29,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,29,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,29,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,29,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,29,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,29,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,29,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,29,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,29,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,29,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,29,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,29,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,29,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,29,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,29,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,29,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,29,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,29,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,29,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(720) at sslateingress > total capcity(0) at frontend
__main__ - perform_jumping(line:292) - INFO - loghill temp_counter 29 (current ruleset  prev_processing_latency: 242.23958333333334, cur_processing_latency: 280.8058134840533
__main__ - calculate_ruleset_overperformance(line:722) - INFO - calculate_ruleset_overperformance: rules:
RangeIndex(start=0, stop=0, step=1)
__main__ - perform_jumping(line:297) - INFO - loghill ruleset_overperformance: {}
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-29, gap: 1.0231049060821533
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,205
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,157
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,97
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,261
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-30 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-30
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 728}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 720}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 723}, 'frontend': {'frontend@POST@/cart/checkout': 713}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 722}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 724}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 716}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2476}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
__main__ - perform_jumping(line:301) - INFO - loghill rules are different, stepping towards optimizer output, old rules:
dst_cid       us-central-1  us-east-1  us-south-1  us-west-1
src_cid                                                     
us-central-1           1.0        0.0         0.0        0.0
us-east-1              0.0        1.0         0.0        0.0
us-south-1             0.0        0.0         1.0        0.0
us-west-1              0.0        0.0         0.0        1.0, new rules:
dst_cid       us-central-1  us-east-1  us-south-1  us-west-1
src_cid                                                     
us-central-1           1.0    0.00000     0.00000        0.0
us-east-1              0.0    0.97619     0.02381        0.0
us-south-1             0.0    0.00000     1.00000        0.0
us-west-1              0.0    0.00000     0.00000        1.0, cur jumping_df:
Empty DataFrame
Columns: []
Index: []
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:39:22 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-30, gap: 0.9681365489959717
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,209
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,159
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,112
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,261
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.5667257308959961
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.8932044506072998 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-31
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-31, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,31,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,251,262,0.9580152671755725
,31,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,11,262,0.04198473282442748
,31,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,157,157,1.0
,31,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,205,205,1.0
,31,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,97,97,1.0
,31,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,251,251,1.0
,31,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,168,168,1.0
,31,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,205,205,1.0
,31,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,98,98,1.0
,31,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,251,251,1.0
,31,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,168,168,1.0
,31,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,205,205,1.0
,31,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,98,98,1.0
,31,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,251,251,1.0
,31,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,168,168,1.0
,31,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,205,205,1.0
,31,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,98,98,1.0
,31,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,251,251,1.0
,31,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,168,168,1.0
,31,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,205,205,1.0
,31,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,98,98,1.0
,31,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,251,251,1.0
,31,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,168,168,1.0
,31,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,205,205,1.0
,31,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,98,98,1.0
,31,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,251,251,1.0
,31,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,168,168,1.0
,31,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,205,205,1.0
,31,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,98,98,1.0
,31,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,261,720,0.3625
,31,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,157,720,0.21805555555555556
,31,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,205,720,0.2847222222222222
,31,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,97,720,0.13472222222222222

apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:39:23 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-31, gap: 1.0064697265625
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,209
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,159
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,110
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,253
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,31,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,31,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,31,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,31,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,31,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,31,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,31,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,31,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,31,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,31,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,31,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,31,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,31,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,31,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,31,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,31,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,31,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,31,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,31,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,31,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,31,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,31,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,31,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,31,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,31,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,31,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,31,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,31,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,31,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,31,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,31,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,31,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,31,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-32, gap: 0.9960126876831055
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,205
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,162
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,113
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,253
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(733) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,184 -> new_capacity, 184
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,184 -> new_capacity, 184
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,184 -> new_capacity, 184
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,184 -> new_capacity, 184
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-33 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-33
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 736}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 733}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 730}, 'frontend': {'frontend@POST@/cart/checkout': 715}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 747}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 736}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 715}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2440}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:39:25 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-33, gap: 0.9829630851745605
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,207
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,162
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,107
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,253
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.44031238555908203
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.757955551147461 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-34
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-34, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,34,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,250,254,0.984251968503937
,34,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,4,254,0.015748031496062992
,34,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,162,162,1.0
,34,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,205,205,1.0
,34,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,113,113,1.0
,34,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,250,250,1.0
,34,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,166,166,1.0
,34,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,205,205,1.0
,34,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,114,114,1.0
,34,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,250,250,1.0
,34,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,166,166,1.0
,34,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,205,205,1.0
,34,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,114,114,1.0
,34,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,250,250,1.0
,34,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,166,166,1.0
,34,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,205,205,1.0
,34,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,114,114,1.0
,34,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,250,250,1.0
,34,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,166,166,1.0
,34,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,205,205,1.0
,34,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,114,114,1.0
,34,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,250,250,1.0
,34,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,166,166,1.0
,34,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,205,205,1.0
,34,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,114,114,1.0
,34,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,250,250,1.0
,34,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,166,166,1.0
,34,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,205,205,1.0
,34,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,114,114,1.0
,34,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,253,733,0.3451568894952251
,34,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,162,733,0.22100954979536153
,34,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,205,733,0.27967257844474763
,34,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,113,733,0.15416098226466576

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,34,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,34,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,34,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,34,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,34,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,34,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,34,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,34,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,34,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,34,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,34,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,34,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,34,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,34,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,34,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,34,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,34,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,34,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,34,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,34,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,34,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,34,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,34,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,34,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,34,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,34,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,34,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,34,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,34,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,34,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,34,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,34,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,34,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-34, gap: 1.0465562343597412
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,199
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,154
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,97
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,255
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(705) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,177 -> new_capacity, 177
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,177 -> new_capacity, 177
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,177 -> new_capacity, 177
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,177 -> new_capacity, 177
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-35 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-35
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 709}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 705}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 732}, 'frontend': {'frontend@POST@/cart/checkout': 723}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 769}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 736}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 717}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2447}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:39:27 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-35, gap: 0.9845583438873291
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,198
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,157
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,97
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,249
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.5650324821472168
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.854877233505249 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-36
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-36, result: model solved
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:39:28 UTC)" skipped: maximum number of running instances reached (1)
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,36,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,248,256,0.96875
,36,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,8,256,0.03125
,36,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,36,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,199,199,1.0
,36,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,97,97,1.0
,36,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,248,248,1.0
,36,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,162,162,1.0
,36,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,199,199,1.0
,36,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,98,98,1.0
,36,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,248,248,1.0
,36,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,162,162,1.0
,36,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,199,199,1.0
,36,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,98,98,1.0
,36,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,248,248,1.0
,36,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,162,162,1.0
,36,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,199,199,1.0
,36,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,98,98,1.0
,36,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,248,248,1.0
,36,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,162,162,1.0
,36,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,199,199,1.0
,36,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,98,98,1.0
,36,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,248,248,1.0
,36,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,162,162,1.0
,36,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,199,199,1.0
,36,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,98,98,1.0
,36,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,248,248,1.0
,36,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,162,162,1.0
,36,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,199,199,1.0
,36,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,98,98,1.0
,36,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,255,705,0.3617021276595745
,36,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,705,0.21843971631205675
,36,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,199,705,0.2822695035460993
,36,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,97,705,0.1375886524822695

__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-36, gap: 0.982111930847168
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,204
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,157
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,102
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,250
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,36,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,36,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,36,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,36,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,36,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,36,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,36,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,36,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,36,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,36,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,36,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,36,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,36,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,36,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,36,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,36,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,36,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,36,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,36,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,36,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,36,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,36,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,36,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,36,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,36,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,36,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,36,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,36,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,36,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,36,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,36,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,36,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,36,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(717) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,180 -> new_capacity, 180
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-37, gap: 1.0077719688415527
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,217
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,153
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,99
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,248
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,180 -> new_capacity, 180
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,180 -> new_capacity, 180
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,180 -> new_capacity, 180
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-38 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-38
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 730}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 717}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 718}, 'frontend': {'frontend@POST@/cart/checkout': 731}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 705}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 720}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 723}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2474}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:39:30 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-38, gap: 0.9960918426513672
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,217
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,149
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,103
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,248
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:39:31 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-39, gap: 1.0030019283294678
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,203
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,147
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,103
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,260
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - perform_jumping(line:292) - INFO - loghill temp_counter 40 (current ruleset  prev_processing_latency: 280.8058134840533, cur_processing_latency: 119.66666666666667
__main__ - calculate_ruleset_overperformance(line:722) - INFO - calculate_ruleset_overperformance: rules:
Index(['src_svc', 'dst_svc', 'src_endpoint', 'dst_endpoint', 'src_cid',
       'dst_cid', 'flow', 'total', 'weight'],
      dtype='object')
__main__ - calculate_ruleset_overperformance(line:727) - INFO - calculate_ruleset_overperformance: src_regions: ['us-east-1' 'us-south-1' 'us-central-1' 'us-west-1']
__main__ - calculate_ruleset_overperformance(line:735) - INFO - calculate_ruleset_overperformance: src_region: us-east-1, dst_regions: ['us-east-1' 'us-south-1']
__main__ - calculate_ruleset_overperformance(line:754) - INFO - loghill calculate_ruleset_overperformance: src_region: us-east-1, dst_region: us-east-1, expected_latency: 17.61539441811131, actual_latency: 303.0, load in us-east-1 for this ruleset: 240.14285714285714
__main__ - calculate_ruleset_overperformance(line:754) - INFO - loghill calculate_ruleset_overperformance: src_region: us-east-1, dst_region: us-south-1, expected_latency: 7.260288322548682, actual_latency: 136.0, load in us-south-1 for this ruleset: 5.857142857142857
__main__ - perform_jumping(line:297) - INFO - loghill ruleset_overperformance: {'us-east-1': {'us-east-1': -68533.07456902212, 'us-south-1': -754.0468826822148}}
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.5365393161773682
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 2.0525059700012207 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-40
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-40, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,40,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,244,249,0.9799196787148594
,40,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,5,249,0.020080321285140562
,40,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,153,153,1.0
,40,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,214,218,0.981651376146789
,40,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-west-1,4,218,0.01834862385321101
,40,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,99,99,1.0
,40,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,244,244,1.0
,40,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,158,158,1.0
,40,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,214,214,1.0
,40,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,103,103,1.0
,40,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,244,244,1.0
,40,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,158,158,1.0
,40,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,214,214,1.0
,40,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,103,103,1.0
,40,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,244,244,1.0
,40,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,158,158,1.0
,40,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,214,214,1.0
,40,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,103,103,1.0
,40,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,244,244,1.0
,40,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,158,158,1.0
,40,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,214,214,1.0
,40,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,103,103,1.0
,40,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,244,244,1.0
,40,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,158,158,1.0
,40,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,214,214,1.0
,40,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,103,103,1.0
,40,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,244,244,1.0
,40,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,158,158,1.0
,40,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,214,214,1.0
,40,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,103,103,1.0
,40,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,248,717,0.3458856345885635
,40,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,153,717,0.21338912133891214
,40,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,217,717,0.30264993026499304
,40,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,99,717,0.13807531380753138

__main__ - perform_jumping(line:384) - INFO - loghill old cur_convex_comb_value: 0
__main__ - perform_jumping(line:393) - INFO - loghill new cur_convex_comb_value: 0.25
apscheduler.executors.default - run_job(line:131) - ERROR - Job "perform_jumping (trigger: interval[0:00:10], next run at: 2024-10-28 03:39:41 UTC)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/app/global_controller.py", line 396, in perform_jumping
    jumping_df = jump_towards_optimizer_desired(starting_df, desired_df, cur_convex_comb_value).copy()
  File "/app/global_controller.py", line 548, in jump_towards_optimizer_desired
    raise ValueError(f"{df_name} must contain columns: {required_columns} (has columns: {df.columns})")
ValueError: desired_df must contain columns: {'src_svc', 'dst_svc'} (has columns: RangeIndex(start=0, stop=0, step=1))
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,40,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,40,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,40,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,40,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,40,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,40,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,40,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,40,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,40,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,40,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,40,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,40,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,40,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,40,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,40,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,40,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,40,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,40,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,40,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,40,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,40,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,40,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,40,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,40,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,40,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,40,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,40,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,40,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,40,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,40,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,40,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,40,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,40,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(728) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,183 -> new_capacity, 183
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,183 -> new_capacity, 183
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,183 -> new_capacity, 183
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,183 -> new_capacity, 183
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-40, gap: 1.00081205368042
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,200
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,160
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,107
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,261
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-41 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-41
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 730}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 728}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 696}, 'frontend': {'frontend@POST@/cart/checkout': 709}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 747}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 716}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 707}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2462}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:39:33 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-41, gap: 0.9818768501281738
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,212
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,159
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,111
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,256
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.4340662956237793
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.6224315166473389 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-42
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-42, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,42,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,252,262,0.9618320610687023
,42,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,10,262,0.03816793893129771
,42,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,160,160,1.0
,42,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,200,200,1.0
,42,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,107,107,1.0
,42,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,252,252,1.0
,42,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,170,170,1.0
,42,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,200,200,1.0
,42,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,108,108,1.0
,42,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,252,252,1.0
,42,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,170,170,1.0
,42,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,200,200,1.0
,42,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,108,108,1.0
,42,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,252,252,1.0
,42,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,170,170,1.0
,42,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,200,200,1.0
,42,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,108,108,1.0
,42,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,252,252,1.0
,42,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,170,170,1.0
,42,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,200,200,1.0
,42,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,108,108,1.0
,42,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,252,252,1.0
,42,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,170,170,1.0
,42,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,200,200,1.0
,42,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,108,108,1.0
,42,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,252,252,1.0
,42,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,170,170,1.0
,42,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,200,200,1.0
,42,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,108,108,1.0
,42,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,261,728,0.3585164835164835
,42,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,160,728,0.21978021978021978
,42,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,200,728,0.27472527472527475
,42,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,107,728,0.14697802197802198

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,42,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,42,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,42,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,42,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,42,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,42,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,42,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,42,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,42,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,42,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,42,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,42,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,42,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,42,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,42,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,42,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,42,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,42,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,42,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,42,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,42,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,42,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,42,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,42,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,42,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,42,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,42,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,42,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,42,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,42,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,42,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,42,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,42,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(731) at sslateingress > total capcity(0) at frontend
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-42, gap: 1.0261151790618896
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,206
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,158
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,118
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,249
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,183 -> new_capacity, 183
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,183 -> new_capacity, 183
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,183 -> new_capacity, 183
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,183 -> new_capacity, 183
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-43 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-43
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 741}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 731}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 725}, 'frontend': {'frontend@POST@/cart/checkout': 708}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 745}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 751}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 704}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2435}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:39:35 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-43, gap: 0.9680383205413818
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,201
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,155
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,111
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,249
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.5164034366607666
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.7463676929473877 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-44
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-44, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,44,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,247,250,0.988
,44,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,3,250,0.012
,44,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,158,158,1.0
,44,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,44,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,118,118,1.0
,44,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,247,247,1.0
,44,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,161,161,1.0
,44,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,44,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,119,119,1.0
,44,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,247,247,1.0
,44,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,161,161,1.0
,44,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,44,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,119,119,1.0
,44,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,247,247,1.0
,44,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,161,161,1.0
,44,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,44,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,119,119,1.0
,44,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,247,247,1.0
,44,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,161,161,1.0
,44,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,44,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,119,119,1.0
,44,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,247,247,1.0
,44,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,161,161,1.0
,44,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,44,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,119,119,1.0
,44,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,247,247,1.0
,44,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,161,161,1.0
,44,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,44,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,119,119,1.0
,44,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,249,731,0.34062927496580025
,44,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,158,731,0.2161422708618331
,44,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,731,0.2818057455540356
,44,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,118,731,0.16142270861833105

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,44,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,44,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,44,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,44,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,44,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,44,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,44,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,44,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,44,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,44,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,44,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,44,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,44,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,44,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,44,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,44,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,44,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,44,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,44,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,44,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,44,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,44,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,44,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,44,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,44,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,44,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,44,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,44,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,44,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,44,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,44,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,44,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,44,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(709) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,178 -> new_capacity, 178
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,178 -> new_capacity, 178
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,178 -> new_capacity, 178
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,178 -> new_capacity, 178
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-44, gap: 1.037649393081665
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,208
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,148
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,111
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,242
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-45 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-45
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 755}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 709}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 717}, 'frontend': {'frontend@POST@/cart/checkout': 706}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 741}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 768}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 746}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2449}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:39:37 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-45, gap: 0.9656176567077637
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,207
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,148
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,110
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,240
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.4853954315185547
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.813525676727295 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-46
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-46, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,46,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,240,243,0.9876543209876543
,46,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,3,243,0.012345679012345678
,46,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,148,148,1.0
,46,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,208,208,1.0
,46,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,111,111,1.0
,46,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,240,240,1.0
,46,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,151,151,1.0
,46,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,208,208,1.0
,46,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,112,112,1.0
,46,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,240,240,1.0
,46,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,151,151,1.0
,46,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,208,208,1.0
,46,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,112,112,1.0
,46,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,240,240,1.0
,46,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,151,151,1.0
,46,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,208,208,1.0
,46,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,112,112,1.0
,46,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,240,240,1.0
,46,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,151,151,1.0
,46,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,208,208,1.0
,46,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,112,112,1.0
,46,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,240,240,1.0
,46,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,151,151,1.0
,46,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,208,208,1.0
,46,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,112,112,1.0
,46,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,240,240,1.0
,46,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,151,151,1.0
,46,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,208,208,1.0
,46,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,112,112,1.0
,46,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,242,709,0.34132581100141046
,46,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,148,709,0.20874471086036672
,46,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,208,709,0.2933709449929478
,46,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,111,709,0.15655853314527504

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,46,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,46,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,46,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,46,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,46,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,46,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,46,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,46,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,46,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,46,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,46,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,46,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,46,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,46,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,46,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,46,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,46,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,46,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,46,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,46,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,46,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,46,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,46,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,46,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,46,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,46,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,46,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,46,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,46,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,46,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,46,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,46,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,46,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-46, gap: 1.00496506690979
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,203
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,159
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,110
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,252
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(724) at sslateingress > total capcity(0) at frontend
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,182 -> new_capacity, 182
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,182 -> new_capacity, 182
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,182 -> new_capacity, 182
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,182 -> new_capacity, 182
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-47 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-47
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 738}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 724}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 720}, 'frontend': {'frontend@POST@/cart/checkout': 704}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 737}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 711}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 772}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2436}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:39:39 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-47, gap: 1.0126471519470215
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,203
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,165
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,106
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,252
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.5176012516021729
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.7260043621063232 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-48
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-48, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,48,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,248,253,0.9802371541501976
,48,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,5,253,0.019762845849802372
,48,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,159,159,1.0
,48,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,203,203,1.0
,48,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,110,110,1.0
,48,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,248,248,1.0
,48,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,164,164,1.0
,48,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,203,203,1.0
,48,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,111,111,1.0
,48,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,248,248,1.0
,48,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,164,164,1.0
,48,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,203,203,1.0
,48,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,111,111,1.0
,48,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,248,248,1.0
,48,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,164,164,1.0
,48,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,203,203,1.0
,48,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,111,111,1.0
,48,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,248,248,1.0
,48,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,164,164,1.0
,48,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,203,203,1.0
,48,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,111,111,1.0
,48,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,248,248,1.0
,48,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,164,164,1.0
,48,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,203,203,1.0
,48,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,111,111,1.0
,48,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,248,248,1.0
,48,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,164,164,1.0
,48,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,203,203,1.0
,48,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,111,111,1.0
,48,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,252,724,0.34806629834254144
,48,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,159,724,0.21961325966850828
,48,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,203,724,0.2803867403314917
,48,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,110,724,0.15193370165745856

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,48,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,48,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,48,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,48,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,48,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,48,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,48,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,48,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,48,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,48,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,48,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,48,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,48,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,48,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,48,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,48,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,48,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,48,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,48,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,48,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,48,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,48,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,48,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,48,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,48,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,48,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,48,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,48,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,48,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,48,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,48,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,48,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,48,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-48, gap: 0.9915571212768555
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,202
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,162
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,106
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,249
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(719) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,180 -> new_capacity, 180
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,180 -> new_capacity, 180
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,180 -> new_capacity, 180
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,180 -> new_capacity, 180
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-49 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-49
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 714}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 719}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 723}, 'frontend': {'frontend@POST@/cart/checkout': 733}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 703}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 695}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 738}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2443}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:39:41 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-49, gap: 1.0056447982788086
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,204
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,160
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,93
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,248
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - perform_jumping(line:292) - INFO - loghill temp_counter 50 (current ruleset  prev_processing_latency: 119.66666666666667, cur_processing_latency: 314.83414494414205
__main__ - calculate_ruleset_overperformance(line:722) - INFO - calculate_ruleset_overperformance: rules:
Index(['src_svc', 'dst_svc', 'src_endpoint', 'dst_endpoint', 'src_cid',
       'dst_cid', 'flow', 'total', 'weight'],
      dtype='object')
__main__ - calculate_ruleset_overperformance(line:727) - INFO - calculate_ruleset_overperformance: src_regions: ['us-east-1' 'us-south-1' 'us-central-1' 'us-west-1']
__main__ - calculate_ruleset_overperformance(line:735) - INFO - calculate_ruleset_overperformance: src_region: us-east-1, dst_regions: ['us-east-1' 'us-south-1']
__main__ - calculate_ruleset_overperformance(line:754) - INFO - loghill calculate_ruleset_overperformance: src_region: us-east-1, dst_region: us-east-1, expected_latency: 18.574439508706572, actual_latency: 438.63134232498396, load in us-east-1 for this ruleset: 246.97619047619048
__main__ - calculate_ruleset_overperformance(line:754) - INFO - loghill calculate_ruleset_overperformance: src_region: us-east-1, dst_region: us-south-1, expected_latency: 8.749238086733651, actual_latency: 135.9869109947644, load in us-south-1 for this ruleset: 6.023809523809524
__main__ - perform_jumping(line:297) - INFO - loghill ruleset_overperformance: {'us-east-1': {'us-east-1': -103744.05364079156, 'us-south-1': -766.4555058507566}}
__main__ - perform_jumping(line:382) - INFO - loghill reversing direction from 1 to -1
__main__ - perform_jumping(line:384) - INFO - loghill old cur_convex_comb_value: 0.25
__main__ - perform_jumping(line:393) - INFO - loghill new cur_convex_comb_value: 0.0
apscheduler.executors.default - run_job(line:131) - ERROR - Job "perform_jumping (trigger: interval[0:00:10], next run at: 2024-10-28 03:39:51 UTC)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/app/global_controller.py", line 396, in perform_jumping
    jumping_df = jump_towards_optimizer_desired(starting_df, desired_df, cur_convex_comb_value).copy()
  File "/app/global_controller.py", line 548, in jump_towards_optimizer_desired
    raise ValueError(f"{df_name} must contain columns: {required_columns} (has columns: {df.columns})")
ValueError: desired_df must contain columns: {'src_svc', 'dst_svc'} (has columns: RangeIndex(start=0, stop=0, step=1))
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.38742709159851074
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.7850708961486816 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-50
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-50, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,50,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,248,250,0.992
,50,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,2,250,0.008
,50,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,162,162,1.0
,50,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,202,202,1.0
,50,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,106,106,1.0
,50,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,248,248,1.0
,50,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,164,164,1.0
,50,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,202,202,1.0
,50,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,107,107,1.0
,50,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,248,248,1.0
,50,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,164,164,1.0
,50,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,202,202,1.0
,50,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,107,107,1.0
,50,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,248,248,1.0
,50,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,164,164,1.0
,50,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,202,202,1.0
,50,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,107,107,1.0
,50,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,248,248,1.0
,50,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,164,164,1.0
,50,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,202,202,1.0
,50,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,107,107,1.0
,50,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,248,248,1.0
,50,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,164,164,1.0
,50,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,202,202,1.0
,50,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,107,107,1.0
,50,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,248,248,1.0
,50,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,164,164,1.0
,50,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,202,202,1.0
,50,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,107,107,1.0
,50,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,249,719,0.3463143254520167
,50,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,162,719,0.22531293463143254
,50,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,202,719,0.2809457579972184
,50,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,106,719,0.1474269819193324

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,50,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,50,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,50,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,50,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,50,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,50,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,50,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,50,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,50,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,50,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,50,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,50,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,50,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,50,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,50,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,50,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,50,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,50,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,50,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,50,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,50,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,50,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,50,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,50,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,50,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,50,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,50,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,50,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,50,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,50,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,50,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,50,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,50,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-50, gap: 0.9964916706085205
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,200
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,166
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,93
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,243
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(702) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,176 -> new_capacity, 176
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,176 -> new_capacity, 176
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,176 -> new_capacity, 176
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,176 -> new_capacity, 176
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-51 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-51
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 767}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 702}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 721}, 'frontend': {'frontend@POST@/cart/checkout': 726}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 716}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 712}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 706}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2463}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:39:43 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-51, gap: 0.9708328247070312
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,200
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,158
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,93
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,251
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.40981483459472656
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.7196614742279053 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-52
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-52, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,52,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,243,243,1.0
,52,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,166,166,1.0
,52,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,200,200,1.0
,52,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,93,93,1.0
,52,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,243,243,1.0
,52,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,167,167,1.0
,52,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,200,200,1.0
,52,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,94,94,1.0
,52,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,243,243,1.0
,52,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,167,167,1.0
,52,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,200,200,1.0
,52,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,94,94,1.0
,52,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,243,243,1.0
,52,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,167,167,1.0
,52,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,200,200,1.0
,52,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,94,94,1.0
,52,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,243,243,1.0
,52,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,167,167,1.0
,52,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,200,200,1.0
,52,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,94,94,1.0
,52,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,243,243,1.0
,52,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,167,167,1.0
,52,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,200,200,1.0
,52,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,94,94,1.0
,52,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,243,243,1.0
,52,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,167,167,1.0
,52,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,200,200,1.0
,52,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,94,94,1.0
,52,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,243,702,0.34615384615384615
,52,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,166,702,0.23646723646723647
,52,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,200,702,0.2849002849002849
,52,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,93,702,0.13247863247863248

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,52,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,52,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,52,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,52,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,52,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,52,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,52,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,52,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,52,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,52,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,52,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,52,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,52,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,52,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,52,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,52,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,52,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,52,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,52,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,52,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,52,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,52,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,52,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,52,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,52,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,52,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,52,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,52,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,52,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,52,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,52,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,52,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,52,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-52, gap: 0.9960422515869141
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,200
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,171
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,96
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,239
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(706) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,177 -> new_capacity, 177
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,177 -> new_capacity, 177
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,177 -> new_capacity, 177
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,177 -> new_capacity, 177
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-53 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-53
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 757}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 706}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 713}, 'frontend': {'frontend@POST@/cart/checkout': 728}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 716}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 698}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 704}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2465}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:39:45 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-53, gap: 0.9901697635650635
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,197
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,165
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,96
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,240
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.36334228515625
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.5090675354003906 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-54
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-54, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,54,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,239,239,1.0
,54,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,171,171,1.0
,54,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,200,200,1.0
,54,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,96,96,1.0
,54,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,239,239,1.0
,54,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,172,172,1.0
,54,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,200,200,1.0
,54,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,97,97,1.0
,54,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,239,239,1.0
,54,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,172,172,1.0
,54,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,200,200,1.0
,54,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,97,97,1.0
,54,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,239,239,1.0
,54,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,172,172,1.0
,54,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,200,200,1.0
,54,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,97,97,1.0
,54,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,239,239,1.0
,54,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,172,172,1.0
,54,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,200,200,1.0
,54,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,97,97,1.0
,54,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,239,239,1.0
,54,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,172,172,1.0
,54,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,200,200,1.0
,54,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,97,97,1.0
,54,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,239,239,1.0
,54,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,172,172,1.0
,54,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,200,200,1.0
,54,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,97,97,1.0
,54,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,239,706,0.3385269121813031
,54,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,171,706,0.24220963172804533
,54,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,200,706,0.28328611898017
,54,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,96,706,0.1359773371104816

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,54,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,54,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,54,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,54,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,54,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,54,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,54,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,54,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,54,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,54,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,54,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,54,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,54,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,54,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,54,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,54,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,54,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,54,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,54,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,54,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,54,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,54,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,54,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,54,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,54,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,54,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,54,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,54,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,54,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,54,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,54,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,54,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,54,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(701) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,176 -> new_capacity, 176
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,176 -> new_capacity, 176
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,176 -> new_capacity, 176
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,176 -> new_capacity, 176
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-54 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-54
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 760}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 701}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 722}, 'frontend': {'frontend@POST@/cart/checkout': 710}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 717}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 701}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 710}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2464}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-54, gap: 1.0329267978668213
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,197
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,160
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,104
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,240
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:39:47 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-55, gap: 1.0396740436553955
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,194
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,159
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,101
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,250
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.32408571243286133
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.762108325958252 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-56
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-56, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,56,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,240,240,1.0
,56,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,160,160,1.0
,56,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,197,197,1.0
,56,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,104,104,1.0
,56,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,240,240,1.0
,56,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,161,161,1.0
,56,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,197,197,1.0
,56,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,105,105,1.0
,56,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,240,240,1.0
,56,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,161,161,1.0
,56,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,197,197,1.0
,56,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,105,105,1.0
,56,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,240,240,1.0
,56,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,161,161,1.0
,56,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,197,197,1.0
,56,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,105,105,1.0
,56,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,240,240,1.0
,56,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,161,161,1.0
,56,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,197,197,1.0
,56,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,105,105,1.0
,56,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,240,240,1.0
,56,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,161,161,1.0
,56,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,197,197,1.0
,56,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,105,105,1.0
,56,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,240,240,1.0
,56,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,161,161,1.0
,56,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,197,197,1.0
,56,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,105,105,1.0
,56,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,240,701,0.34236804564907275
,56,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,160,701,0.2282453637660485
,56,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,197,701,0.2810271041369472
,56,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,104,701,0.14835948644793154

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,56,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,56,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,56,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,56,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,56,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,56,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,56,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,56,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,56,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,56,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,56,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,56,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,56,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,56,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,56,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,56,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,56,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,56,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,56,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,56,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,56,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,56,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,56,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,56,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,56,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,56,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,56,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,56,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,56,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,56,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,56,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,56,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,56,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-56, gap: 0.9696342945098877
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,201
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,154
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,102
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,257
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(714) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-57 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-57
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 751}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 714}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 718}, 'frontend': {'frontend@POST@/cart/checkout': 726}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 705}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 721}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 734}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2448}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:39:49 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-57, gap: 0.9705910682678223
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,213
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,154
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,102
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,256
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.5197248458862305
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.827939510345459 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-58
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-58, result: model solved
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:39:50 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-58, gap: 1.0223863124847412
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,206
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,157
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,104
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,253
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,58,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,248,258,0.9612403100775194
,58,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,10,258,0.03875968992248062
,58,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,58,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,201,201,1.0
,58,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,102,102,1.0
,58,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,248,248,1.0
,58,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,164,164,1.0
,58,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,201,201,1.0
,58,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,103,103,1.0
,58,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,248,248,1.0
,58,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,164,164,1.0
,58,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,201,201,1.0
,58,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,103,103,1.0
,58,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,248,248,1.0
,58,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,164,164,1.0
,58,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,201,201,1.0
,58,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,103,103,1.0
,58,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,248,248,1.0
,58,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,164,164,1.0
,58,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,201,201,1.0
,58,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,103,103,1.0
,58,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,248,248,1.0
,58,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,164,164,1.0
,58,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,201,201,1.0
,58,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,103,103,1.0
,58,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,248,248,1.0
,58,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,164,164,1.0
,58,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,201,201,1.0
,58,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,103,103,1.0
,58,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,257,714,0.3599439775910364
,58,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,714,0.21568627450980393
,58,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,201,714,0.2815126050420168
,58,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,102,714,0.14285714285714285

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,59,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,59,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,59,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,59,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,59,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,59,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,59,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,59,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,59,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,59,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,59,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,59,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,59,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,59,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,59,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,59,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,59,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,59,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,59,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,59,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,59,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,59,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,59,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,59,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,59,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,59,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,59,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,59,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,59,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,59,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,59,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,59,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,59,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(713) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-59 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-59
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 758}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 713}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 715}, 'frontend': {'frontend@POST@/cart/checkout': 718}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 745}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 690}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 673}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2442}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
__main__ - perform_jumping(line:292) - INFO - loghill temp_counter 59 (current ruleset  prev_processing_latency: 314.83414494414205, cur_processing_latency: 282.2768052516411
__main__ - calculate_ruleset_overperformance(line:722) - INFO - calculate_ruleset_overperformance: rules:
Index(['src_svc', 'dst_svc', 'src_endpoint', 'dst_endpoint', 'src_cid',
       'dst_cid', 'flow', 'total', 'weight'],
      dtype='object')
__main__ - calculate_ruleset_overperformance(line:727) - INFO - calculate_ruleset_overperformance: src_regions: ['us-east-1' 'us-south-1' 'us-central-1' 'us-west-1']
__main__ - calculate_ruleset_overperformance(line:735) - INFO - calculate_ruleset_overperformance: src_region: us-east-1, dst_regions: ['us-east-1' 'us-south-1']
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-59, gap: 1.007246732711792
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,195
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,169
__main__ - calculate_ruleset_overperformance(line:754) - INFO - loghill calculate_ruleset_overperformance: src_region: us-east-1, dst_region: us-east-1, expected_latency: 19.134546003070824, actual_latency: 0, load in us-east-1 for this ruleset: 250.88095238095238
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,104
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,245
__main__ - calculate_ruleset_overperformance(line:754) - INFO - loghill calculate_ruleset_overperformance: src_region: us-east-1, dst_region: us-south-1, expected_latency: 7.427222022829792, actual_latency: 137.50507614213197, load in us-south-1 for this ruleset: 6.119047619047619
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - perform_jumping(line:297) - INFO - loghill ruleset_overperformance: {'us-east-1': {'us-east-1': 4800.493124627554, 'us-south-1': -795.9525835395394}}
__main__ - perform_jumping(line:384) - INFO - loghill old cur_convex_comb_value: 0.0
__main__ - perform_jumping(line:393) - INFO - loghill new cur_convex_comb_value: 0
apscheduler.executors.default - run_job(line:131) - ERROR - Job "perform_jumping (trigger: interval[0:00:10], next run at: 2024-10-28 03:40:01 UTC)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/app/global_controller.py", line 396, in perform_jumping
    jumping_df = jump_towards_optimizer_desired(starting_df, desired_df, cur_convex_comb_value).copy()
  File "/app/global_controller.py", line 548, in jump_towards_optimizer_desired
    raise ValueError(f"{df_name} must contain columns: {required_columns} (has columns: {df.columns})")
ValueError: desired_df must contain columns: {'src_svc', 'dst_svc'} (has columns: RangeIndex(start=0, stop=0, step=1))
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:39:52 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-60, gap: 0.9598195552825928
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,194
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,168
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,104
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,266
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:39:53 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.5210967063903809
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-61, gap: 1.1555559635162354
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,194
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,163
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,110
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,264
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 2.147243022918701 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-62
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-62, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,62,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,245,245,1.0
,62,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,169,169,1.0
,62,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,195,195,1.0
,62,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,104,104,1.0
,62,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,245,245,1.0
,62,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,169,169,1.0
,62,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,195,195,1.0
,62,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,104,104,1.0
,62,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,245,245,1.0
,62,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,169,169,1.0
,62,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,195,195,1.0
,62,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,104,104,1.0
,62,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,245,245,1.0
,62,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,169,169,1.0
,62,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,195,195,1.0
,62,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,104,104,1.0
,62,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,245,245,1.0
,62,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,169,169,1.0
,62,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,195,195,1.0
,62,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,104,104,1.0
,62,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,245,245,1.0
,62,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,169,169,1.0
,62,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,195,195,1.0
,62,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,104,104,1.0
,62,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,245,245,1.0
,62,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,169,169,1.0
,62,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,195,195,1.0
,62,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,104,104,1.0
,62,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,245,713,0.3436185133239832
,62,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,169,713,0.2370266479663394
,62,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,195,713,0.27349228611500703
,62,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,104,713,0.1458625525946704

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,62,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,62,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,62,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,62,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,62,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,62,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,62,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,62,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,62,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,62,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,62,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,62,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,62,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,62,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,62,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,62,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,62,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,62,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,62,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,62,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,62,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,62,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,62,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,62,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,62,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,62,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,62,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,62,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,62,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,62,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,62,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,62,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,62,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-62, gap: 0.8648216724395752
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,194
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,158
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,94
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,258
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(704) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,177 -> new_capacity, 177
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,177 -> new_capacity, 177
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,177 -> new_capacity, 177
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,177 -> new_capacity, 177
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-63 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-63
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 743}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 704}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 703}, 'frontend': {'frontend@POST@/cart/checkout': 734}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 738}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 711}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 727}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2451}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:39:55 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-63, gap: 0.9753572940826416
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,202
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,147
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,104
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,258
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.42939066886901855
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.7833337783813477 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-64
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-64, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,64,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,250,259,0.9652509652509652
,64,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,9,259,0.03474903474903475
,64,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,158,158,1.0
,64,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,194,194,1.0
,64,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,94,94,1.0
,64,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,250,250,1.0
,64,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,167,167,1.0
,64,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,194,194,1.0
,64,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,95,95,1.0
,64,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,250,250,1.0
,64,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,167,167,1.0
,64,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,194,194,1.0
,64,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,95,95,1.0
,64,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,250,250,1.0
,64,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,167,167,1.0
,64,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,194,194,1.0
,64,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,95,95,1.0
,64,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,250,250,1.0
,64,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,167,167,1.0
,64,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,194,194,1.0
,64,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,95,95,1.0
,64,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,250,250,1.0
,64,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,167,167,1.0
,64,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,194,194,1.0
,64,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,95,95,1.0
,64,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,250,250,1.0
,64,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,167,167,1.0
,64,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,194,194,1.0
,64,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,95,95,1.0
,64,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,258,704,0.3664772727272727
,64,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,158,704,0.22443181818181818
,64,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,194,704,0.2755681818181818
,64,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,94,704,0.13352272727272727

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,64,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,64,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,64,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,64,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,64,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,64,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,64,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,64,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,64,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,64,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,64,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,64,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,64,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,64,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,64,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,64,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,64,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,64,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,64,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,64,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,64,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,64,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,64,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,64,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,64,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,64,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,64,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,64,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,64,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,64,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,64,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,64,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,64,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-64, gap: 1.0186893939971924
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,202
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,147
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,110
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,257
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(716) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,180 -> new_capacity, 180
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,180 -> new_capacity, 180
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,180 -> new_capacity, 180
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,180 -> new_capacity, 180
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-65 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-65
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 733}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 716}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 717}, 'frontend': {'frontend@POST@/cart/checkout': 727}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 696}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 682}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 699}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2443}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:39:57 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-65, gap: 0.981971025466919
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,206
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,147
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,108
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,257
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.6152150630950928
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.9226045608520508 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-66
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-66, result: model solved
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:39:58 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-66, gap: 1.014465570449829
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,201
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,147
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,108
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,249
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,66,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,258,0.9534883720930233
,66,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,12,258,0.046511627906976744
,66,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,147,147,1.0
,66,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,202,202,1.0
,66,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,110,110,1.0
,66,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,66,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,159,159,1.0
,66,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,202,202,1.0
,66,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,110,110,1.0
,66,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,66,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,159,159,1.0
,66,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,202,202,1.0
,66,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,110,110,1.0
,66,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,66,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,159,159,1.0
,66,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,202,202,1.0
,66,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,110,110,1.0
,66,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,66,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,159,159,1.0
,66,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,202,202,1.0
,66,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,110,110,1.0
,66,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,66,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,159,159,1.0
,66,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,202,202,1.0
,66,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,110,110,1.0
,66,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,66,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,159,159,1.0
,66,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,202,202,1.0
,66,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,110,110,1.0
,66,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,257,716,0.35893854748603354
,66,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,147,716,0.2053072625698324
,66,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,202,716,0.28212290502793297
,66,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,110,716,0.15363128491620112

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,67,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,67,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,67,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,67,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,67,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,67,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,67,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,67,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,67,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,67,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,67,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,67,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,67,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,67,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,67,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,67,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,67,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,67,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,67,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,67,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,67,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,67,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,67,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,67,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,67,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,67,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,67,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,67,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,67,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,67,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,67,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,67,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,67,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(729) at sslateingress > total capcity(0) at frontend
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-67, gap: 1.0062885284423828
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,209
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,147
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,124
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,249
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,183 -> new_capacity, 183
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,183 -> new_capacity, 183
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,183 -> new_capacity, 183
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,183 -> new_capacity, 183
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-68 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-68
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 752}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 729}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 728}, 'frontend': {'frontend@POST@/cart/checkout': 737}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 729}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 695}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 696}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2415}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:40:00 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-68, gap: 0.9919795989990234
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,209
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,154
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,116
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,250
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.4964711666107178
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.7492702007293701 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-69
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-69, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,69,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,242,250,0.968
,69,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,8,250,0.032
,69,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,147,147,1.0
,69,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,209,209,1.0
,69,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,124,124,1.0
,69,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,242,242,1.0
,69,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,155,155,1.0
,69,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,209,209,1.0
,69,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,125,125,1.0
,69,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,242,242,1.0
,69,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,155,155,1.0
,69,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,209,209,1.0
,69,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,125,125,1.0
,69,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,242,242,1.0
,69,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,155,155,1.0
,69,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,209,209,1.0
,69,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,125,125,1.0
,69,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,242,242,1.0
,69,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,155,155,1.0
,69,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,209,209,1.0
,69,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,125,125,1.0
,69,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,242,242,1.0
,69,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,155,155,1.0
,69,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,209,209,1.0
,69,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,125,125,1.0
,69,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,242,242,1.0
,69,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,155,155,1.0
,69,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,209,209,1.0
,69,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,125,125,1.0
,69,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,249,729,0.34156378600823045
,69,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,147,729,0.20164609053497942
,69,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,209,729,0.28669410150891633
,69,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,124,729,0.1700960219478738

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,69,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,69,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,69,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,69,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,69,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,69,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,69,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,69,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,69,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,69,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,69,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,69,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,69,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,69,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,69,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,69,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,69,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,69,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,69,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,69,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,69,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,69,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,69,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,69,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,69,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,69,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,69,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,69,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,69,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,69,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,69,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,69,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,69,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-69, gap: 1.0055429935455322
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,209
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,154
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,108
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,254
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(725) at sslateingress > total capcity(0) at frontend
__main__ - perform_jumping(line:292) - INFO - loghill temp_counter 69 (current ruleset  prev_processing_latency: 282.2768052516411, cur_processing_latency: 236.56242118537202
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,182 -> new_capacity, 182
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,182 -> new_capacity, 182
__main__ - calculate_ruleset_overperformance(line:722) - INFO - calculate_ruleset_overperformance: rules:
Index(['src_svc', 'dst_svc', 'src_endpoint', 'dst_endpoint', 'src_cid',
       'dst_cid', 'flow', 'total', 'weight'],
      dtype='object')
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,182 -> new_capacity, 182
__main__ - calculate_ruleset_overperformance(line:727) - INFO - calculate_ruleset_overperformance: src_regions: ['us-east-1' 'us-south-1' 'us-central-1' 'us-west-1']
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,182 -> new_capacity, 182
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-70 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-70
__main__ - calculate_ruleset_overperformance(line:735) - INFO - calculate_ruleset_overperformance: src_region: us-east-1, dst_regions: ['us-east-1' 'us-south-1']
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - calculate_ruleset_overperformance(line:754) - INFO - loghill calculate_ruleset_overperformance: src_region: us-east-1, dst_region: us-east-1, expected_latency: 17.750753487582674, actual_latency: 410.5024549918167, load in us-east-1 for this ruleset: 241.11904761904762
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
__main__ - calculate_ruleset_overperformance(line:754) - INFO - loghill calculate_ruleset_overperformance: src_region: us-east-1, dst_region: us-south-1, expected_latency: 8.205605312791878, actual_latency: 138.4942084942085, load in us-south-1 for this ruleset: 5.8809523809523805
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 759}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 725}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 718}, 'frontend': {'frontend@POST@/cart/checkout': 717}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 673}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 711}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 708}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2442}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
__main__ - perform_jumping(line:297) - INFO - loghill ruleset_overperformance: {'us-east-1': {'us-east-1': -94699.91621746137, 'us-south-1': -766.2210710907119}}
__main__ - perform_jumping(line:384) - INFO - loghill old cur_convex_comb_value: 0
__main__ - perform_jumping(line:393) - INFO - loghill new cur_convex_comb_value: 0.25
apscheduler.executors.default - run_job(line:131) - ERROR - Job "perform_jumping (trigger: interval[0:00:10], next run at: 2024-10-28 03:40:11 UTC)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/app/global_controller.py", line 396, in perform_jumping
    jumping_df = jump_towards_optimizer_desired(starting_df, desired_df, cur_convex_comb_value).copy()
  File "/app/global_controller.py", line 548, in jump_towards_optimizer_desired
    raise ValueError(f"{df_name} must contain columns: {required_columns} (has columns: {df.columns})")
ValueError: desired_df must contain columns: {'src_svc', 'dst_svc'} (has columns: RangeIndex(start=0, stop=0, step=1))
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:40:02 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-70, gap: 1.0029230117797852
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,215
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,154
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,105
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,265
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:40:03 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-71, gap: 0.9932854175567627
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,207
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,154
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,105
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,265
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.5958988666534424
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 2.115102529525757 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-72
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-72, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,72,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,247,255,0.9686274509803922
,72,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,8,255,0.03137254901960784
,72,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,72,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,209,209,1.0
,72,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,108,108,1.0
,72,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,247,247,1.0
,72,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,162,162,1.0
,72,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,209,209,1.0
,72,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,109,109,1.0
,72,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,247,247,1.0
,72,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,162,162,1.0
,72,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,209,209,1.0
,72,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,109,109,1.0
,72,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,247,247,1.0
,72,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,162,162,1.0
,72,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,209,209,1.0
,72,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,109,109,1.0
,72,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,247,247,1.0
,72,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,162,162,1.0
,72,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,209,209,1.0
,72,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,109,109,1.0
,72,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,247,247,1.0
,72,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,162,162,1.0
,72,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,209,209,1.0
,72,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,109,109,1.0
,72,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,247,247,1.0
,72,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,162,162,1.0
,72,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,209,209,1.0
,72,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,109,109,1.0
,72,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,254,725,0.3503448275862069
,72,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,725,0.21241379310344827
,72,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,209,725,0.2882758620689655
,72,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,108,725,0.1489655172413793

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,72,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,72,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,72,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,72,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,72,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,72,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,72,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,72,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,72,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,72,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,72,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,72,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,72,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,72,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,72,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,72,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,72,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,72,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,72,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,72,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,72,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,72,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,72,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,72,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,72,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,72,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,72,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,72,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,72,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,72,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,72,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,72,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,72,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-72, gap: 0.994060754776001
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,203
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,154
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,105
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,265
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(727) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,182 -> new_capacity, 182
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,182 -> new_capacity, 182
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,182 -> new_capacity, 182
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,182 -> new_capacity, 182
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-73 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-73
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 748}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 727}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 722}, 'frontend': {'frontend@POST@/cart/checkout': 728}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 663}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 689}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 723}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2467}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:40:05 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-73, gap: 0.9903335571289062
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,208
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,155
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,103
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,264
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.4898102283477783
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.6998815536499023 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-74
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-74, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,74,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,252,266,0.9473684210526315
,74,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,14,266,0.05263157894736842
,74,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,74,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,203,203,1.0
,74,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,105,105,1.0
,74,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,252,252,1.0
,74,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,168,168,1.0
,74,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,203,203,1.0
,74,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,106,106,1.0
,74,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,252,252,1.0
,74,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,168,168,1.0
,74,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,203,203,1.0
,74,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,106,106,1.0
,74,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,252,252,1.0
,74,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,168,168,1.0
,74,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,203,203,1.0
,74,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,106,106,1.0
,74,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,252,252,1.0
,74,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,168,168,1.0
,74,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,203,203,1.0
,74,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,106,106,1.0
,74,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,252,252,1.0
,74,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,168,168,1.0
,74,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,203,203,1.0
,74,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,106,106,1.0
,74,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,252,252,1.0
,74,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,168,168,1.0
,74,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,203,203,1.0
,74,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,106,106,1.0
,74,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,265,727,0.36451169188445665
,74,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,727,0.21182943603851445
,74,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,203,727,0.2792297111416781
,74,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,105,727,0.14442916093535077

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,74,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,74,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,74,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,74,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,74,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,74,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,74,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,74,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,74,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,74,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,74,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,74,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,74,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,74,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,74,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,74,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,74,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,74,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,74,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,74,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,74,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,74,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,74,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,74,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,74,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,74,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,74,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,74,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,74,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,74,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,74,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,74,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,74,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-74, gap: 1.0081942081451416
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,206
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,161
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,100
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,253
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(720) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-75 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-75
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 729}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 720}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 705}, 'frontend': {'frontend@POST@/cart/checkout': 713}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 743}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 712}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 730}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2462}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:40:07 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-75, gap: 0.9955251216888428
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,201
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,157
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,102
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,252
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.455517053604126
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.5966236591339111 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-76
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-76, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,76,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,250,254,0.984251968503937
,76,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,4,254,0.015748031496062992
,76,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,161,161,1.0
,76,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,76,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,100,100,1.0
,76,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,250,250,1.0
,76,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,165,165,1.0
,76,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,76,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,101,101,1.0
,76,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,250,250,1.0
,76,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,165,165,1.0
,76,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,76,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,101,101,1.0
,76,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,250,250,1.0
,76,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,165,165,1.0
,76,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,76,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,101,101,1.0
,76,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,250,250,1.0
,76,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,165,165,1.0
,76,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,76,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,101,101,1.0
,76,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,250,250,1.0
,76,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,165,165,1.0
,76,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,76,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,101,101,1.0
,76,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,250,250,1.0
,76,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,165,165,1.0
,76,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,76,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,101,101,1.0
,76,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,253,720,0.35138888888888886
,76,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,161,720,0.22361111111111112
,76,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,720,0.2861111111111111
,76,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,100,720,0.1388888888888889

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,76,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,76,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,76,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,76,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,76,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,76,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,76,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,76,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,76,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,76,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,76,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,76,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,76,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,76,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,76,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,76,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,76,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,76,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,76,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,76,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,76,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,76,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,76,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,76,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,76,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,76,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,76,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,76,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,76,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,76,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,76,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,76,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,76,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-76, gap: 0.9956872463226318
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,210
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,154
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,95
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,249
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(708) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,178 -> new_capacity, 178
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,178 -> new_capacity, 178
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,178 -> new_capacity, 178
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,178 -> new_capacity, 178
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-77 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-77
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 752}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 708}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 720}, 'frontend': {'frontend@POST@/cart/checkout': 724}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 743}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 710}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 731}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2471}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:40:09 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-77, gap: 0.9977822303771973
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,205
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,154
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,95
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,254
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.5317316055297852
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.7884528636932373 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-78
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-78, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,78,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,245,250,0.98
,78,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,5,250,0.02
,78,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,78,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,210,211,0.995260663507109
,78,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-west-1,1,211,0.004739336492890996
,78,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,95,95,1.0
,78,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,245,245,1.0
,78,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,159,159,1.0
,78,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,210,210,1.0
,78,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,96,96,1.0
,78,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,245,245,1.0
,78,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,159,159,1.0
,78,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,210,210,1.0
,78,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,96,96,1.0
,78,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,245,245,1.0
,78,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,159,159,1.0
,78,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,210,210,1.0
,78,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,96,96,1.0
,78,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,245,245,1.0
,78,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,159,159,1.0
,78,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,210,210,1.0
,78,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,96,96,1.0
,78,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,245,245,1.0
,78,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,159,159,1.0
,78,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,210,210,1.0
,78,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,96,96,1.0
,78,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,245,245,1.0
,78,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,159,159,1.0
,78,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,210,210,1.0
,78,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,96,96,1.0
,78,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,249,708,0.3516949152542373
,78,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,708,0.2175141242937853
,78,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,210,708,0.2966101694915254
,78,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,95,708,0.134180790960452

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,78,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,78,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,78,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,78,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,78,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,78,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,78,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,78,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,78,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,78,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,78,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,78,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,78,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,78,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,78,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,78,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,78,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,78,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,78,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,78,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,78,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,78,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,78,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,78,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,78,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,78,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,78,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,78,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,78,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,78,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,78,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,78,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,78,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-78, gap: 1.027160882949829
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,200
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,149
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,99
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,254
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(702) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,176 -> new_capacity, 176
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,176 -> new_capacity, 176
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,176 -> new_capacity, 176
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,176 -> new_capacity, 176
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-79 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-79
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 741}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 702}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 709}, 'frontend': {'frontend@POST@/cart/checkout': 720}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 722}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 722}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 724}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2461}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:40:11 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-79, gap: 0.9935534000396729
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,206
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,152
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,99
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,254
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - perform_jumping(line:292) - INFO - loghill temp_counter 80 (current ruleset  prev_processing_latency: 236.56242118537202, cur_processing_latency: 241.69353089989158
__main__ - calculate_ruleset_overperformance(line:722) - INFO - calculate_ruleset_overperformance: rules:
Index(['src_svc', 'dst_svc', 'src_endpoint', 'dst_endpoint', 'src_cid',
       'dst_cid', 'flow', 'total', 'weight'],
      dtype='object')
__main__ - calculate_ruleset_overperformance(line:727) - INFO - calculate_ruleset_overperformance: src_regions: ['us-east-1' 'us-south-1' 'us-central-1' 'us-west-1']
__main__ - calculate_ruleset_overperformance(line:735) - INFO - calculate_ruleset_overperformance: src_region: us-east-1, dst_regions: ['us-east-1' 'us-south-1']
__main__ - calculate_ruleset_overperformance(line:754) - INFO - loghill calculate_ruleset_overperformance: src_region: us-east-1, dst_region: us-east-1, expected_latency: 18.435785695150713, actual_latency: 495.9873417721519, load in us-east-1 for this ruleset: 246.0
__main__ - calculate_ruleset_overperformance(line:754) - INFO - loghill calculate_ruleset_overperformance: src_region: us-east-1, dst_region: us-south-1, expected_latency: 8.2948379650803, actual_latency: 0, load in us-south-1 for this ruleset: 6.0
__main__ - perform_jumping(line:297) - INFO - loghill ruleset_overperformance: {'us-east-1': {'us-east-1': -117477.6827949423, 'us-south-1': 49.7690277904818}}
__main__ - perform_jumping(line:382) - INFO - loghill reversing direction from 1 to -1
__main__ - perform_jumping(line:384) - INFO - loghill old cur_convex_comb_value: 0.25
__main__ - perform_jumping(line:393) - INFO - loghill new cur_convex_comb_value: 0.0
apscheduler.executors.default - run_job(line:131) - ERROR - Job "perform_jumping (trigger: interval[0:00:10], next run at: 2024-10-28 03:40:21 UTC)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/app/global_controller.py", line 396, in perform_jumping
    jumping_df = jump_towards_optimizer_desired(starting_df, desired_df, cur_convex_comb_value).copy()
  File "/app/global_controller.py", line 548, in jump_towards_optimizer_desired
    raise ValueError(f"{df_name} must contain columns: {required_columns} (has columns: {df.columns})")
ValueError: desired_df must contain columns: {'src_svc', 'dst_svc'} (has columns: RangeIndex(start=0, stop=0, step=1))
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.41745448112487793
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.912503957748413 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-80
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-80, result: model solved
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:40:12 UTC)" skipped: maximum number of running instances reached (1)
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,80,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,245,255,0.9607843137254902
,80,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,10,255,0.0392156862745098
,80,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,149,149,1.0
,80,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,200,200,1.0
,80,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,99,99,1.0
,80,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,245,245,1.0
,80,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,159,159,1.0
,80,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,200,200,1.0
,80,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,100,100,1.0
,80,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,245,245,1.0
,80,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,159,159,1.0
,80,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,200,200,1.0
,80,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,100,100,1.0
,80,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,245,245,1.0
,80,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,159,159,1.0
,80,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,200,200,1.0
,80,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,100,100,1.0
,80,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,245,245,1.0
,80,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,159,159,1.0
,80,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,200,200,1.0
,80,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,100,100,1.0
,80,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,245,245,1.0
,80,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,159,159,1.0
,80,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,200,200,1.0
,80,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,100,100,1.0
,80,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,245,245,1.0
,80,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,159,159,1.0
,80,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,200,200,1.0
,80,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,100,100,1.0
,80,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,254,702,0.36182336182336183
,80,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,149,702,0.21225071225071226
,80,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,200,702,0.2849002849002849
,80,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,99,702,0.14102564102564102

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,80,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,80,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,80,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,80,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,80,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,80,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,80,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,80,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,80,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,80,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,80,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,80,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,80,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,80,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,80,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,80,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,80,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,80,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,80,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,80,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,80,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,80,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,80,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,80,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,80,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,80,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,80,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,80,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,80,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,80,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,80,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,80,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,80,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-80, gap: 1.0257995128631592
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,206
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,146
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,107
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,259
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-81, gap: 0.9707887172698975
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,200
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,144
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,109
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,264
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(717) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,180 -> new_capacity, 180
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,180 -> new_capacity, 180
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,180 -> new_capacity, 180
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,180 -> new_capacity, 180
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-82 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-82
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 753}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 717}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 711}, 'frontend': {'frontend@POST@/cart/checkout': 700}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 693}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 722}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 728}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2449}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:40:14 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-82, gap: 0.9893827438354492
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,204
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,147
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,106
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,253
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.4235374927520752
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.6482391357421875 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-83
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-83, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,83,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,247,265,0.9320754716981132
,83,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,18,265,0.06792452830188679
,83,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,144,144,1.0
,83,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,200,200,1.0
,83,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,109,109,1.0
,83,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,247,247,1.0
,83,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,162,162,1.0
,83,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,200,200,1.0
,83,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,110,110,1.0
,83,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,247,247,1.0
,83,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,162,162,1.0
,83,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,200,200,1.0
,83,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,110,110,1.0
,83,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,247,247,1.0
,83,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,162,162,1.0
,83,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,200,200,1.0
,83,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,110,110,1.0
,83,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,247,247,1.0
,83,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,162,162,1.0
,83,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,200,200,1.0
,83,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,110,110,1.0
,83,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,247,247,1.0
,83,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,162,162,1.0
,83,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,200,200,1.0
,83,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,110,110,1.0
,83,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,247,247,1.0
,83,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,162,162,1.0
,83,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,200,200,1.0
,83,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,110,110,1.0
,83,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,264,717,0.3682008368200837
,83,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,144,717,0.200836820083682
,83,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,200,717,0.2789400278940028
,83,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,109,717,0.15202231520223153

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,83,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,83,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,83,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,83,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,83,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,83,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,83,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,83,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,83,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,83,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,83,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,83,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,83,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,83,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,83,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,83,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,83,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,83,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,83,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,83,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,83,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,83,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,83,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,83,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,83,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,83,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,83,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,83,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,83,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,83,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,83,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,83,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,83,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(712) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-83 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-83
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 721}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 712}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 712}, 'frontend': {'frontend@POST@/cart/checkout': 706}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 685}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 714}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 721}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2498}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-83, gap: 1.0440354347229004
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,206
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,147
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,106
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,253
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:40:16 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-84, gap: 0.9665110111236572
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,206
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,147
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,107
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,255
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.5221443176269531
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.7234392166137695 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-85
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-85, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,85,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,244,254,0.9606299212598425
,85,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,10,254,0.03937007874015748
,85,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,147,147,1.0
,85,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,85,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,106,106,1.0
,85,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,244,244,1.0
,85,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,157,157,1.0
,85,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,85,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,107,107,1.0
,85,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,244,244,1.0
,85,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,157,157,1.0
,85,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,85,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,107,107,1.0
,85,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,244,244,1.0
,85,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,157,157,1.0
,85,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,85,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,107,107,1.0
,85,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,244,244,1.0
,85,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,157,157,1.0
,85,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,85,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,107,107,1.0
,85,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,244,244,1.0
,85,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,157,157,1.0
,85,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,85,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,107,107,1.0
,85,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,244,244,1.0
,85,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,157,157,1.0
,85,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,85,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,107,107,1.0
,85,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,253,712,0.3553370786516854
,85,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,147,712,0.20646067415730338
,85,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,85,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,106,712,0.14887640449438203

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,85,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,85,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,85,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,85,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,85,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,85,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,85,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,85,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,85,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,85,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,85,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,85,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,85,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,85,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,85,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,85,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,85,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,85,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,85,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,85,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,85,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,85,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,85,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,85,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,85,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,85,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,85,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,85,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,85,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,85,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,85,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,85,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,85,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-85, gap: 1.0053074359893799
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,202
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,159
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,104
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,256
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(721) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-86 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-86
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 726}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 721}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 734}, 'frontend': {'frontend@POST@/cart/checkout': 722}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 694}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 718}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 681}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2432}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:40:18 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-86, gap: 1.0061287879943848
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,201
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,159
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,103
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,255
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.45020365715026855
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.860274314880371 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-87
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-87, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,87,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,250,257,0.9727626459143969
,87,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,7,257,0.027237354085603113
,87,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,159,159,1.0
,87,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,202,202,1.0
,87,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,104,104,1.0
,87,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,250,250,1.0
,87,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,166,166,1.0
,87,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,202,202,1.0
,87,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,105,105,1.0
,87,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,250,250,1.0
,87,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,166,166,1.0
,87,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,202,202,1.0
,87,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,105,105,1.0
,87,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,250,250,1.0
,87,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,166,166,1.0
,87,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,202,202,1.0
,87,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,105,105,1.0
,87,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,250,250,1.0
,87,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,166,166,1.0
,87,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,202,202,1.0
,87,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,105,105,1.0
,87,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,250,250,1.0
,87,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,166,166,1.0
,87,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,202,202,1.0
,87,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,105,105,1.0
,87,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,250,250,1.0
,87,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,166,166,1.0
,87,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,202,202,1.0
,87,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,105,105,1.0
,87,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,256,721,0.3550624133148405
,87,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,159,721,0.22052704576976423
,87,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,202,721,0.2801664355062413
,87,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,104,721,0.14424410540915394

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,87,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,87,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,87,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,87,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,87,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,87,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,87,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,87,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,87,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,87,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,87,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,87,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,87,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,87,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,87,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,87,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,87,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,87,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,87,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,87,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,87,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,87,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,87,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,87,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,87,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,87,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,87,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,87,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,87,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,87,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,87,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,87,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,87,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-87, gap: 0.9828691482543945
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,201
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,154
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,110
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,259
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(724) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,182 -> new_capacity, 182
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,182 -> new_capacity, 182
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,182 -> new_capacity, 182
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,182 -> new_capacity, 182
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-88 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-88
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 732}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 724}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 717}, 'frontend': {'frontend@POST@/cart/checkout': 729}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 725}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 694}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 740}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2451}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:40:20 UTC)" skipped: maximum number of running instances reached (1)
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-88, gap: 1.0021693706512451
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,203
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,158
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,111
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,259
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.4781308174133301
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.9419469833374023 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-89
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-89, result: model solved
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:40:21 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,89,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,249,260,0.9576923076923077
,89,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,11,260,0.04230769230769231
,89,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,89,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,201,201,1.0
,89,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,110,110,1.0
,89,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,249,249,1.0
,89,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,165,165,1.0
,89,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,201,201,1.0
,89,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,111,111,1.0
,89,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,249,249,1.0
,89,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,165,165,1.0
,89,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,201,201,1.0
,89,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,111,111,1.0
,89,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,249,249,1.0
,89,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,165,165,1.0
,89,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,201,201,1.0
,89,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,111,111,1.0
,89,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,249,249,1.0
,89,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,165,165,1.0
,89,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,201,201,1.0
,89,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,111,111,1.0
,89,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,249,249,1.0
,89,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,165,165,1.0
,89,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,201,201,1.0
,89,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,111,111,1.0
,89,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,249,249,1.0
,89,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,165,165,1.0
,89,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,201,201,1.0
,89,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,111,111,1.0
,89,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,259,724,0.35773480662983426
,89,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,724,0.212707182320442
,89,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,201,724,0.2776243093922652
,89,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,110,724,0.15193370165745856

__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-89, gap: 1.0393247604370117
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,203
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,163
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,110
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,259
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,89,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,89,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,89,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,89,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,89,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,89,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,89,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,89,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,89,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,89,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,89,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,89,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,89,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,89,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,89,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,89,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,89,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,89,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,89,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,89,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,89,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,89,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,89,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,89,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,89,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,89,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,89,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,89,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,89,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,89,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,89,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,89,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,89,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - perform_jumping(line:292) - INFO - loghill temp_counter 90 (current ruleset  prev_processing_latency: 241.69353089989158, cur_processing_latency: 317.63866877971475
__main__ - calculate_ruleset_overperformance(line:722) - INFO - calculate_ruleset_overperformance: rules:
Index(['src_svc', 'dst_svc', 'src_endpoint', 'dst_endpoint', 'src_cid',
       'dst_cid', 'flow', 'total', 'weight'],
      dtype='object')
__main__ - calculate_ruleset_overperformance(line:727) - INFO - calculate_ruleset_overperformance: src_regions: ['us-east-1' 'us-south-1' 'us-central-1' 'us-west-1']
__main__ - calculate_ruleset_overperformance(line:735) - INFO - calculate_ruleset_overperformance: src_region: us-east-1, dst_regions: ['us-east-1' 'us-south-1']
__main__ - calculate_ruleset_overperformance(line:754) - INFO - loghill calculate_ruleset_overperformance: src_region: us-east-1, dst_region: us-east-1, expected_latency: 17.750753487582674, actual_latency: 463.77348643006263, load in us-east-1 for this ruleset: 241.11904761904762
__main__ - calculate_ruleset_overperformance(line:754) - INFO - loghill calculate_ruleset_overperformance: src_region: us-east-1, dst_region: us-south-1, expected_latency: 7.854165943779013, actual_latency: 141.50629722921914, load in us-south-1 for this ruleset: 5.8809523809523805
__main__ - perform_jumping(line:297) - INFO - loghill ruleset_overperformance: {'us-east-1': {'us-east-1': -107544.57658353559, 'us-south-1': -786.0018197024693}}
__main__ - perform_jumping(line:382) - INFO - loghill reversing direction from -1 to 1
__main__ - perform_jumping(line:384) - INFO - loghill old cur_convex_comb_value: 0.0
__main__ - perform_jumping(line:393) - INFO - loghill new cur_convex_comb_value: 0.25
apscheduler.executors.default - run_job(line:131) - ERROR - Job "perform_jumping (trigger: interval[0:00:10], next run at: 2024-10-28 03:40:31 UTC)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/app/global_controller.py", line 396, in perform_jumping
    jumping_df = jump_towards_optimizer_desired(starting_df, desired_df, cur_convex_comb_value).copy()
  File "/app/global_controller.py", line 548, in jump_towards_optimizer_desired
    raise ValueError(f"{df_name} must contain columns: {required_columns} (has columns: {df.columns})")
ValueError: desired_df must contain columns: {'src_svc', 'dst_svc'} (has columns: RangeIndex(start=0, stop=0, step=1))
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-90, gap: 0.9632997512817383
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,207
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,162
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,107
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,255
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(731) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,183 -> new_capacity, 183
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,183 -> new_capacity, 183
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,183 -> new_capacity, 183
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,183 -> new_capacity, 183
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-91 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-91
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 741}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 731}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 719}, 'frontend': {'frontend@POST@/cart/checkout': 729}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 711}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 713}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 708}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2434}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:40:23 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-91, gap: 0.9863717555999756
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,213
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,162
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,107
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,255
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.45375919342041016
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.7255630493164062 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-92
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-92, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,92,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,251,256,0.98046875
,92,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,5,256,0.01953125
,92,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,162,162,1.0
,92,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,207,207,1.0
,92,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,107,107,1.0
,92,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,251,251,1.0
,92,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,167,167,1.0
,92,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,207,207,1.0
,92,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,107,107,1.0
,92,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,251,251,1.0
,92,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,167,167,1.0
,92,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,207,207,1.0
,92,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,107,107,1.0
,92,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,251,251,1.0
,92,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,167,167,1.0
,92,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,207,207,1.0
,92,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,107,107,1.0
,92,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,251,251,1.0
,92,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,167,167,1.0
,92,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,207,207,1.0
,92,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,107,107,1.0
,92,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,251,251,1.0
,92,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,167,167,1.0
,92,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,207,207,1.0
,92,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,107,107,1.0
,92,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,251,251,1.0
,92,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,167,167,1.0
,92,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,207,207,1.0
,92,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,107,107,1.0
,92,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,255,731,0.3488372093023256
,92,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,162,731,0.2216142270861833
,92,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,207,731,0.28317373461012313
,92,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,107,731,0.146374829001368

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,92,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,92,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,92,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,92,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,92,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,92,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,92,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,92,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,92,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,92,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,92,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,92,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,92,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,92,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,92,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,92,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,92,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,92,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,92,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,92,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,92,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,92,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,92,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,92,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,92,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,92,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,92,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,92,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,92,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,92,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,92,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,92,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,92,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(732) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,184 -> new_capacity, 184
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,184 -> new_capacity, 184
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,184 -> new_capacity, 184
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,184 -> new_capacity, 184
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-92 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-92
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 747}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 732}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 711}, 'frontend': {'frontend@POST@/cart/checkout': 722}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 724}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 742}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 694}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2448}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-92, gap: 1.0258097648620605
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,204
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,165
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,105
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,258
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:40:25 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-93, gap: 0.9916329383850098
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,212
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,159
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,110
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,255
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.398700475692749
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.6869585514068604 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-94
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-94, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,94,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,253,259,0.9768339768339769
,94,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,259,0.023166023166023165
,94,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,165,165,1.0
,94,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,204,204,1.0
,94,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,105,105,1.0
,94,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,253,253,1.0
,94,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,171,171,1.0
,94,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,204,204,1.0
,94,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,106,106,1.0
,94,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,253,253,1.0
,94,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,171,171,1.0
,94,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,204,204,1.0
,94,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,106,106,1.0
,94,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,253,253,1.0
,94,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,171,171,1.0
,94,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,204,204,1.0
,94,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,106,106,1.0
,94,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,253,253,1.0
,94,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,171,171,1.0
,94,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,204,204,1.0
,94,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,106,106,1.0
,94,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,253,253,1.0
,94,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,171,171,1.0
,94,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,204,204,1.0
,94,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,106,106,1.0
,94,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,253,253,1.0
,94,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,171,171,1.0
,94,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,204,204,1.0
,94,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,106,106,1.0
,94,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,258,732,0.3524590163934426
,94,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,165,732,0.22540983606557377
,94,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,204,732,0.2786885245901639
,94,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,105,732,0.14344262295081966

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,94,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,94,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,94,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,94,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,94,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,94,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,94,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,94,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,94,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,94,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,94,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,94,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,94,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,94,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,94,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,94,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,94,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,94,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,94,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,94,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,94,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,94,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,94,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,94,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,94,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,94,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,94,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,94,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,94,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,94,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,94,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,94,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,94,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-94, gap: 1.0108108520507812
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,207
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,155
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,102
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,266
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(730) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,183 -> new_capacity, 183
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,183 -> new_capacity, 183
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,183 -> new_capacity, 183
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,183 -> new_capacity, 183
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-95 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-95
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 735}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 730}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 712}, 'frontend': {'frontend@POST@/cart/checkout': 717}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 707}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 717}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 727}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2466}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:40:27 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-95, gap: 1.014965295791626
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,207
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,157
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,102
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,266
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.5282385349273682
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.731245517730713 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-96
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-96, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,96,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,252,267,0.9438202247191011
,96,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,15,267,0.056179775280898875
,96,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,155,155,1.0
,96,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,207,207,1.0
,96,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,102,102,1.0
,96,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,252,252,1.0
,96,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,170,170,1.0
,96,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,207,207,1.0
,96,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,103,103,1.0
,96,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,252,252,1.0
,96,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,170,170,1.0
,96,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,207,207,1.0
,96,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,103,103,1.0
,96,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,252,252,1.0
,96,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,170,170,1.0
,96,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,207,207,1.0
,96,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,103,103,1.0
,96,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,252,252,1.0
,96,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,170,170,1.0
,96,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,207,207,1.0
,96,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,103,103,1.0
,96,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,252,252,1.0
,96,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,170,170,1.0
,96,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,207,207,1.0
,96,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,103,103,1.0
,96,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,252,252,1.0
,96,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,170,170,1.0
,96,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,207,207,1.0
,96,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,103,103,1.0
,96,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,266,730,0.3643835616438356
,96,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,155,730,0.21232876712328766
,96,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,207,730,0.28356164383561644
,96,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,102,730,0.13972602739726028

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,96,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,96,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,96,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,96,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,96,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,96,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,96,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,96,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,96,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,96,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,96,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,96,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,96,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,96,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,96,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,96,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,96,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,96,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,96,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,96,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,96,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,96,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,96,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,96,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,96,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,96,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,96,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,96,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,96,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,96,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,96,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,96,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,96,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(719) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,180 -> new_capacity, 180
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,180 -> new_capacity, 180
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,180 -> new_capacity, 180
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,180 -> new_capacity, 180
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-96 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-96
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 708}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 719}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 717}, 'frontend': {'frontend@POST@/cart/checkout': 693}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 739}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 717}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 727}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2435}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-96, gap: 1.1613304615020752
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,208
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,156
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,96
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,259
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:40:29 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-97, gap: 0.8265025615692139
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,204
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,155
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,96
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,259
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:40:30 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-98, gap: 0.9739875793457031
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,208
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,154
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,101
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,270
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.606982946395874
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 2.359778881072998 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-99
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-99, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,99,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,250,260,0.9615384615384616
,99,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,10,260,0.038461538461538464
,99,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,156,156,1.0
,99,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,208,208,1.0
,99,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,96,96,1.0
,99,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,250,250,1.0
,99,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,166,166,1.0
,99,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,208,208,1.0
,99,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,97,97,1.0
,99,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,250,250,1.0
,99,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,166,166,1.0
,99,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,208,208,1.0
,99,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,97,97,1.0
,99,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,250,250,1.0
,99,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,166,166,1.0
,99,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,208,208,1.0
,99,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,97,97,1.0
,99,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,250,250,1.0
,99,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,166,166,1.0
,99,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,208,208,1.0
,99,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,97,97,1.0
,99,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,250,250,1.0
,99,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,166,166,1.0
,99,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,208,208,1.0
,99,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,97,97,1.0
,99,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,250,250,1.0
,99,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,166,166,1.0
,99,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,208,208,1.0
,99,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,97,97,1.0
,99,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,259,719,0.36022253129346316
,99,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,156,719,0.21696801112656466
,99,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,208,719,0.28929068150208626
,99,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,96,719,0.13351877607788595

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,99,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,99,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,99,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,99,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,99,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,99,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,99,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,99,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,99,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,99,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,99,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,99,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,99,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,99,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,99,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,99,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,99,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,99,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,99,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,99,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,99,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,99,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,99,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,99,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,99,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,99,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,99,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,99,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,99,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,99,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,99,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,99,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,99,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(729) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,183 -> new_capacity, 183
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,183 -> new_capacity, 183
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,183 -> new_capacity, 183
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,183 -> new_capacity, 183
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-99 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-99
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 748}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 729}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 705}, 'frontend': {'frontend@POST@/cart/checkout': 710}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 699}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 726}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 735}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2470}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-99, gap: 1.0418169498443604
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,209
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,154
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,100
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,266
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - perform_jumping(line:292) - INFO - loghill temp_counter 100 (current ruleset  prev_processing_latency: 317.63866877971475, cur_processing_latency: 323.1057692307692
__main__ - calculate_ruleset_overperformance(line:722) - INFO - calculate_ruleset_overperformance: rules:
Index(['src_svc', 'dst_svc', 'src_endpoint', 'dst_endpoint', 'src_cid',
       'dst_cid', 'flow', 'total', 'weight'],
      dtype='object')
__main__ - calculate_ruleset_overperformance(line:727) - INFO - calculate_ruleset_overperformance: src_regions: ['us-east-1' 'us-south-1' 'us-central-1' 'us-west-1']
__main__ - calculate_ruleset_overperformance(line:735) - INFO - calculate_ruleset_overperformance: src_region: us-east-1, dst_regions: ['us-east-1' 'us-south-1']
__main__ - calculate_ruleset_overperformance(line:754) - INFO - loghill calculate_ruleset_overperformance: src_region: us-east-1, dst_region: us-east-1, expected_latency: 17.079449380366693, actual_latency: 0, load in us-east-1 for this ruleset: 236.23809523809524
__main__ - calculate_ruleset_overperformance(line:754) - INFO - loghill calculate_ruleset_overperformance: src_region: us-east-1, dst_region: us-south-1, expected_latency: 8.116921784517537, actual_latency: 136.501312335958, load in us-south-1 for this ruleset: 5.761904761904762
__main__ - perform_jumping(line:297) - INFO - loghill ruleset_overperformance: {'us-east-1': {'us-east-1': 4034.8165893332935, 'us-south-1': -739.7386312725856}}
__main__ - perform_jumping(line:382) - INFO - loghill reversing direction from 1 to -1
__main__ - perform_jumping(line:384) - INFO - loghill old cur_convex_comb_value: 0.25
__main__ - perform_jumping(line:393) - INFO - loghill new cur_convex_comb_value: 0.0
apscheduler.executors.default - run_job(line:131) - ERROR - Job "perform_jumping (trigger: interval[0:00:10], next run at: 2024-10-28 03:40:41 UTC)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/app/global_controller.py", line 396, in perform_jumping
    jumping_df = jump_towards_optimizer_desired(starting_df, desired_df, cur_convex_comb_value).copy()
  File "/app/global_controller.py", line 548, in jump_towards_optimizer_desired
    raise ValueError(f"{df_name} must contain columns: {required_columns} (has columns: {df.columns})")
ValueError: desired_df must contain columns: {'src_svc', 'dst_svc'} (has columns: RangeIndex(start=0, stop=0, step=1))
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:40:32 UTC)" skipped: maximum number of running instances reached (1)
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-100, gap: 0.9548733234405518
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,207
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,154
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,105
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,260
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.5402894020080566
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.794382095336914 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-101
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-101, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,101,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,252,267,0.9438202247191011
,101,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,15,267,0.056179775280898875
,101,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,101,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,209,209,1.0
,101,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,100,100,1.0
,101,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,252,252,1.0
,101,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,169,169,1.0
,101,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,209,209,1.0
,101,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,101,101,1.0
,101,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,252,252,1.0
,101,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,169,169,1.0
,101,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,209,209,1.0
,101,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,101,101,1.0
,101,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,252,252,1.0
,101,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,169,169,1.0
,101,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,209,209,1.0
,101,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,101,101,1.0
,101,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,252,252,1.0
,101,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,169,169,1.0
,101,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,209,209,1.0
,101,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,101,101,1.0
,101,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,252,252,1.0
,101,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,169,169,1.0
,101,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,209,209,1.0
,101,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,101,101,1.0
,101,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,252,252,1.0
,101,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,169,169,1.0
,101,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,209,209,1.0
,101,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,101,101,1.0
,101,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,266,729,0.36488340192043894
,101,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,729,0.2112482853223594
,101,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,209,729,0.28669410150891633
,101,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,100,729,0.13717421124828533

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,101,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,101,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,101,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,101,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,101,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,101,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,101,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,101,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,101,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,101,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,101,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,101,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,101,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,101,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,101,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,101,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,101,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,101,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,101,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,101,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,101,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,101,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,101,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,101,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,101,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,101,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,101,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,101,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,101,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,101,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,101,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,101,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,101,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:40:33 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-101, gap: 1.0178320407867432
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,214
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,159
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,101
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,258
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-102, gap: 1.0109379291534424
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,216
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,154
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,108
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,256
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(734) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,184 -> new_capacity, 184
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,184 -> new_capacity, 184
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,184 -> new_capacity, 184
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,184 -> new_capacity, 184
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-103 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-103
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 730}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 734}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 731}, 'frontend': {'frontend@POST@/cart/checkout': 731}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 750}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 728}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 694}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2472}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:40:35 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-103, gap: 1.2522640228271484
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,213
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,158
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,110
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,254
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.5553407669067383
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.8869023323059082 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-104
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-104, result: model solved
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:40:36 UTC)" skipped: maximum number of running instances reached (1)
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,104,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,248,257,0.9649805447470817
,104,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,9,257,0.03501945525291829
,104,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,104,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,216,217,0.9953917050691244
,104,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-west-1,1,217,0.004608294930875576
,104,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,108,108,1.0
,104,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,248,248,1.0
,104,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,163,163,1.0
,104,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,216,216,1.0
,104,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,109,109,1.0
,104,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,248,248,1.0
,104,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,163,163,1.0
,104,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,216,216,1.0
,104,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,109,109,1.0
,104,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,248,248,1.0
,104,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,163,163,1.0
,104,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,216,216,1.0
,104,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,109,109,1.0
,104,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,248,248,1.0
,104,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,163,163,1.0
,104,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,216,216,1.0
,104,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,109,109,1.0
,104,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,248,248,1.0
,104,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,163,163,1.0
,104,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,216,216,1.0
,104,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,109,109,1.0
,104,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,248,248,1.0
,104,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,163,163,1.0
,104,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,216,216,1.0
,104,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,109,109,1.0
,104,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,256,734,0.34877384196185285
,104,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,734,0.2098092643051771
,104,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,216,734,0.29427792915531337
,104,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,108,734,0.14713896457765668

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-104, gap: 0.7835102081298828
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,213
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,160
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,110
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,254
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,104,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,104,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,104,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,104,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,104,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,104,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,104,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,104,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,104,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,104,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,104,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,104,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,104,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,104,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,104,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,104,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,104,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,104,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,104,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,104,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,104,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,104,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,104,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,104,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,104,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,104,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,104,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,104,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,104,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,104,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,104,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,104,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,104,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-105, gap: 0.9534626007080078
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,210
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,158
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,102
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,257
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(727) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,182 -> new_capacity, 182
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,182 -> new_capacity, 182
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,182 -> new_capacity, 182
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,182 -> new_capacity, 182
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-106 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-106
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 746}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 727}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 721}, 'frontend': {'frontend@POST@/cart/checkout': 718}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 752}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 723}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 741}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2475}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:40:38 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-106, gap: 0.9755632877349854
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,207
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,159
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,106
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,257
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.43566322326660156
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.8256680965423584 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-107
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-107, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,107,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,250,258,0.9689922480620154
,107,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,8,258,0.031007751937984496
,107,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,158,158,1.0
,107,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,210,210,1.0
,107,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,102,102,1.0
,107,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,250,250,1.0
,107,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,166,166,1.0
,107,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,210,210,1.0
,107,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,107,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,250,250,1.0
,107,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,166,166,1.0
,107,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,210,210,1.0
,107,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,107,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,250,250,1.0
,107,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,166,166,1.0
,107,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,210,210,1.0
,107,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,107,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,250,250,1.0
,107,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,166,166,1.0
,107,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,210,210,1.0
,107,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,107,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,250,250,1.0
,107,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,166,166,1.0
,107,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,210,210,1.0
,107,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,107,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,250,250,1.0
,107,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,166,166,1.0
,107,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,210,210,1.0
,107,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,107,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,257,727,0.3535075653370014
,107,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,158,727,0.2173314993122421
,107,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,210,727,0.28885832187070154
,107,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,102,727,0.14030261348005502

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,107,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,107,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,107,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,107,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,107,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,107,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,107,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,107,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,107,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,107,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,107,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,107,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,107,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,107,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,107,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,107,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,107,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,107,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,107,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,107,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,107,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,107,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,107,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,107,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,107,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,107,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,107,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,107,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,107,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,107,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,107,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,107,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,107,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(717) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,180 -> new_capacity, 180
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,180 -> new_capacity, 180
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-107, gap: 1.0183491706848145
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,204
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,159
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,103
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,251
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,180 -> new_capacity, 180
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,180 -> new_capacity, 180
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-108 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-108
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 740}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 717}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 719}, 'frontend': {'frontend@POST@/cart/checkout': 724}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 743}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 700}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 710}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2462}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:40:40 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-108, gap: 0.9830093383789062
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,210
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,160
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,102
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,259
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.4723317623138428
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.5508220195770264 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-109
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-109, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,109,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,248,252,0.9841269841269841
,109,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,4,252,0.015873015873015872
,109,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,159,159,1.0
,109,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,204,204,1.0
,109,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,103,103,1.0
,109,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,248,248,1.0
,109,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,163,163,1.0
,109,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,204,204,1.0
,109,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,103,103,1.0
,109,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,248,248,1.0
,109,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,163,163,1.0
,109,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,204,204,1.0
,109,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,103,103,1.0
,109,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,248,248,1.0
,109,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,163,163,1.0
,109,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,204,204,1.0
,109,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,103,103,1.0
,109,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,248,248,1.0
,109,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,163,163,1.0
,109,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,204,204,1.0
,109,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,103,103,1.0
,109,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,248,248,1.0
,109,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,163,163,1.0
,109,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,204,204,1.0
,109,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,103,103,1.0
,109,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,248,248,1.0
,109,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,163,163,1.0
,109,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,204,204,1.0
,109,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,103,103,1.0
,109,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,717,0.3500697350069735
,109,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,159,717,0.2217573221757322
,109,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,204,717,0.28451882845188287
,109,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,103,717,0.14365411436541142

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,109,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,109,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,109,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,109,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,109,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,109,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,109,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,109,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,109,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,109,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,109,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,109,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,109,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,109,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,109,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,109,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,109,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,109,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,109,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,109,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,109,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,109,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,109,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,109,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,109,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,109,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,109,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,109,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,109,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,109,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,109,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,109,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,109,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-109, gap: 1.0246899127960205
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,215
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,157
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,97
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,253
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - perform_jumping(line:292) - INFO - loghill temp_counter 110 (current ruleset  prev_processing_latency: 323.1057692307692, cur_processing_latency: 204.78387650085764
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(722) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - calculate_ruleset_overperformance(line:722) - INFO - calculate_ruleset_overperformance: rules:
Index(['src_svc', 'dst_svc', 'src_endpoint', 'dst_endpoint', 'src_cid',
       'dst_cid', 'flow', 'total', 'weight'],
      dtype='object')
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - calculate_ruleset_overperformance(line:727) - INFO - calculate_ruleset_overperformance: src_regions: ['us-east-1' 'us-south-1' 'us-central-1' 'us-west-1']
__main__ - calculate_ruleset_overperformance(line:735) - INFO - calculate_ruleset_overperformance: src_region: us-east-1, dst_regions: ['us-east-1' 'us-south-1']
__main__ - calculate_ruleset_overperformance(line:754) - INFO - loghill calculate_ruleset_overperformance: src_region: us-east-1, dst_region: us-east-1, expected_latency: 18.160125440081252, actual_latency: 431.9312602291326, load in us-east-1 for this ruleset: 244.04761904761904
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-110 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-110
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - calculate_ruleset_overperformance(line:754) - INFO - loghill calculate_ruleset_overperformance: src_region: us-east-1, dst_region: us-south-1, expected_latency: 8.116921784517537, actual_latency: 0, load in us-south-1 for this ruleset: 5.952380952380952
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
__main__ - perform_jumping(line:297) - INFO - loghill ruleset_overperformance: {'us-east-1': {'us-east-1': -100979.86027589944, 'us-south-1': 48.31501062212819}}
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 756}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 722}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 705}, 'frontend': {'frontend@POST@/cart/checkout': 723}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 741}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 721}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 731}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2461}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
__main__ - perform_jumping(line:384) - INFO - loghill old cur_convex_comb_value: 0.0
__main__ - perform_jumping(line:393) - INFO - loghill new cur_convex_comb_value: 0
apscheduler.executors.default - run_job(line:131) - ERROR - Job "perform_jumping (trigger: interval[0:00:10], next run at: 2024-10-28 03:40:51 UTC)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/app/global_controller.py", line 396, in perform_jumping
    jumping_df = jump_towards_optimizer_desired(starting_df, desired_df, cur_convex_comb_value).copy()
  File "/app/global_controller.py", line 548, in jump_towards_optimizer_desired
    raise ValueError(f"{df_name} must contain columns: {required_columns} (has columns: {df.columns})")
ValueError: desired_df must contain columns: {'src_svc', 'dst_svc'} (has columns: RangeIndex(start=0, stop=0, step=1))
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:40:42 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-110, gap: 0.9804062843322754
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,215
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,157
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,97
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,252
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.46694040298461914
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.6051981449127197 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-111
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-111, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,111,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,248,254,0.9763779527559056
,111,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,254,0.023622047244094488
,111,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,157,157,1.0
,111,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,212,216,0.9814814814814815
,111,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-west-1,4,216,0.018518518518518517
,111,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,97,97,1.0
,111,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,248,248,1.0
,111,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,163,163,1.0
,111,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,212,212,1.0
,111,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,101,101,1.0
,111,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,248,248,1.0
,111,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,163,163,1.0
,111,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,212,212,1.0
,111,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,101,101,1.0
,111,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,248,248,1.0
,111,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,163,163,1.0
,111,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,212,212,1.0
,111,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,101,101,1.0
,111,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,248,248,1.0
,111,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,163,163,1.0
,111,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,212,212,1.0
,111,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,101,101,1.0
,111,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,248,248,1.0
,111,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,163,163,1.0
,111,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,212,212,1.0
,111,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,101,101,1.0
,111,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,248,248,1.0
,111,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,163,163,1.0
,111,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,212,212,1.0
,111,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,101,101,1.0
,111,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,253,722,0.35041551246537395
,111,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,157,722,0.21745152354570638
,111,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,215,722,0.29778393351800553
,111,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,97,722,0.13434903047091412

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,111,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,111,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,111,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,111,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,111,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,111,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,111,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,111,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,111,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,111,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,111,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,111,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,111,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,111,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,111,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,111,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,111,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,111,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,111,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,111,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,111,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,111,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,111,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,111,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,111,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,111,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,111,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,111,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,111,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,111,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,111,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,111,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,111,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(711) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,178 -> new_capacity, 178
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,178 -> new_capacity, 178
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,178 -> new_capacity, 178
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,178 -> new_capacity, 178
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-111 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-111
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 736}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 711}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 701}, 'frontend': {'frontend@POST@/cart/checkout': 723}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 740}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 720}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 745}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2490}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-111, gap: 1.0390725135803223
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,211
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,153
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,101
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,246
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:40:44 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-112, gap: 1.019596815109253
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,211
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,153
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,105
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,254
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.37131428718566895
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.857661247253418 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-113
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-113, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,113,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,244,247,0.9878542510121457
,113,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,3,247,0.012145748987854251
,113,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,153,153,1.0
,113,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,211,211,1.0
,113,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,113,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,244,244,1.0
,113,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,156,156,1.0
,113,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,211,211,1.0
,113,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,113,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,244,244,1.0
,113,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,156,156,1.0
,113,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,211,211,1.0
,113,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,113,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,244,244,1.0
,113,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,156,156,1.0
,113,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,211,211,1.0
,113,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,113,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,244,244,1.0
,113,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,156,156,1.0
,113,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,211,211,1.0
,113,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,113,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,244,244,1.0
,113,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,156,156,1.0
,113,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,211,211,1.0
,113,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,113,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,244,244,1.0
,113,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,156,156,1.0
,113,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,211,211,1.0
,113,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,113,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,246,711,0.3459915611814346
,113,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,153,711,0.21518987341772153
,113,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,211,711,0.2967651195499297
,113,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,711,0.1420534458509142

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,113,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,113,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,113,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,113,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,113,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,113,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,113,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,113,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,113,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,113,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,113,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,113,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,113,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,113,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,113,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,113,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,113,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,113,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,113,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,113,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,113,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,113,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,113,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,113,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,113,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,113,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,113,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,113,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,113,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,113,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,113,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,113,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,113,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-113, gap: 0.9566807746887207
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,201
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,149
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,105
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,250
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(705) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,177 -> new_capacity, 177
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,177 -> new_capacity, 177
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,177 -> new_capacity, 177
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,177 -> new_capacity, 177
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-114 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-114
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 764}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 705}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 712}, 'frontend': {'frontend@POST@/cart/checkout': 725}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 728}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 705}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 711}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2450}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:40:46 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-114, gap: 0.9888994693756104
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,201
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,154
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,105
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,258
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:40:47 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-115, gap: 0.9967033863067627
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,201
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,151
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,110
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,256
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.429607629776001
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.9678728580474854 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-116
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-116, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,116,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,244,251,0.9721115537848606
,116,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,7,251,0.027888446215139442
,116,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,149,149,1.0
,116,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,201,201,1.0
,116,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,105,105,1.0
,116,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,244,244,1.0
,116,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,156,156,1.0
,116,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,201,201,1.0
,116,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,106,106,1.0
,116,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,244,244,1.0
,116,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,156,156,1.0
,116,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,201,201,1.0
,116,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,106,106,1.0
,116,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,244,244,1.0
,116,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,156,156,1.0
,116,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,201,201,1.0
,116,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,106,106,1.0
,116,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,244,244,1.0
,116,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,156,156,1.0
,116,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,201,201,1.0
,116,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,106,106,1.0
,116,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,244,244,1.0
,116,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,156,156,1.0
,116,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,201,201,1.0
,116,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,106,106,1.0
,116,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,244,244,1.0
,116,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,156,156,1.0
,116,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,201,201,1.0
,116,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,106,106,1.0
,116,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,250,705,0.3546099290780142
,116,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,149,705,0.21134751773049645
,116,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,201,705,0.2851063829787234
,116,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,105,705,0.14893617021276595

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,116,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,116,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,116,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,116,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,116,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,116,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,116,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,116,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,116,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,116,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,116,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,116,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,116,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,116,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,116,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,116,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,116,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,116,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,116,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,116,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,116,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,116,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,116,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,116,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,116,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,116,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,116,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,116,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,116,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,116,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,116,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,116,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,116,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-116, gap: 1.0148594379425049
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,199
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,152
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,101
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,256
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(708) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,178 -> new_capacity, 178
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,178 -> new_capacity, 178
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,178 -> new_capacity, 178
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,178 -> new_capacity, 178
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-117 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-117
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 775}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 708}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 721}, 'frontend': {'frontend@POST@/cart/checkout': 709}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 703}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 717}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 704}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2462}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:40:49 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-117, gap: 0.9928579330444336
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,206
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,147
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,101
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,252
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.4795207977294922
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.6480052471160889 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-118
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-118, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,118,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,247,257,0.9610894941634242
,118,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,10,257,0.038910505836575876
,118,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,152,152,1.0
,118,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,199,199,1.0
,118,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,118,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,247,247,1.0
,118,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,162,162,1.0
,118,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,199,199,1.0
,118,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,118,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,247,247,1.0
,118,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,162,162,1.0
,118,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,199,199,1.0
,118,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,118,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,247,247,1.0
,118,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,162,162,1.0
,118,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,199,199,1.0
,118,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,118,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,247,247,1.0
,118,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,162,162,1.0
,118,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,199,199,1.0
,118,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,118,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,247,247,1.0
,118,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,162,162,1.0
,118,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,199,199,1.0
,118,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,118,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,247,247,1.0
,118,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,162,162,1.0
,118,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,199,199,1.0
,118,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,118,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,256,708,0.3615819209039548
,118,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,152,708,0.21468926553672316
,118,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,199,708,0.2810734463276836
,118,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,708,0.1426553672316384

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,118,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,118,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,118,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,118,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,118,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,118,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,118,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,118,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,118,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,118,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,118,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,118,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,118,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,118,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,118,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,118,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,118,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,118,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,118,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,118,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,118,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,118,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,118,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,118,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,118,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,118,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,118,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,118,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,118,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,118,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,118,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,118,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,118,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-118, gap: 0.9928433895111084
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,202
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,149
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,99
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,257
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(707) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,177 -> new_capacity, 177
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,177 -> new_capacity, 177
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,177 -> new_capacity, 177
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,177 -> new_capacity, 177
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-119 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-119
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 760}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 707}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 716}, 'frontend': {'frontend@POST@/cart/checkout': 716}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 721}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 718}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 704}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2435}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:40:51 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-119, gap: 1.0034806728363037
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,207
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,149
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,103
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,259
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - perform_jumping(line:292) - INFO - loghill temp_counter 120 (current ruleset  prev_processing_latency: 204.78387650085764, cur_processing_latency: 282.5949679329058
__main__ - calculate_ruleset_overperformance(line:722) - INFO - calculate_ruleset_overperformance: rules:
Index(['src_svc', 'dst_svc', 'src_endpoint', 'dst_endpoint', 'src_cid',
       'dst_cid', 'flow', 'total', 'weight'],
      dtype='object')
__main__ - calculate_ruleset_overperformance(line:727) - INFO - calculate_ruleset_overperformance: src_regions: ['us-east-1' 'us-south-1' 'us-central-1' 'us-west-1']
__main__ - calculate_ruleset_overperformance(line:735) - INFO - calculate_ruleset_overperformance: src_region: us-east-1, dst_regions: ['us-east-1' 'us-south-1']
__main__ - calculate_ruleset_overperformance(line:754) - INFO - loghill calculate_ruleset_overperformance: src_region: us-east-1, dst_region: us-east-1, expected_latency: 17.750753487582674, actual_latency: 413.1904136572554, load in us-east-1 for this ruleset: 241.11904761904762
__main__ - calculate_ruleset_overperformance(line:754) - INFO - loghill calculate_ruleset_overperformance: src_region: us-east-1, dst_region: us-south-1, expected_latency: 8.205605312791878, actual_latency: 138.02570694087404, load in us-south-1 for this ruleset: 5.8809523809523805
__main__ - perform_jumping(line:297) - INFO - loghill ruleset_overperformance: {'us-east-1': {'us-east-1': -95348.03425091133, 'us-south-1': -763.4658357651498}}
__main__ - perform_jumping(line:382) - INFO - loghill reversing direction from 1 to -1
__main__ - perform_jumping(line:384) - INFO - loghill old cur_convex_comb_value: 0
__main__ - perform_jumping(line:393) - INFO - loghill new cur_convex_comb_value: 0
apscheduler.executors.default - run_job(line:131) - ERROR - Job "perform_jumping (trigger: interval[0:00:10], next run at: 2024-10-28 03:41:01 UTC)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/app/global_controller.py", line 396, in perform_jumping
    jumping_df = jump_towards_optimizer_desired(starting_df, desired_df, cur_convex_comb_value).copy()
  File "/app/global_controller.py", line 548, in jump_towards_optimizer_desired
    raise ValueError(f"{df_name} must contain columns: {required_columns} (has columns: {df.columns})")
ValueError: desired_df must contain columns: {'src_svc', 'dst_svc'} (has columns: RangeIndex(start=0, stop=0, step=1))
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.38074541091918945
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.571291446685791 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-120
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-120, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,120,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,258,0.9534883720930233
,120,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,12,258,0.046511627906976744
,120,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,149,149,1.0
,120,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,202,202,1.0
,120,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,99,99,1.0
,120,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,120,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,161,161,1.0
,120,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,202,202,1.0
,120,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,99,99,1.0
,120,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,120,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,161,161,1.0
,120,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,202,202,1.0
,120,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,99,99,1.0
,120,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,120,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,161,161,1.0
,120,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,202,202,1.0
,120,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,99,99,1.0
,120,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,120,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,161,161,1.0
,120,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,202,202,1.0
,120,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,99,99,1.0
,120,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,120,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,161,161,1.0
,120,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,202,202,1.0
,120,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,99,99,1.0
,120,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,120,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,161,161,1.0
,120,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,202,202,1.0
,120,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,99,99,1.0
,120,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,257,707,0.3635077793493635
,120,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,149,707,0.21074964639321075
,120,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,202,707,0.2857142857142857
,120,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,99,707,0.14002828854314003

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,120,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,120,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,120,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,120,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,120,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,120,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,120,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,120,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,120,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,120,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,120,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,120,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,120,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,120,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,120,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,120,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,120,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,120,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,120,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,120,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,120,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,120,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,120,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,120,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,120,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,120,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,120,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,120,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,120,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,120,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,120,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,120,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,120,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(723) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-120, gap: 1.0111956596374512
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,207
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,152
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,108
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,256
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-121 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-121
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 731}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 723}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 721}, 'frontend': {'frontend@POST@/cart/checkout': 704}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 719}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 688}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 676}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2398}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:40:53 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-121, gap: 1.0093424320220947
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,204
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,152
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,103
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,256
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.5708189010620117
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.871638536453247 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-122
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-122, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,122,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,247,257,0.9610894941634242
,122,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,10,257,0.038910505836575876
,122,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,152,152,1.0
,122,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,207,207,1.0
,122,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,108,108,1.0
,122,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,247,247,1.0
,122,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,162,162,1.0
,122,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,207,207,1.0
,122,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,109,109,1.0
,122,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,247,247,1.0
,122,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,162,162,1.0
,122,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,207,207,1.0
,122,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,109,109,1.0
,122,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,247,247,1.0
,122,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,162,162,1.0
,122,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,207,207,1.0
,122,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,109,109,1.0
,122,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,247,247,1.0
,122,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,162,162,1.0
,122,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,207,207,1.0
,122,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,109,109,1.0
,122,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,247,247,1.0
,122,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,162,162,1.0
,122,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,207,207,1.0
,122,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,109,109,1.0
,122,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,247,247,1.0
,122,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,162,162,1.0
,122,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,207,207,1.0
,122,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,109,109,1.0
,122,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,256,723,0.35408022130013833
,122,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,152,723,0.21023513139695713
,122,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,207,723,0.2863070539419087
,122,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,108,723,0.14937759336099585

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,122,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,122,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,122,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,122,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,122,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,122,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,122,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,122,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,122,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,122,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,122,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,122,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,122,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,122,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,122,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,122,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,122,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,122,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,122,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,122,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,122,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,122,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,122,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,122,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,122,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,122,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,122,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,122,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,122,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,122,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,122,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,122,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,122,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:40:54 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-122, gap: 0.991919755935669
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,205
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,146
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,99
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,251
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(706) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,177 -> new_capacity, 177
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,177 -> new_capacity, 177
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,177 -> new_capacity, 177
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-123, gap: 1.0005383491516113
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,207
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,151
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,100
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,248
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,177 -> new_capacity, 177
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-124 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-124
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 755}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 706}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 738}, 'frontend': {'frontend@POST@/cart/checkout': 705}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 718}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 681}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 730}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2405}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:40:56 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-124, gap: 1.0092196464538574
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,202
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,151
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,92
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,250
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.4132404327392578
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.6515228748321533 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-125
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-125, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,125,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,244,249,0.9799196787148594
,125,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,5,249,0.020080321285140562
,125,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,151,151,1.0
,125,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,207,207,1.0
,125,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,100,100,1.0
,125,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,244,244,1.0
,125,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,156,156,1.0
,125,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,207,207,1.0
,125,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,100,100,1.0
,125,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,244,244,1.0
,125,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,156,156,1.0
,125,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,207,207,1.0
,125,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,100,100,1.0
,125,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,244,244,1.0
,125,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,156,156,1.0
,125,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,207,207,1.0
,125,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,100,100,1.0
,125,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,244,244,1.0
,125,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,156,156,1.0
,125,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,207,207,1.0
,125,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,100,100,1.0
,125,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,244,244,1.0
,125,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,156,156,1.0
,125,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,207,207,1.0
,125,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,100,100,1.0
,125,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,244,244,1.0
,125,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,156,156,1.0
,125,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,207,207,1.0
,125,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,100,100,1.0
,125,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,248,706,0.35127478753541075
,125,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,151,706,0.21388101983002833
,125,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,207,706,0.29320113314447593
,125,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,100,706,0.141643059490085

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,125,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,125,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,125,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,125,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,125,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,125,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,125,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,125,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,125,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,125,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,125,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,125,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,125,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,125,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,125,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,125,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,125,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,125,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,125,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,125,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,125,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,125,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,125,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,125,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,125,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,125,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,125,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,125,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,125,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,125,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,125,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,125,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,125,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-125, gap: 0.9976077079772949
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,205
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,152
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,99
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,249
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(705) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,177 -> new_capacity, 177
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,177 -> new_capacity, 177
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,177 -> new_capacity, 177
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,177 -> new_capacity, 177
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-126 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-126
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 747}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 705}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 730}, 'frontend': {'frontend@POST@/cart/checkout': 728}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 717}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 707}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 751}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2410}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:40:58 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-126, gap: 0.9765174388885498
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,198
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,160
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,102
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,249
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.4623534679412842
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.7368762493133545 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-127
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-127, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,127,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,244,250,0.976
,127,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,250,0.024
,127,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,152,152,1.0
,127,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,205,205,1.0
,127,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,99,99,1.0
,127,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,244,244,1.0
,127,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,158,158,1.0
,127,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,205,205,1.0
,127,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,100,100,1.0
,127,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,244,244,1.0
,127,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,158,158,1.0
,127,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,205,205,1.0
,127,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,100,100,1.0
,127,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,244,244,1.0
,127,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,158,158,1.0
,127,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,205,205,1.0
,127,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,100,100,1.0
,127,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,244,244,1.0
,127,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,158,158,1.0
,127,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,205,205,1.0
,127,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,100,100,1.0
,127,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,244,244,1.0
,127,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,158,158,1.0
,127,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,205,205,1.0
,127,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,100,100,1.0
,127,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,244,244,1.0
,127,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,158,158,1.0
,127,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,205,205,1.0
,127,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,100,100,1.0
,127,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,249,705,0.35319148936170214
,127,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,152,705,0.21560283687943263
,127,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,205,705,0.2907801418439716
,127,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,99,705,0.14042553191489363

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,127,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,127,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,127,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,127,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,127,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,127,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,127,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,127,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,127,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,127,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,127,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,127,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,127,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,127,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,127,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,127,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,127,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,127,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,127,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,127,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,127,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,127,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,127,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,127,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,127,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,127,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,127,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,127,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,127,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,127,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,127,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,127,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,127,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(702) at sslateingress > total capcity(0) at frontend
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-127, gap: 1.0160088539123535
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,198
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,151
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,103
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,250
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,176 -> new_capacity, 176
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,176 -> new_capacity, 176
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,176 -> new_capacity, 176
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,176 -> new_capacity, 176
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-128 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-128
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 702}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 702}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 736}, 'frontend': {'frontend@POST@/cart/checkout': 709}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 695}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 680}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 726}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2433}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:41:00 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-128, gap: 0.9778552055358887
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,204
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,159
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,107
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,260
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.4069039821624756
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.644670009613037 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-129
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-129, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,129,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,244,251,0.9721115537848606
,129,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,7,251,0.027888446215139442
,129,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,151,151,1.0
,129,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,198,198,1.0
,129,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,103,103,1.0
,129,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,244,244,1.0
,129,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,158,158,1.0
,129,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,198,198,1.0
,129,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,104,104,1.0
,129,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,244,244,1.0
,129,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,158,158,1.0
,129,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,198,198,1.0
,129,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,104,104,1.0
,129,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,244,244,1.0
,129,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,158,158,1.0
,129,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,198,198,1.0
,129,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,104,104,1.0
,129,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,244,244,1.0
,129,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,158,158,1.0
,129,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,198,198,1.0
,129,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,104,104,1.0
,129,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,244,244,1.0
,129,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,158,158,1.0
,129,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,198,198,1.0
,129,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,104,104,1.0
,129,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,244,244,1.0
,129,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,158,158,1.0
,129,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,198,198,1.0
,129,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,104,104,1.0
,129,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,250,702,0.3561253561253561
,129,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,151,702,0.2150997150997151
,129,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,198,702,0.28205128205128205
,129,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,103,702,0.1467236467236467

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,129,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,129,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,129,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,129,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,129,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,129,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,129,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,129,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,129,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,129,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,129,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,129,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,129,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,129,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,129,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,129,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,129,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,129,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,129,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,129,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,129,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,129,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,129,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,129,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,129,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,129,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,129,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,129,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,129,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,129,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,129,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,129,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,129,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-129, gap: 1.0091676712036133
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,210
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,164
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,102
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,257
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(733) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,184 -> new_capacity, 184
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,184 -> new_capacity, 184
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,184 -> new_capacity, 184
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,184 -> new_capacity, 184
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-130 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-130
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 762}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 733}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 733}, 'frontend': {'frontend@POST@/cart/checkout': 719}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 698}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 698}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 725}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2445}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
__main__ - perform_jumping(line:292) - INFO - loghill temp_counter 130 (current ruleset  prev_processing_latency: 282.5949679329058, cur_processing_latency: 310.8367952522255
__main__ - calculate_ruleset_overperformance(line:722) - INFO - calculate_ruleset_overperformance: rules:
Index(['src_svc', 'dst_svc', 'src_endpoint', 'dst_endpoint', 'src_cid',
       'dst_cid', 'flow', 'total', 'weight'],
      dtype='object')
__main__ - calculate_ruleset_overperformance(line:727) - INFO - calculate_ruleset_overperformance: src_regions: ['us-east-1' 'us-south-1' 'us-central-1' 'us-west-1']
__main__ - calculate_ruleset_overperformance(line:735) - INFO - calculate_ruleset_overperformance: src_region: us-east-1, dst_regions: ['us-east-1' 'us-south-1']
__main__ - calculate_ruleset_overperformance(line:754) - INFO - loghill calculate_ruleset_overperformance: src_region: us-east-1, dst_region: us-east-1, expected_latency: 18.713642446276513, actual_latency: 0, load in us-east-1 for this ruleset: 247.95238095238093
__main__ - calculate_ruleset_overperformance(line:754) - INFO - loghill calculate_ruleset_overperformance: src_region: us-east-1, dst_region: us-south-1, expected_latency: 7.596352219167232, actual_latency: 139.0, load in us-south-1 for this ruleset: 6.0476190476190474
__main__ - perform_jumping(line:297) - INFO - loghill ruleset_overperformance: {'us-east-1': {'us-east-1': 4640.0922008458, 'us-south-1': -794.6792032459886}}
__main__ - perform_jumping(line:382) - INFO - loghill reversing direction from 1 to -1
__main__ - perform_jumping(line:384) - INFO - loghill old cur_convex_comb_value: 0
__main__ - perform_jumping(line:393) - INFO - loghill new cur_convex_comb_value: 0
apscheduler.executors.default - run_job(line:131) - ERROR - Job "perform_jumping (trigger: interval[0:00:10], next run at: 2024-10-28 03:41:11 UTC)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/app/global_controller.py", line 396, in perform_jumping
    jumping_df = jump_towards_optimizer_desired(starting_df, desired_df, cur_convex_comb_value).copy()
  File "/app/global_controller.py", line 548, in jump_towards_optimizer_desired
    raise ValueError(f"{df_name} must contain columns: {required_columns} (has columns: {df.columns})")
ValueError: desired_df must contain columns: {'src_svc', 'dst_svc'} (has columns: RangeIndex(start=0, stop=0, step=1))
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:41:02 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-130, gap: 0.9916532039642334
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,209
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,160
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,102
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,248
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.555077075958252
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.971217155456543 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-131
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-131, result: model solved
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:41:03 UTC)" skipped: maximum number of running instances reached (1)
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,131,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,252,258,0.9767441860465116
,131,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,258,0.023255813953488372
,131,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,164,164,1.0
,131,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,210,210,1.0
,131,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,102,102,1.0
,131,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,252,252,1.0
,131,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,170,170,1.0
,131,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,210,210,1.0
,131,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,103,103,1.0
,131,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,252,252,1.0
,131,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,170,170,1.0
,131,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,210,210,1.0
,131,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,103,103,1.0
,131,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,252,252,1.0
,131,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,170,170,1.0
,131,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,210,210,1.0
,131,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,103,103,1.0
,131,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,252,252,1.0
,131,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,170,170,1.0
,131,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,210,210,1.0
,131,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,103,103,1.0
,131,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,252,252,1.0
,131,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,170,170,1.0
,131,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,210,210,1.0
,131,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,103,103,1.0
,131,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,252,252,1.0
,131,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,170,170,1.0
,131,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,210,210,1.0
,131,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,103,103,1.0
,131,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,257,733,0.3506139154160982
,131,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,164,733,0.22373806275579808
,131,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,210,733,0.286493860845839
,131,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,102,733,0.13915416098226466

__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-131, gap: 1.0205769538879395
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,209
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,163
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,100
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,248
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,131,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,131,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,131,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,131,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,131,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,131,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,131,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,131,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,131,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,131,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,131,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,131,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,131,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,131,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,131,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,131,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,131,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,131,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,131,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,131,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,131,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,131,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,131,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,131,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,131,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,131,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,131,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,131,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,131,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,131,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,131,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,131,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,131,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-132, gap: 0.9882314205169678
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,207
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,147
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,100
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,248
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(702) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,176 -> new_capacity, 176
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,176 -> new_capacity, 176
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,176 -> new_capacity, 176
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,176 -> new_capacity, 176
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-133 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-133
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 772}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 702}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 709}, 'frontend': {'frontend@POST@/cart/checkout': 726}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 705}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 699}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 703}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2455}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:41:05 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-133, gap: 0.9896342754364014
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,211
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,147
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,100
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,254
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.4911468029022217
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.923492193222046 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-134
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-134, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,134,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,242,249,0.9718875502008032
,134,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,7,249,0.028112449799196786
,134,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,147,147,1.0
,134,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,207,207,1.0
,134,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,100,100,1.0
,134,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,242,242,1.0
,134,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,154,154,1.0
,134,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,207,207,1.0
,134,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,101,101,1.0
,134,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,242,242,1.0
,134,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,154,154,1.0
,134,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,207,207,1.0
,134,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,101,101,1.0
,134,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,242,242,1.0
,134,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,154,154,1.0
,134,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,207,207,1.0
,134,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,101,101,1.0
,134,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,242,242,1.0
,134,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,154,154,1.0
,134,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,207,207,1.0
,134,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,101,101,1.0
,134,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,242,242,1.0
,134,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,154,154,1.0
,134,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,207,207,1.0
,134,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,101,101,1.0
,134,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,242,242,1.0
,134,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,154,154,1.0
,134,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,207,207,1.0
,134,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,101,101,1.0
,134,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,248,702,0.35327635327635326
,134,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,147,702,0.2094017094017094
,134,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,207,702,0.2948717948717949
,134,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,100,702,0.14245014245014245

apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:41:06 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-134, gap: 1.0415105819702148
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,209
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,153
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,100
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,251
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,134,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,134,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,134,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,134,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,134,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,134,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,134,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,134,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,134,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,134,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,134,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,134,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,134,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,134,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,134,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,134,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,134,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,134,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,134,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,134,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,134,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,134,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,134,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,134,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,134,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,134,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,134,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,134,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,134,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,134,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,134,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,134,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,134,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-135, gap: 0.9597723484039307
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,210
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,155
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,101
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,256
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(722) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-136 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-136
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 745}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 722}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 706}, 'frontend': {'frontend@POST@/cart/checkout': 708}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 728}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 742}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 713}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2430}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:41:08 UTC)" skipped: maximum number of running instances reached (1)
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-136, gap: 0.9948561191558838
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,218
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,155
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,100
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,247
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.45357728004455566
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.8064074516296387 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-137
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-137, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,137,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,248,257,0.9649805447470817
,137,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,9,257,0.03501945525291829
,137,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,155,155,1.0
,137,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,210,210,1.0
,137,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,137,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,248,248,1.0
,137,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,164,164,1.0
,137,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,210,210,1.0
,137,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,137,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,248,248,1.0
,137,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,164,164,1.0
,137,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,210,210,1.0
,137,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,137,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,248,248,1.0
,137,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,164,164,1.0
,137,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,210,210,1.0
,137,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,137,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,248,248,1.0
,137,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,164,164,1.0
,137,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,210,210,1.0
,137,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,137,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,248,248,1.0
,137,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,164,164,1.0
,137,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,210,210,1.0
,137,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,137,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,248,248,1.0
,137,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,164,164,1.0
,137,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,210,210,1.0
,137,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,137,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,256,722,0.3545706371191136
,137,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,155,722,0.2146814404432133
,137,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,210,722,0.29085872576177285
,137,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,722,0.13988919667590027

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,137,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,137,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,137,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,137,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,137,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,137,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,137,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,137,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,137,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,137,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,137,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,137,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,137,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,137,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,137,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,137,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,137,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,137,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,137,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,137,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,137,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,137,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,137,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,137,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,137,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,137,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,137,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,137,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,137,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,137,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,137,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,137,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,137,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-137, gap: 1.0142693519592285
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,222
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,155
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,96
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,249
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(722) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-138 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-138
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 752}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 722}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 704}, 'frontend': {'frontend@POST@/cart/checkout': 714}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 720}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 735}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 710}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2450}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:41:10 UTC)" skipped: maximum number of running instances reached (1)
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-138, gap: 0.9964418411254883
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,210
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,163
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,106
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,249
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.6062657833099365
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.8413898944854736 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-139
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-139, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,139,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,250,0.984
,139,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,4,250,0.016
,139,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,155,155,1.0
,139,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,214,223,0.9596412556053812
,139,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-west-1,9,223,0.04035874439461883
,139,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,96,96,1.0
,139,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,139,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,159,159,1.0
,139,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,214,214,1.0
,139,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,105,105,1.0
,139,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,139,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,159,159,1.0
,139,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,214,214,1.0
,139,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,105,105,1.0
,139,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,139,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,159,159,1.0
,139,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,214,214,1.0
,139,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,105,105,1.0
,139,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,139,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,159,159,1.0
,139,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,214,214,1.0
,139,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,105,105,1.0
,139,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,139,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,159,159,1.0
,139,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,214,214,1.0
,139,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,105,105,1.0
,139,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,139,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,159,159,1.0
,139,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,214,214,1.0
,139,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,105,105,1.0
,139,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,249,722,0.3448753462603878
,139,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,155,722,0.2146814404432133
,139,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,222,722,0.3074792243767313
,139,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,96,722,0.1329639889196676

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,139,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,139,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,139,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,139,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,139,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,139,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,139,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,139,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,139,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,139,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,139,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,139,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,139,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,139,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,139,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,139,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,139,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,139,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,139,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,139,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,139,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,139,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,139,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,139,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,139,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,139,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,139,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,139,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,139,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,139,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,139,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,139,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,139,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-139, gap: 0.9883439540863037
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,209
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,164
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,106
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,255
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(734) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,184 -> new_capacity, 184
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,184 -> new_capacity, 184
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,184 -> new_capacity, 184
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,184 -> new_capacity, 184
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-140 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-140
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 783}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 734}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 717}, 'frontend': {'frontend@POST@/cart/checkout': 722}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 784}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 720}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 702}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2457}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
__main__ - perform_jumping(line:292) - INFO - loghill temp_counter 140 (current ruleset  prev_processing_latency: 310.8367952522255, cur_processing_latency: 273.8511934992382
__main__ - calculate_ruleset_overperformance(line:722) - INFO - calculate_ruleset_overperformance: rules:
Index(['src_svc', 'dst_svc', 'src_endpoint', 'dst_endpoint', 'src_cid',
       'dst_cid', 'flow', 'total', 'weight'],
      dtype='object')
__main__ - calculate_ruleset_overperformance(line:727) - INFO - calculate_ruleset_overperformance: src_regions: ['us-east-1' 'us-south-1' 'us-central-1' 'us-west-1']
__main__ - calculate_ruleset_overperformance(line:735) - INFO - calculate_ruleset_overperformance: src_region: us-east-1, dst_regions: ['us-east-1' 'us-south-1']
__main__ - calculate_ruleset_overperformance(line:754) - INFO - loghill calculate_ruleset_overperformance: src_region: us-east-1, dst_region: us-east-1, expected_latency: 18.29768100560894, actual_latency: 447.3253796095445, load in us-east-1 for this ruleset: 245.02380952380952
__main__ - calculate_ruleset_overperformance(line:754) - INFO - loghill calculate_ruleset_overperformance: src_region: us-east-1, dst_region: us-south-1, expected_latency: 8.657259814374815, actual_latency: 137.03030303030303, load in us-south-1 for this ruleset: 5.976190476190476
__main__ - perform_jumping(line:297) - INFO - loghill ruleset_overperformance: {'us-east-1': {'us-east-1': -105122.00110316907, 'us-south-1': -767.1817582666187}}
__main__ - perform_jumping(line:384) - INFO - loghill old cur_convex_comb_value: 0
__main__ - perform_jumping(line:393) - INFO - loghill new cur_convex_comb_value: 0.25
apscheduler.executors.default - run_job(line:131) - ERROR - Job "perform_jumping (trigger: interval[0:00:10], next run at: 2024-10-28 03:41:21 UTC)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/app/global_controller.py", line 396, in perform_jumping
    jumping_df = jump_towards_optimizer_desired(starting_df, desired_df, cur_convex_comb_value).copy()
  File "/app/global_controller.py", line 548, in jump_towards_optimizer_desired
    raise ValueError(f"{df_name} must contain columns: {required_columns} (has columns: {df.columns})")
ValueError: desired_df must contain columns: {'src_svc', 'dst_svc'} (has columns: RangeIndex(start=0, stop=0, step=1))
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:41:12 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-140, gap: 1.010530710220337
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,197
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,159
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,101
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,250
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.4432828426361084
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.672250509262085 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-141
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-141, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,141,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,252,256,0.984375
,141,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,4,256,0.015625
,141,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,164,164,1.0
,141,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,209,209,1.0
,141,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,106,106,1.0
,141,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,252,252,1.0
,141,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,168,168,1.0
,141,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,209,209,1.0
,141,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,107,107,1.0
,141,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,252,252,1.0
,141,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,168,168,1.0
,141,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,209,209,1.0
,141,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,107,107,1.0
,141,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,252,252,1.0
,141,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,168,168,1.0
,141,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,209,209,1.0
,141,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,107,107,1.0
,141,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,252,252,1.0
,141,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,168,168,1.0
,141,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,209,209,1.0
,141,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,107,107,1.0
,141,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,252,252,1.0
,141,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,168,168,1.0
,141,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,209,209,1.0
,141,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,107,107,1.0
,141,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,252,252,1.0
,141,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,168,168,1.0
,141,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,209,209,1.0
,141,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,107,107,1.0
,141,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,255,734,0.3474114441416894
,141,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,164,734,0.22343324250681199
,141,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,209,734,0.2847411444141689
,141,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,106,734,0.1444141689373297

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,141,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,141,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,141,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,141,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,141,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,141,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,141,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,141,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,141,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,141,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,141,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,141,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,141,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,141,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,141,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,141,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,141,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,141,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,141,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,141,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,141,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,141,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,141,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,141,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,141,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,141,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,141,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,141,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,141,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,141,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,141,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,141,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,141,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(709) at sslateingress > total capcity(0) at frontend
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-141, gap: 1.0056273937225342
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,201
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,152
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,106
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,250
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,178 -> new_capacity, 178
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,178 -> new_capacity, 178
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,178 -> new_capacity, 178
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,178 -> new_capacity, 178
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-142 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-142
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 752}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 709}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 699}, 'frontend': {'frontend@POST@/cart/checkout': 739}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 724}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 662}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 728}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2461}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:41:14 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-142, gap: 0.992534875869751
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,196
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,156
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,104
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,250
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:41:15 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-143, gap: 0.9987475872039795
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,198
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,145
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,102
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,250
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.4703691005706787
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.9842123985290527 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-144
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-144, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,144,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,245,251,0.9760956175298805
,144,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,251,0.02390438247011952
,144,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,152,152,1.0
,144,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,201,201,1.0
,144,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,106,106,1.0
,144,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,245,245,1.0
,144,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,158,158,1.0
,144,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,201,201,1.0
,144,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,106,106,1.0
,144,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,245,245,1.0
,144,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,158,158,1.0
,144,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,201,201,1.0
,144,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,106,106,1.0
,144,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,245,245,1.0
,144,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,158,158,1.0
,144,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,201,201,1.0
,144,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,106,106,1.0
,144,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,245,245,1.0
,144,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,158,158,1.0
,144,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,201,201,1.0
,144,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,106,106,1.0
,144,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,245,245,1.0
,144,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,158,158,1.0
,144,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,201,201,1.0
,144,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,106,106,1.0
,144,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,245,245,1.0
,144,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,158,158,1.0
,144,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,201,201,1.0
,144,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,106,106,1.0
,144,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,250,709,0.3526093088857546
,144,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,152,709,0.2143864598025388
,144,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,201,709,0.2834978843441467
,144,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,106,709,0.14950634696755993

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,144,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,144,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,144,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,144,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,144,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,144,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,144,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,144,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,144,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,144,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,144,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,144,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,144,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,144,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,144,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,144,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,144,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,144,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,144,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,144,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,144,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,144,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,144,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,144,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,144,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,144,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,144,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,144,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,144,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,144,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,144,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,144,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,144,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(703) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,176 -> new_capacity, 176
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,176 -> new_capacity, 176
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,176 -> new_capacity, 176
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,176 -> new_capacity, 176
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-144 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-144
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 743}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 703}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 716}, 'frontend': {'frontend@POST@/cart/checkout': 723}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 734}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 672}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 727}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2435}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-144, gap: 1.038109540939331
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,211
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,148
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,93
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,251
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:41:17 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-145, gap: 0.9679958820343018
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,217
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,148
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,93
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,250
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.49820375442504883
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.7033586502075195 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-146
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-146, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,146,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,244,252,0.9682539682539683
,146,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,8,252,0.031746031746031744
,146,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,148,148,1.0
,146,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,210,212,0.9905660377358491
,146,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-west-1,2,212,0.009433962264150943
,146,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,93,93,1.0
,146,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,244,244,1.0
,146,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,156,156,1.0
,146,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,210,210,1.0
,146,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,95,95,1.0
,146,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,244,244,1.0
,146,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,156,156,1.0
,146,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,210,210,1.0
,146,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,95,95,1.0
,146,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,244,244,1.0
,146,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,156,156,1.0
,146,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,210,210,1.0
,146,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,95,95,1.0
,146,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,244,244,1.0
,146,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,156,156,1.0
,146,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,210,210,1.0
,146,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,95,95,1.0
,146,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,244,244,1.0
,146,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,156,156,1.0
,146,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,210,210,1.0
,146,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,95,95,1.0
,146,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,244,244,1.0
,146,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,156,156,1.0
,146,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,210,210,1.0
,146,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,95,95,1.0
,146,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,703,0.35704125177809387
,146,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,148,703,0.21052631578947367
,146,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,211,703,0.30014224751066854
,146,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,93,703,0.13229018492176386

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,146,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,146,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,146,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,146,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,146,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,146,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,146,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,146,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,146,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,146,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,146,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,146,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,146,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,146,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,146,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,146,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,146,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,146,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,146,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,146,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,146,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,146,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,146,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,146,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,146,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,146,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,146,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,146,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,146,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,146,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,146,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,146,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,146,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-146, gap: 1.0210096836090088
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,217
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,153
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,106
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,243
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(719) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,180 -> new_capacity, 180
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,180 -> new_capacity, 180
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,180 -> new_capacity, 180
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,180 -> new_capacity, 180
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-147 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-147
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 752}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 719}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 715}, 'frontend': {'frontend@POST@/cart/checkout': 729}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 728}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 701}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 708}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2407}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:41:19 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-147, gap: 0.9760265350341797
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,212
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,151
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,106
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,248
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:41:20 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-148, gap: 1.0521290302276611
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,209
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,151
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,106
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,248
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.5085937976837158
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 2.1731035709381104 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-149
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-149, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,149,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,242,244,0.9918032786885246
,149,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,2,244,0.00819672131147541
,149,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,153,153,1.0
,149,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,216,218,0.9908256880733946
,149,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-west-1,2,218,0.009174311926605505
,149,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,106,106,1.0
,149,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,242,242,1.0
,149,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,155,155,1.0
,149,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,216,216,1.0
,149,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,108,108,1.0
,149,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,242,242,1.0
,149,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,155,155,1.0
,149,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,216,216,1.0
,149,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,108,108,1.0
,149,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,242,242,1.0
,149,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,155,155,1.0
,149,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,216,216,1.0
,149,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,108,108,1.0
,149,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,242,242,1.0
,149,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,155,155,1.0
,149,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,216,216,1.0
,149,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,108,108,1.0
,149,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,242,242,1.0
,149,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,155,155,1.0
,149,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,216,216,1.0
,149,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,108,108,1.0
,149,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,242,242,1.0
,149,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,155,155,1.0
,149,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,216,216,1.0
,149,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,108,108,1.0
,149,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,243,719,0.3379694019471488
,149,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,153,719,0.21279554937413073
,149,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,217,719,0.30180806675938804
,149,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,106,719,0.1474269819193324

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,149,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,149,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,149,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,149,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,149,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,149,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,149,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,149,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,149,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,149,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,149,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,149,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,149,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,149,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,149,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,149,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,149,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,149,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,149,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,149,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,149,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,149,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,149,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,149,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,149,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,149,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,149,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,149,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,149,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,149,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,149,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,149,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,149,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(719) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,180 -> new_capacity, 180
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,180 -> new_capacity, 180
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,180 -> new_capacity, 180
__main__ - perform_jumping(line:292) - INFO - loghill temp_counter 149 (current ruleset  prev_processing_latency: 273.8511934992382, cur_processing_latency: 281.8782991202346
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,180 -> new_capacity, 180
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-149, gap: 1.0022566318511963
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,208
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,149
__main__ - calculate_ruleset_overperformance(line:722) - INFO - calculate_ruleset_overperformance: rules:
Index(['src_svc', 'dst_svc', 'src_endpoint', 'dst_endpoint', 'src_cid',
       'dst_cid', 'flow', 'total', 'weight'],
      dtype='object')
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,107
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,255
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-149 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-150
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
__main__ - calculate_ruleset_overperformance(line:727) - INFO - calculate_ruleset_overperformance: src_regions: ['us-east-1' 'us-south-1' 'us-central-1' 'us-west-1']
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 748}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 719}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 715}, 'frontend': {'frontend@POST@/cart/checkout': 712}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 721}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 698}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 750}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2442}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
__main__ - calculate_ruleset_overperformance(line:735) - INFO - calculate_ruleset_overperformance: src_region: us-east-1, dst_regions: ['us-east-1' 'us-south-1']
__main__ - calculate_ruleset_overperformance(line:754) - INFO - loghill calculate_ruleset_overperformance: src_region: us-east-1, dst_region: us-east-1, expected_latency: 17.346323651210838, actual_latency: 0, load in us-east-1 for this ruleset: 238.19047619047618
__main__ - calculate_ruleset_overperformance(line:754) - INFO - loghill calculate_ruleset_overperformance: src_region: us-east-1, dst_region: us-south-1, expected_latency: 8.205605312791878, actual_latency: 139.47214854111405, load in us-south-1 for this ruleset: 5.809523809523809
__main__ - perform_jumping(line:297) - INFO - loghill ruleset_overperformance: {'us-east-1': {'us-east-1': 4131.729090636029, 'us-south-1': -762.5961082788241}}
__main__ - perform_jumping(line:382) - INFO - loghill reversing direction from 1 to -1
__main__ - perform_jumping(line:384) - INFO - loghill old cur_convex_comb_value: 0.25
__main__ - perform_jumping(line:393) - INFO - loghill new cur_convex_comb_value: 0.0
apscheduler.executors.default - run_job(line:131) - ERROR - Job "perform_jumping (trigger: interval[0:00:10], next run at: 2024-10-28 03:41:31 UTC)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/app/global_controller.py", line 396, in perform_jumping
    jumping_df = jump_towards_optimizer_desired(starting_df, desired_df, cur_convex_comb_value).copy()
  File "/app/global_controller.py", line 548, in jump_towards_optimizer_desired
    raise ValueError(f"{df_name} must contain columns: {required_columns} (has columns: {df.columns})")
ValueError: desired_df must contain columns: {'src_svc', 'dst_svc'} (has columns: RangeIndex(start=0, stop=0, step=1))
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:41:22 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-150, gap: 0.9367067813873291
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,208
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,151
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,107
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,255
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.4782238006591797
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.8093414306640625 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-151
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-151, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,151,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,256,0.9609375
,151,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,10,256,0.0390625
,151,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,149,149,1.0
,151,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,208,208,1.0
,151,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,107,107,1.0
,151,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,151,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,159,159,1.0
,151,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,208,208,1.0
,151,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,108,108,1.0
,151,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,151,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,159,159,1.0
,151,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,208,208,1.0
,151,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,108,108,1.0
,151,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,151,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,159,159,1.0
,151,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,208,208,1.0
,151,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,108,108,1.0
,151,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,151,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,159,159,1.0
,151,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,208,208,1.0
,151,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,108,108,1.0
,151,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,151,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,159,159,1.0
,151,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,208,208,1.0
,151,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,108,108,1.0
,151,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,151,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,159,159,1.0
,151,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,208,208,1.0
,151,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,108,108,1.0
,151,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,255,719,0.35465924895688455
,151,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,149,719,0.20723226703755215
,151,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,208,719,0.28929068150208626
,151,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,107,719,0.14881780250347706

apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:41:23 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-151, gap: 1.1060104370117188
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,200
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,157
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,105
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,248
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,151,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,151,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,151,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,151,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,151,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,151,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,151,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,151,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,151,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,151,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,151,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,151,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,151,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,151,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,151,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,151,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,151,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,151,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,151,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,151,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,151,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,151,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,151,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,151,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,151,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,151,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,151,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,151,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,151,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,151,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,151,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,151,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,151,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(708) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,178 -> new_capacity, 178
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,178 -> new_capacity, 178
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,178 -> new_capacity, 178
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,178 -> new_capacity, 178
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-152 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-152
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 767}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 708}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 712}, 'frontend': {'frontend@POST@/cart/checkout': 716}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 728}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 690}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 700}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2443}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-152, gap: 0.9037299156188965
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,200
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,155
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,104
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,249
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:41:25 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-153, gap: 0.9761257171630859
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,201
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,155
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,103
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,239
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.39482569694519043
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.418802261352539 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-154
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-154, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,154,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,250,0.984
,154,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,4,250,0.016
,154,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,155,155,1.0
,154,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,200,200,1.0
,154,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,104,104,1.0
,154,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,154,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,159,159,1.0
,154,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,200,200,1.0
,154,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,105,105,1.0
,154,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,154,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,159,159,1.0
,154,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,200,200,1.0
,154,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,105,105,1.0
,154,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,154,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,159,159,1.0
,154,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,200,200,1.0
,154,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,105,105,1.0
,154,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,154,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,159,159,1.0
,154,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,200,200,1.0
,154,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,105,105,1.0
,154,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,154,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,159,159,1.0
,154,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,200,200,1.0
,154,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,105,105,1.0
,154,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,154,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,159,159,1.0
,154,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,200,200,1.0
,154,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,105,105,1.0
,154,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,249,708,0.3516949152542373
,154,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,155,708,0.2189265536723164
,154,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,200,708,0.2824858757062147
,154,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,104,708,0.14689265536723164

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,154,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,154,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,154,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,154,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,154,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,154,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,154,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,154,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,154,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,154,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,154,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,154,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,154,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,154,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,154,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,154,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,154,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,154,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,154,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,154,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,154,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,154,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,154,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,154,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,154,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,154,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,154,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,154,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,154,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,154,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,154,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,154,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,154,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-154, gap: 1.0016260147094727
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,213
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,160
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,103
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,239
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(715) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-155 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-155
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 753}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 715}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 724}, 'frontend': {'frontend@POST@/cart/checkout': 708}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 701}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 686}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 702}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2426}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:41:27 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-155, gap: 1.0172064304351807
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,206
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,158
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,110
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,239
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.5174357891082764
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.7035837173461914 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-156
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-156, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,156,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,239,239,1.0
,156,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,160,160,1.0
,156,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,213,213,1.0
,156,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,103,103,1.0
,156,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,239,239,1.0
,156,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,161,161,1.0
,156,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,213,213,1.0
,156,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,104,104,1.0
,156,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,239,239,1.0
,156,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,161,161,1.0
,156,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,213,213,1.0
,156,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,104,104,1.0
,156,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,239,239,1.0
,156,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,161,161,1.0
,156,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,213,213,1.0
,156,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,104,104,1.0
,156,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,239,239,1.0
,156,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,161,161,1.0
,156,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,213,213,1.0
,156,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,104,104,1.0
,156,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,239,239,1.0
,156,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,161,161,1.0
,156,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,213,213,1.0
,156,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,104,104,1.0
,156,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,239,239,1.0
,156,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,161,161,1.0
,156,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,213,213,1.0
,156,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,104,104,1.0
,156,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,239,715,0.33426573426573425
,156,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,160,715,0.22377622377622378
,156,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,213,715,0.29790209790209793
,156,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,103,715,0.14405594405594405

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,156,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,156,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,156,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,156,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,156,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,156,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,156,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,156,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,156,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,156,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,156,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,156,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,156,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,156,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,156,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,156,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,156,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,156,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,156,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,156,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,156,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,156,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,156,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,156,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,156,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,156,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,156,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,156,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,156,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,156,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,156,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,156,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,156,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(707) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,177 -> new_capacity, 177
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,177 -> new_capacity, 177
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-156, gap: 1.0042834281921387
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,206
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,148
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,106
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,247
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,177 -> new_capacity, 177
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,177 -> new_capacity, 177
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-157 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-157
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 744}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 707}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 724}, 'frontend': {'frontend@POST@/cart/checkout': 709}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 716}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 720}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 695}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2466}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:41:29 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-157, gap: 1.011753797531128
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,206
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,143
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,102
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,248
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.42935919761657715
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.863189458847046 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-158
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-158, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,158,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,242,248,0.9758064516129032
,158,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,248,0.024193548387096774
,158,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,148,148,1.0
,158,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,158,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,106,106,1.0
,158,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,242,242,1.0
,158,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,154,154,1.0
,158,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,158,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,107,107,1.0
,158,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,242,242,1.0
,158,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,154,154,1.0
,158,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,158,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,107,107,1.0
,158,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,242,242,1.0
,158,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,154,154,1.0
,158,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,158,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,107,107,1.0
,158,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,242,242,1.0
,158,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,154,154,1.0
,158,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,158,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,107,107,1.0
,158,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,242,242,1.0
,158,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,154,154,1.0
,158,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,158,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,107,107,1.0
,158,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,242,242,1.0
,158,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,154,154,1.0
,158,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,158,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,107,107,1.0
,158,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,247,707,0.3493635077793494
,158,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,148,707,0.20933521923620935
,158,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,707,0.2913719943422914
,158,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,106,707,0.14992927864214992

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,158,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,158,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,158,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,158,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,158,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,158,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,158,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,158,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,158,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,158,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,158,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,158,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,158,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,158,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,158,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,158,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,158,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,158,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,158,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,158,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,158,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,158,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,158,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,158,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,158,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,158,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,158,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,158,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,158,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,158,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,158,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,158,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,158,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(715) at sslateingress > total capcity(0) at frontend
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-158, gap: 0.9952642917633057
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,205
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,153
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,106
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,251
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-159 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-159
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 743}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 715}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 721}, 'frontend': {'frontend@POST@/cart/checkout': 715}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 712}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 655}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 709}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2462}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:41:31 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-159, gap: 0.9732131958007812
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,205
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,152
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,106
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,244
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - perform_jumping(line:292) - INFO - loghill temp_counter 159 (current ruleset  prev_processing_latency: 281.8782991202346, cur_processing_latency: 291.2377480761442
__main__ - calculate_ruleset_overperformance(line:722) - INFO - calculate_ruleset_overperformance: rules:
Index(['src_svc', 'dst_svc', 'src_endpoint', 'dst_endpoint', 'src_cid',
       'dst_cid', 'flow', 'total', 'weight'],
      dtype='object')
__main__ - calculate_ruleset_overperformance(line:727) - INFO - calculate_ruleset_overperformance: src_regions: ['us-east-1' 'us-south-1' 'us-central-1' 'us-west-1']
__main__ - calculate_ruleset_overperformance(line:735) - INFO - calculate_ruleset_overperformance: src_region: us-east-1, dst_regions: ['us-east-1' 'us-south-1']
__main__ - calculate_ruleset_overperformance(line:754) - INFO - loghill calculate_ruleset_overperformance: src_region: us-east-1, dst_region: us-east-1, expected_latency: 18.29768100560894, actual_latency: 428.00129533678756, load in us-east-1 for this ruleset: 245.02380952380952
__main__ - calculate_ruleset_overperformance(line:754) - INFO - loghill calculate_ruleset_overperformance: src_region: us-east-1, dst_region: us-south-1, expected_latency: 7.260288322548682, actual_latency: 138.0, load in us-south-1 for this ruleset: 5.976190476190476
__main__ - perform_jumping(line:297) - INFO - loghill ruleset_overperformance: {'us-east-1': {'us-east-1': -100387.14035909904, 'us-south-1': -781.3254197866734}}
__main__ - perform_jumping(line:382) - INFO - loghill reversing direction from -1 to 1
__main__ - perform_jumping(line:384) - INFO - loghill old cur_convex_comb_value: 0.0
__main__ - perform_jumping(line:393) - INFO - loghill new cur_convex_comb_value: 0.25
apscheduler.executors.default - run_job(line:131) - ERROR - Job "perform_jumping (trigger: interval[0:00:10], next run at: 2024-10-28 03:41:41 UTC)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/app/global_controller.py", line 396, in perform_jumping
    jumping_df = jump_towards_optimizer_desired(starting_df, desired_df, cur_convex_comb_value).copy()
  File "/app/global_controller.py", line 548, in jump_towards_optimizer_desired
    raise ValueError(f"{df_name} must contain columns: {required_columns} (has columns: {df.columns})")
ValueError: desired_df must contain columns: {'src_svc', 'dst_svc'} (has columns: RangeIndex(start=0, stop=0, step=1))
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.446596622467041
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.6579089164733887 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-160
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-160, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,160,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,160,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,160,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,153,153,1.0
,160,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,205,205,1.0
,160,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,106,106,1.0
,160,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,160,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,159,159,1.0
,160,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,205,205,1.0
,160,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,107,107,1.0
,160,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,160,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,159,159,1.0
,160,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,205,205,1.0
,160,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,107,107,1.0
,160,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,160,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,159,159,1.0
,160,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,205,205,1.0
,160,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,107,107,1.0
,160,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,160,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,159,159,1.0
,160,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,205,205,1.0
,160,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,107,107,1.0
,160,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,160,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,159,159,1.0
,160,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,205,205,1.0
,160,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,107,107,1.0
,160,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,160,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,159,159,1.0
,160,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,205,205,1.0
,160,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,107,107,1.0
,160,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,715,0.35104895104895106
,160,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,153,715,0.213986013986014
,160,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,205,715,0.2867132867132867
,160,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,106,715,0.14825174825174825

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,160,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,160,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,160,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,160,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,160,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,160,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,160,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,160,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,160,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,160,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,160,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,160,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,160,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,160,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,160,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,160,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,160,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,160,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,160,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,160,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,160,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,160,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,160,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,160,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,160,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,160,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,160,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,160,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,160,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,160,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,160,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,160,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,160,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(717) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,180 -> new_capacity, 180
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,180 -> new_capacity, 180
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,180 -> new_capacity, 180
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,180 -> new_capacity, 180
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-160 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-160
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 758}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 717}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 693}, 'frontend': {'frontend@POST@/cart/checkout': 715}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 690}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 679}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 688}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2446}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-160, gap: 1.0408825874328613
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,208
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,152
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,106
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,251
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:41:33 UTC)" skipped: maximum number of running instances reached (1)
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-161, gap: 0.9670476913452148
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,203
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,156
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,108
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,249
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.6178882122039795
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.8643803596496582 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-162
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-162, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,162,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,245,252,0.9722222222222222
,162,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,7,252,0.027777777777777776
,162,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,152,152,1.0
,162,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,208,208,1.0
,162,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,106,106,1.0
,162,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,245,245,1.0
,162,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,159,159,1.0
,162,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,208,208,1.0
,162,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,106,106,1.0
,162,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,245,245,1.0
,162,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,159,159,1.0
,162,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,208,208,1.0
,162,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,106,106,1.0
,162,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,245,245,1.0
,162,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,159,159,1.0
,162,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,208,208,1.0
,162,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,106,106,1.0
,162,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,245,245,1.0
,162,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,159,159,1.0
,162,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,208,208,1.0
,162,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,106,106,1.0
,162,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,245,245,1.0
,162,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,159,159,1.0
,162,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,208,208,1.0
,162,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,106,106,1.0
,162,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,245,245,1.0
,162,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,159,159,1.0
,162,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,208,208,1.0
,162,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,106,106,1.0
,162,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,717,0.3500697350069735
,162,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,152,717,0.21199442119944212
,162,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,208,717,0.2900976290097629
,162,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,106,717,0.14783821478382148

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,162,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,162,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,162,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,162,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,162,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,162,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,162,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,162,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,162,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,162,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,162,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,162,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,162,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,162,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,162,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,162,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,162,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,162,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,162,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,162,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,162,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,162,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,162,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,162,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,162,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,162,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,162,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,162,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,162,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,162,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,162,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,162,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,162,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-162, gap: 1.0101861953735352
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,201
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,162
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,108
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,259
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(730) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,183 -> new_capacity, 183
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,183 -> new_capacity, 183
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,183 -> new_capacity, 183
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,183 -> new_capacity, 183
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-163 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-163
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 746}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 730}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 727}, 'frontend': {'frontend@POST@/cart/checkout': 715}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 705}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 717}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 712}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2446}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:41:35 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-163, gap: 0.9761075973510742
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,201
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,160
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,102
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,252
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.6089553833007812
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.9553906917572021 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-164
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-164, result: model solved
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:41:36 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-164, gap: 1.0194101333618164
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,201
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,155
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,105
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,258
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,164,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,252,260,0.9692307692307692
,164,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,8,260,0.03076923076923077
,164,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,162,162,1.0
,164,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,201,201,1.0
,164,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,108,108,1.0
,164,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,252,252,1.0
,164,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,170,170,1.0
,164,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,201,201,1.0
,164,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,109,109,1.0
,164,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,252,252,1.0
,164,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,170,170,1.0
,164,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,201,201,1.0
,164,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,109,109,1.0
,164,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,252,252,1.0
,164,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,170,170,1.0
,164,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,201,201,1.0
,164,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,109,109,1.0
,164,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,252,252,1.0
,164,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,170,170,1.0
,164,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,201,201,1.0
,164,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,109,109,1.0
,164,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,252,252,1.0
,164,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,170,170,1.0
,164,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,201,201,1.0
,164,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,109,109,1.0
,164,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,252,252,1.0
,164,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,170,170,1.0
,164,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,201,201,1.0
,164,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,109,109,1.0
,164,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,259,730,0.3547945205479452
,164,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,162,730,0.2219178082191781
,164,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,201,730,0.27534246575342464
,164,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,108,730,0.14794520547945206

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,165,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,165,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,165,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,165,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,165,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,165,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,165,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,165,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,165,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,165,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,165,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,165,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,165,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,165,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,165,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,165,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,165,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,165,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,165,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,165,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,165,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,165,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,165,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,165,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,165,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,165,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,165,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,165,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,165,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,165,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,165,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,165,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,165,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-165, gap: 0.9893760681152344
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,204
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,155
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,104
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,251
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(714) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-166 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-166
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 753}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 714}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 722}, 'frontend': {'frontend@POST@/cart/checkout': 705}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 699}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 737}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 719}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2432}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:41:38 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-166, gap: 1.0074248313903809
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,204
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,156
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,109
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,245
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.5090460777282715
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.802757740020752 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-167
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-167, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,167,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,167,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,167,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,155,155,1.0
,167,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,204,204,1.0
,167,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,104,104,1.0
,167,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,167,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,161,161,1.0
,167,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,204,204,1.0
,167,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,105,105,1.0
,167,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,167,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,161,161,1.0
,167,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,204,204,1.0
,167,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,105,105,1.0
,167,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,167,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,161,161,1.0
,167,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,204,204,1.0
,167,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,105,105,1.0
,167,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,167,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,161,161,1.0
,167,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,204,204,1.0
,167,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,105,105,1.0
,167,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,167,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,161,161,1.0
,167,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,204,204,1.0
,167,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,105,105,1.0
,167,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,167,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,161,161,1.0
,167,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,204,204,1.0
,167,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,105,105,1.0
,167,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,714,0.35154061624649857
,167,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,155,714,0.21708683473389356
,167,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,204,714,0.2857142857142857
,167,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,104,714,0.14565826330532214

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,167,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,167,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,167,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,167,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,167,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,167,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,167,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,167,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,167,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,167,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,167,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,167,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,167,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,167,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,167,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,167,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,167,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,167,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,167,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,167,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,167,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,167,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,167,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,167,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,167,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,167,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,167,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,167,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,167,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,167,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,167,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,167,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,167,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(712) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-167 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-167
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 735}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 712}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 694}, 'frontend': {'frontend@POST@/cart/checkout': 706}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 690}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 736}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 731}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2422}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-167, gap: 1.01316237449646
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,204
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,160
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,108
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,240
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:41:40 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-168, gap: 0.9988346099853516
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,200
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,152
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,108
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,240
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.4062950611114502
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.9584300518035889 seconds
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:41:41 UTC)" skipped: maximum number of running instances reached (1)
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-169
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-169, result: model solved
__main__ - perform_jumping(line:292) - INFO - loghill temp_counter 169 (current ruleset  prev_processing_latency: 291.2377480761442, cur_processing_latency: 330.44982497082844
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - calculate_ruleset_overperformance(line:722) - INFO - calculate_ruleset_overperformance: rules:
Index(['src_svc', 'dst_svc', 'src_endpoint', 'dst_endpoint', 'src_cid',
       'dst_cid', 'flow', 'total', 'weight'],
      dtype='object')
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-169, gap: 1.0324437618255615
__main__ - calculate_ruleset_overperformance(line:727) - INFO - calculate_ruleset_overperformance: src_regions: ['us-east-1' 'us-south-1' 'us-central-1' 'us-west-1']
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,199
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,153
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,106
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,240
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - calculate_ruleset_overperformance(line:735) - INFO - calculate_ruleset_overperformance: src_region: us-east-1, dst_regions: ['us-east-1' 'us-south-1']
__main__ - calculate_ruleset_overperformance(line:754) - INFO - loghill calculate_ruleset_overperformance: src_region: us-east-1, dst_region: us-east-1, expected_latency: 17.346323651210838, actual_latency: 413.0, load in us-east-1 for this ruleset: 238.19047619047618
__main__ - calculate_ruleset_overperformance(line:754) - INFO - loghill calculate_ruleset_overperformance: src_region: us-east-1, dst_region: us-south-1, expected_latency: 6.85256374209235, actual_latency: 0, load in us-south-1 for this ruleset: 5.809523809523809
__main__ - perform_jumping(line:297) - INFO - loghill ruleset_overperformance: {'us-east-1': {'us-east-1': -94240.93757603064, 'us-south-1': 39.81013221596508}}
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,169,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,240,240,1.0
,169,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,160,160,1.0
,169,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,204,204,1.0
,169,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,108,108,1.0
,169,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,240,240,1.0
,169,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,161,161,1.0
,169,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,204,204,1.0
,169,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,109,109,1.0
,169,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,240,240,1.0
,169,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,161,161,1.0
,169,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,204,204,1.0
,169,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,109,109,1.0
,169,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,240,240,1.0
,169,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,161,161,1.0
,169,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,204,204,1.0
,169,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,109,109,1.0
,169,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,240,240,1.0
,169,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,161,161,1.0
,169,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,204,204,1.0
,169,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,109,109,1.0
,169,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,240,240,1.0
,169,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,161,161,1.0
,169,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,204,204,1.0
,169,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,109,109,1.0
,169,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,240,240,1.0
,169,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,161,161,1.0
,169,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,204,204,1.0
,169,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,109,109,1.0
,169,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,240,712,0.33707865168539325
,169,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,160,712,0.2247191011235955
,169,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,204,712,0.28651685393258425
,169,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,108,712,0.15168539325842698

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,170,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,170,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,170,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,170,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,170,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,170,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,170,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,170,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,170,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,170,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,170,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,170,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,170,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,170,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,170,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,170,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,170,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,170,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,170,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,170,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,170,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,170,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,170,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,170,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,170,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,170,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,170,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,170,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,170,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,170,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,170,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,170,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,170,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - perform_jumping(line:382) - INFO - loghill reversing direction from 1 to -1
__main__ - perform_jumping(line:384) - INFO - loghill old cur_convex_comb_value: 0.25
__main__ - perform_jumping(line:393) - INFO - loghill new cur_convex_comb_value: 0.0
apscheduler.executors.default - run_job(line:131) - ERROR - Job "perform_jumping (trigger: interval[0:00:10], next run at: 2024-10-28 03:41:51 UTC)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/app/global_controller.py", line 396, in perform_jumping
    jumping_df = jump_towards_optimizer_desired(starting_df, desired_df, cur_convex_comb_value).copy()
  File "/app/global_controller.py", line 548, in jump_towards_optimizer_desired
    raise ValueError(f"{df_name} must contain columns: {required_columns} (has columns: {df.columns})")
ValueError: desired_df must contain columns: {'src_svc', 'dst_svc'} (has columns: RangeIndex(start=0, stop=0, step=1))
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-170, gap: 0.9299771785736084
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,207
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(724) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,182 -> new_capacity, 182
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,151
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,111
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,255
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,182 -> new_capacity, 182
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,182 -> new_capacity, 182
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,182 -> new_capacity, 182
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-171 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-171
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 754}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 724}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 714}, 'frontend': {'frontend@POST@/cart/checkout': 706}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 733}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 708}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 696}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2450}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:41:43 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-171, gap: 0.9959533214569092
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,209
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,151
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,111
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,259
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.5416018962860107
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.743056297302246 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-172
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-172, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,172,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,256,0.9609375
,172,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,10,256,0.0390625
,172,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,151,151,1.0
,172,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,207,207,1.0
,172,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,111,111,1.0
,172,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,172,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,161,161,1.0
,172,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,207,207,1.0
,172,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,111,111,1.0
,172,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,172,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,161,161,1.0
,172,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,207,207,1.0
,172,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,111,111,1.0
,172,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,172,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,161,161,1.0
,172,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,207,207,1.0
,172,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,111,111,1.0
,172,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,172,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,161,161,1.0
,172,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,207,207,1.0
,172,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,111,111,1.0
,172,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,172,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,161,161,1.0
,172,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,207,207,1.0
,172,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,111,111,1.0
,172,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,172,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,161,161,1.0
,172,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,207,207,1.0
,172,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,111,111,1.0
,172,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,255,724,0.35220994475138123
,172,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,151,724,0.2085635359116022
,172,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,207,724,0.28591160220994477
,172,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,111,724,0.15331491712707182

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,172,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,172,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,172,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,172,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,172,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,172,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,172,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,172,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,172,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,172,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,172,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,172,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,172,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,172,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,172,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,172,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,172,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,172,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,172,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,172,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,172,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,172,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,172,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,172,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,172,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,172,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,172,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,172,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,172,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,172,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,172,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,172,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,172,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(715) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-172, gap: 1.0147192478179932
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,198
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,152
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,112
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,253
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-173 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-173
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 746}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 715}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 706}, 'frontend': {'frontend@POST@/cart/checkout': 702}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 729}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 723}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 735}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2450}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:41:45 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-173, gap: 1.0336480140686035
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,200
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,152
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,104
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,255
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.3511841297149658
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.6474535465240479 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-174
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-174, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,174,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,254,0.968503937007874
,174,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,8,254,0.031496062992125984
,174,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,152,152,1.0
,174,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,198,198,1.0
,174,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,112,112,1.0
,174,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,174,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,174,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,198,198,1.0
,174,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,113,113,1.0
,174,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,174,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,174,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,198,198,1.0
,174,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,113,113,1.0
,174,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,174,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,174,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,198,198,1.0
,174,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,113,113,1.0
,174,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,174,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,174,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,198,198,1.0
,174,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,113,113,1.0
,174,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,174,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,174,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,198,198,1.0
,174,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,113,113,1.0
,174,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,174,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,174,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,198,198,1.0
,174,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,113,113,1.0
,174,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,253,715,0.35384615384615387
,174,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,152,715,0.2125874125874126
,174,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,198,715,0.27692307692307694
,174,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,112,715,0.15664335664335666

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,174,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,174,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,174,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,174,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,174,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,174,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,174,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,174,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,174,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,174,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,174,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,174,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,174,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,174,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,174,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,174,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,174,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,174,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,174,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,174,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,174,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,174,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,174,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,174,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,174,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,174,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,174,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,174,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,174,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,174,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,174,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,174,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,174,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-174, gap: 0.9694607257843018
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,206
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,155
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,99
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,253
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(713) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-175 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-175
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 739}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 713}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 724}, 'frontend': {'frontend@POST@/cart/checkout': 705}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 719}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 711}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 721}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2455}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:41:47 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-175, gap: 1.0000014305114746
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,206
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,162
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,99
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,253
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.42784953117370605
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.629941701889038 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-176
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-176, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,176,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,247,254,0.9724409448818898
,176,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,7,254,0.027559055118110236
,176,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,155,155,1.0
,176,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,176,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,99,99,1.0
,176,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,247,247,1.0
,176,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,162,162,1.0
,176,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,176,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,100,100,1.0
,176,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,247,247,1.0
,176,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,162,162,1.0
,176,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,176,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,100,100,1.0
,176,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,247,247,1.0
,176,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,162,162,1.0
,176,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,176,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,100,100,1.0
,176,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,247,247,1.0
,176,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,162,162,1.0
,176,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,176,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,100,100,1.0
,176,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,247,247,1.0
,176,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,162,162,1.0
,176,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,176,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,100,100,1.0
,176,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,247,247,1.0
,176,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,162,162,1.0
,176,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,176,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,100,100,1.0
,176,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,253,713,0.3548387096774194
,176,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,155,713,0.21739130434782608
,176,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,713,0.28892005610098176
,176,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,99,713,0.1388499298737728

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,176,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,176,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,176,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,176,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,176,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,176,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,176,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,176,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,176,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,176,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,176,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,176,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,176,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,176,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,176,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,176,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,176,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,176,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,176,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,176,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,176,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,176,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,176,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,176,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,176,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,176,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,176,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,176,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,176,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,176,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,176,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,176,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,176,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(724) at sslateingress > total capcity(0) at frontend
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-176, gap: 0.9963369369506836
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,207
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,164
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,99
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,254
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,182 -> new_capacity, 182
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,182 -> new_capacity, 182
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,182 -> new_capacity, 182
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,182 -> new_capacity, 182
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-177 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-177
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 754}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 724}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 725}, 'frontend': {'frontend@POST@/cart/checkout': 715}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 725}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 712}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 711}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2456}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:41:49 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-177, gap: 0.9879610538482666
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,210
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,157
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,95
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,256
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:41:50 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-178, gap: 1.0203921794891357
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,205
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,157
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,97
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,254
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.48497843742370605
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 2.1477577686309814 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-179
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-179, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,179,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,251,255,0.984313725490196
,179,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,4,255,0.01568627450980392
,179,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,164,164,1.0
,179,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,207,207,1.0
,179,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,99,99,1.0
,179,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,251,251,1.0
,179,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,168,168,1.0
,179,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,207,207,1.0
,179,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,100,100,1.0
,179,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,251,251,1.0
,179,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,168,168,1.0
,179,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,207,207,1.0
,179,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,100,100,1.0
,179,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,251,251,1.0
,179,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,168,168,1.0
,179,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,207,207,1.0
,179,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,100,100,1.0
,179,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,251,251,1.0
,179,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,168,168,1.0
,179,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,207,207,1.0
,179,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,100,100,1.0
,179,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,251,251,1.0
,179,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,168,168,1.0
,179,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,207,207,1.0
,179,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,100,100,1.0
,179,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,251,251,1.0
,179,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,168,168,1.0
,179,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,207,207,1.0
,179,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,100,100,1.0
,179,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,254,724,0.35082872928176795
,179,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,164,724,0.2265193370165746
,179,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,207,724,0.28591160220994477
,179,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,99,724,0.13674033149171272

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,179,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,179,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,179,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,179,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,179,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,179,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,179,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,179,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,179,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,179,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,179,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,179,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,179,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,179,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,179,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,179,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,179,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,179,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,179,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,179,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,179,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,179,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,179,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,179,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,179,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,179,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,179,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,179,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,179,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,179,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,179,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,179,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,179,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(721) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-179, gap: 1.004725456237793
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,209
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,154
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,97
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,261
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - perform_jumping(line:292) - INFO - loghill temp_counter 179 (current ruleset  prev_processing_latency: 330.44982497082844, cur_processing_latency: 305.7830714647745
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - calculate_ruleset_overperformance(line:722) - INFO - calculate_ruleset_overperformance: rules:
Index(['src_svc', 'dst_svc', 'src_endpoint', 'dst_endpoint', 'src_cid',
       'dst_cid', 'flow', 'total', 'weight'],
      dtype='object')
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-180 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-180
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
__main__ - calculate_ruleset_overperformance(line:727) - INFO - calculate_ruleset_overperformance: src_regions: ['us-east-1' 'us-south-1' 'us-central-1' 'us-west-1']
__main__ - calculate_ruleset_overperformance(line:735) - INFO - calculate_ruleset_overperformance: src_region: us-east-1, dst_regions: ['us-east-1' 'us-south-1']
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 738}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 721}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 712}, 'frontend': {'frontend@POST@/cart/checkout': 716}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 693}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 671}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 731}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2469}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
__main__ - calculate_ruleset_overperformance(line:754) - INFO - loghill calculate_ruleset_overperformance: src_region: us-east-1, dst_region: us-east-1, expected_latency: 17.750753487582674, actual_latency: 437.0108695652174, load in us-east-1 for this ruleset: 241.11904761904762
__main__ - calculate_ruleset_overperformance(line:754) - INFO - loghill calculate_ruleset_overperformance: src_region: us-east-1, dst_region: us-south-1, expected_latency: 7.596352219167232, actual_latency: 141.4886075949367, load in us-south-1 for this ruleset: 5.8809523809523805
__main__ - perform_jumping(line:297) - INFO - loghill ruleset_overperformance: {'us-east-1': {'us-east-1': -101091.59989329062, 'us-south-1': -787.4139780432155}}
__main__ - perform_jumping(line:384) - INFO - loghill old cur_convex_comb_value: 0.0
__main__ - perform_jumping(line:393) - INFO - loghill new cur_convex_comb_value: 0
apscheduler.executors.default - run_job(line:131) - ERROR - Job "perform_jumping (trigger: interval[0:00:10], next run at: 2024-10-28 03:42:01 UTC)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/app/global_controller.py", line 396, in perform_jumping
    jumping_df = jump_towards_optimizer_desired(starting_df, desired_df, cur_convex_comb_value).copy()
  File "/app/global_controller.py", line 548, in jump_towards_optimizer_desired
    raise ValueError(f"{df_name} must contain columns: {required_columns} (has columns: {df.columns})")
ValueError: desired_df must contain columns: {'src_svc', 'dst_svc'} (has columns: RangeIndex(start=0, stop=0, step=1))
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:41:52 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-180, gap: 0.979358434677124
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,209
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,156
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,97
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,259
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.5080490112304688
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.7617104053497314 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-181
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-181, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,181,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,250,262,0.9541984732824428
,181,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,12,262,0.04580152671755725
,181,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,181,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,209,209,1.0
,181,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,97,97,1.0
,181,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,250,250,1.0
,181,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,166,166,1.0
,181,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,209,209,1.0
,181,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,98,98,1.0
,181,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,250,250,1.0
,181,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,166,166,1.0
,181,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,209,209,1.0
,181,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,98,98,1.0
,181,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,250,250,1.0
,181,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,166,166,1.0
,181,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,209,209,1.0
,181,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,98,98,1.0
,181,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,250,250,1.0
,181,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,166,166,1.0
,181,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,209,209,1.0
,181,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,98,98,1.0
,181,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,250,250,1.0
,181,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,166,166,1.0
,181,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,209,209,1.0
,181,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,98,98,1.0
,181,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,250,250,1.0
,181,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,166,166,1.0
,181,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,209,209,1.0
,181,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,98,98,1.0
,181,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,261,721,0.361997226074896
,181,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,721,0.21359223300970873
,181,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,209,721,0.289875173370319
,181,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,97,721,0.13453536754507628

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,181,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,181,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,181,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,181,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,181,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,181,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,181,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,181,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,181,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,181,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,181,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,181,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,181,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,181,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,181,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,181,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,181,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,181,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,181,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,181,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,181,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,181,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,181,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,181,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,181,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,181,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,181,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,181,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,181,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,181,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,181,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,181,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,181,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-181, gap: 1.0116746425628662
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,205
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,154
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,102
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,254
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(715) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-182 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-182
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 760}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 715}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 713}, 'frontend': {'frontend@POST@/cart/checkout': 743}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 712}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 720}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 744}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2483}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:41:54 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-182, gap: 0.9774336814880371
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,203
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,155
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,105
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,254
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.4618403911590576
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.7224457263946533 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-183
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-183, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,183,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,247,255,0.9686274509803922
,183,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,8,255,0.03137254901960784
,183,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,183,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,205,205,1.0
,183,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,102,102,1.0
,183,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,247,247,1.0
,183,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,162,162,1.0
,183,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,205,205,1.0
,183,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,103,103,1.0
,183,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,247,247,1.0
,183,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,162,162,1.0
,183,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,205,205,1.0
,183,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,103,103,1.0
,183,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,247,247,1.0
,183,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,162,162,1.0
,183,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,205,205,1.0
,183,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,103,103,1.0
,183,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,247,247,1.0
,183,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,162,162,1.0
,183,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,205,205,1.0
,183,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,103,103,1.0
,183,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,247,247,1.0
,183,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,162,162,1.0
,183,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,205,205,1.0
,183,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,103,103,1.0
,183,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,247,247,1.0
,183,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,162,162,1.0
,183,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,205,205,1.0
,183,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,103,103,1.0
,183,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,254,715,0.35524475524475524
,183,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,715,0.2153846153846154
,183,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,205,715,0.2867132867132867
,183,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,102,715,0.14265734265734265

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,183,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,183,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,183,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,183,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,183,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,183,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,183,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,183,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,183,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,183,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,183,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,183,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,183,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,183,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,183,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,183,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,183,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,183,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,183,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,183,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,183,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,183,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,183,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,183,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,183,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,183,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,183,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,183,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,183,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,183,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,183,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,183,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,183,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-183, gap: 1.0320112705230713
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,195
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,141
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,104
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,265
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(705) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,177 -> new_capacity, 177
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,177 -> new_capacity, 177
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,177 -> new_capacity, 177
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,177 -> new_capacity, 177
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-184 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-184
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 778}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 705}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 703}, 'frontend': {'frontend@POST@/cart/checkout': 747}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 704}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 705}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 714}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2435}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:41:56 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-184, gap: 0.984407901763916
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,196
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,146
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,102
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,254
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.364086389541626
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.6293339729309082 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-185
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-185, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,185,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,266,0.924812030075188
,185,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,20,266,0.07518796992481203
,185,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,141,141,1.0
,185,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,195,195,1.0
,185,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,104,104,1.0
,185,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,185,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,161,161,1.0
,185,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,195,195,1.0
,185,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,105,105,1.0
,185,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,185,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,161,161,1.0
,185,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,195,195,1.0
,185,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,105,105,1.0
,185,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,185,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,161,161,1.0
,185,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,195,195,1.0
,185,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,105,105,1.0
,185,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,185,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,161,161,1.0
,185,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,195,195,1.0
,185,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,105,105,1.0
,185,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,185,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,161,161,1.0
,185,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,195,195,1.0
,185,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,105,105,1.0
,185,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,185,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,161,161,1.0
,185,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,195,195,1.0
,185,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,105,105,1.0
,185,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,265,705,0.375886524822695
,185,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,141,705,0.2
,185,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,195,705,0.2765957446808511
,185,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,104,705,0.1475177304964539

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,185,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,185,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,185,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,185,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,185,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,185,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,185,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,185,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,185,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,185,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,185,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,185,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,185,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,185,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,185,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,185,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,185,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,185,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,185,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,185,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,185,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,185,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,185,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,185,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,185,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,185,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,185,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,185,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,185,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,185,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,185,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,185,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,185,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-185, gap: 0.9893584251403809
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,202
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,163
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,105
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,254
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(724) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,182 -> new_capacity, 182
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,182 -> new_capacity, 182
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,182 -> new_capacity, 182
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,182 -> new_capacity, 182
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-186 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-186
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 758}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 724}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 696}, 'frontend': {'frontend@POST@/cart/checkout': 713}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 741}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 734}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 736}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2463}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:41:58 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-186, gap: 0.9944891929626465
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,202
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,156
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,105
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,251
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.4370400905609131
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.653353214263916 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-187
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-187, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,187,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,251,255,0.984313725490196
,187,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,4,255,0.01568627450980392
,187,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,163,163,1.0
,187,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,202,202,1.0
,187,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,105,105,1.0
,187,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,251,251,1.0
,187,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,167,167,1.0
,187,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,202,202,1.0
,187,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,106,106,1.0
,187,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,251,251,1.0
,187,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,167,167,1.0
,187,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,202,202,1.0
,187,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,106,106,1.0
,187,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,251,251,1.0
,187,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,167,167,1.0
,187,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,202,202,1.0
,187,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,106,106,1.0
,187,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,251,251,1.0
,187,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,167,167,1.0
,187,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,202,202,1.0
,187,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,106,106,1.0
,187,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,251,251,1.0
,187,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,167,167,1.0
,187,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,202,202,1.0
,187,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,106,106,1.0
,187,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,251,251,1.0
,187,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,167,167,1.0
,187,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,202,202,1.0
,187,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,106,106,1.0
,187,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,254,724,0.35082872928176795
,187,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,163,724,0.22513812154696133
,187,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,202,724,0.27900552486187846
,187,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,105,724,0.14502762430939226

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,187,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,187,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,187,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,187,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,187,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,187,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,187,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,187,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,187,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,187,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,187,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,187,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,187,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,187,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,187,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,187,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,187,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,187,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,187,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,187,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,187,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,187,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,187,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,187,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,187,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,187,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,187,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,187,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,187,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,187,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,187,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,187,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,187,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(712) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-187, gap: 1.0221168994903564
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,206
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,150
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,105
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,251
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-188 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-188
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 765}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 712}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 744}, 'frontend': {'frontend@POST@/cart/checkout': 701}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 735}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 743}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 705}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2428}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:42:00 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-188, gap: 0.9799773693084717
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,207
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,156
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,102
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,252
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.40978097915649414
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.6778125762939453 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-189
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-189, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,189,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,244,252,0.9682539682539683
,189,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,8,252,0.031746031746031744
,189,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,150,150,1.0
,189,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,189,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,105,105,1.0
,189,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,244,244,1.0
,189,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,158,158,1.0
,189,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,189,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,106,106,1.0
,189,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,244,244,1.0
,189,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,158,158,1.0
,189,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,189,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,106,106,1.0
,189,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,244,244,1.0
,189,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,158,158,1.0
,189,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,189,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,106,106,1.0
,189,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,244,244,1.0
,189,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,158,158,1.0
,189,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,189,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,106,106,1.0
,189,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,244,244,1.0
,189,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,158,158,1.0
,189,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,189,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,106,106,1.0
,189,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,244,244,1.0
,189,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,158,158,1.0
,189,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,189,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,106,106,1.0
,189,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,189,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,150,712,0.21067415730337077
,189,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,189,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,105,712,0.14747191011235955

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,189,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,189,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,189,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,189,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,189,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,189,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,189,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,189,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,189,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,189,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,189,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,189,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,189,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,189,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,189,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,189,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,189,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,189,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,189,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,189,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,189,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,189,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,189,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,189,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,189,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,189,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,189,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,189,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,189,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,189,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,189,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,189,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,189,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-189, gap: 0.9952409267425537
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,213
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,158
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,104
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,238
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(713) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-190 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-190
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 744}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 713}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 727}, 'frontend': {'frontend@POST@/cart/checkout': 717}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 715}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 687}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 701}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2446}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
__main__ - perform_jumping(line:292) - INFO - loghill temp_counter 190 (current ruleset  prev_processing_latency: 305.7830714647745, cur_processing_latency: 241.79851668726823
__main__ - calculate_ruleset_overperformance(line:722) - INFO - calculate_ruleset_overperformance: rules:
Index(['src_svc', 'dst_svc', 'src_endpoint', 'dst_endpoint', 'src_cid',
       'dst_cid', 'flow', 'total', 'weight'],
      dtype='object')
__main__ - calculate_ruleset_overperformance(line:727) - INFO - calculate_ruleset_overperformance: src_regions: ['us-east-1' 'us-south-1' 'us-central-1' 'us-west-1']
__main__ - calculate_ruleset_overperformance(line:735) - INFO - calculate_ruleset_overperformance: src_region: us-east-1, dst_regions: ['us-east-1' 'us-south-1']
__main__ - calculate_ruleset_overperformance(line:754) - INFO - loghill calculate_ruleset_overperformance: src_region: us-east-1, dst_region: us-east-1, expected_latency: 18.29768100560894, actual_latency: 418.5081433224756, load in us-east-1 for this ruleset: 245.02380952380952
__main__ - calculate_ruleset_overperformance(line:754) - INFO - loghill calculate_ruleset_overperformance: src_region: us-east-1, dst_region: us-south-1, expected_latency: 7.854165943779013, actual_latency: 135.66319444444446, load in us-south-1 for this ruleset: 5.976190476190476
__main__ - perform_jumping(line:297) - INFO - loghill ruleset_overperformance: {'us-east-1': {'us-east-1': -98061.09208816368, 'us-south-1': -763.811098896834}}
__main__ - perform_jumping(line:384) - INFO - loghill old cur_convex_comb_value: 0
__main__ - perform_jumping(line:393) - INFO - loghill new cur_convex_comb_value: 0.25
apscheduler.executors.default - run_job(line:131) - ERROR - Job "perform_jumping (trigger: interval[0:00:10], next run at: 2024-10-28 03:42:11 UTC)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/app/global_controller.py", line 396, in perform_jumping
    jumping_df = jump_towards_optimizer_desired(starting_df, desired_df, cur_convex_comb_value).copy()
  File "/app/global_controller.py", line 548, in jump_towards_optimizer_desired
    raise ValueError(f"{df_name} must contain columns: {required_columns} (has columns: {df.columns})")
ValueError: desired_df must contain columns: {'src_svc', 'dst_svc'} (has columns: RangeIndex(start=0, stop=0, step=1))
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:42:02 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-190, gap: 1.0144109725952148
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,207
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,153
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,109
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,243
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.382183313369751
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.690563440322876 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-191
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-191, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,191,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,238,238,1.0
,191,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,158,158,1.0
,191,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,213,213,1.0
,191,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,104,104,1.0
,191,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,238,238,1.0
,191,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,159,159,1.0
,191,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,213,213,1.0
,191,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,105,105,1.0
,191,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,238,238,1.0
,191,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,159,159,1.0
,191,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,213,213,1.0
,191,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,105,105,1.0
,191,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,238,238,1.0
,191,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,159,159,1.0
,191,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,213,213,1.0
,191,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,105,105,1.0
,191,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,238,238,1.0
,191,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,159,159,1.0
,191,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,213,213,1.0
,191,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,105,105,1.0
,191,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,238,238,1.0
,191,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,159,159,1.0
,191,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,213,213,1.0
,191,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,105,105,1.0
,191,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,238,238,1.0
,191,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,159,159,1.0
,191,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,213,213,1.0
,191,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,105,105,1.0
,191,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,238,713,0.3338008415147265
,191,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,158,713,0.22159887798036465
,191,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,213,713,0.29873772791023845
,191,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,104,713,0.1458625525946704

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,191,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,191,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,191,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,191,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,191,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,191,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,191,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,191,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,191,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,191,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,191,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,191,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,191,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,191,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,191,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,191,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,191,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,191,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,191,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,191,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,191,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,191,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,191,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,191,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,191,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,191,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,191,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,191,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,191,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,191,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,191,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,191,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,191,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-191, gap: 1.021820306777954
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,201
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,157
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,105
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,249
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(712) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-192 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-192
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 753}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 712}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 716}, 'frontend': {'frontend@POST@/cart/checkout': 705}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 702}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 674}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 671}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2429}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:42:04 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-192, gap: 1.0077130794525146
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,207
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,154
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,105
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,248
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.35158300399780273
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.366478681564331 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-193
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-193, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,193,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,250,0.984
,193,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,4,250,0.016
,193,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,157,157,1.0
,193,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,201,201,1.0
,193,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,105,105,1.0
,193,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,193,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,161,161,1.0
,193,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,201,201,1.0
,193,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,106,106,1.0
,193,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,193,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,161,161,1.0
,193,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,201,201,1.0
,193,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,106,106,1.0
,193,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,193,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,161,161,1.0
,193,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,201,201,1.0
,193,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,106,106,1.0
,193,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,193,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,161,161,1.0
,193,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,201,201,1.0
,193,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,106,106,1.0
,193,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,193,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,161,161,1.0
,193,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,201,201,1.0
,193,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,106,106,1.0
,193,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,193,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,161,161,1.0
,193,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,201,201,1.0
,193,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,106,106,1.0
,193,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,249,712,0.3497191011235955
,193,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,157,712,0.2205056179775281
,193,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,201,712,0.28230337078651685
,193,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,105,712,0.14747191011235955

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,193,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,193,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,193,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,193,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,193,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,193,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,193,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,193,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,193,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,193,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,193,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,193,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,193,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,193,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,193,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,193,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,193,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,193,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,193,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,193,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,193,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,193,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,193,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,193,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,193,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,193,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,193,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,193,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,193,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,193,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,193,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,193,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,193,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(722) at sslateingress > total capcity(0) at frontend
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-193, gap: 0.99202561378479
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,207
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,160
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,104
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,251
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-194 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-194
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 745}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 722}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 719}, 'frontend': {'frontend@POST@/cart/checkout': 704}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 701}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 681}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 682}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2421}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:42:06 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-194, gap: 0.9782140254974365
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,211
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,159
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,101
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,253
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.48062992095947266
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.6100952625274658 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-195
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-195, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,195,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,248,252,0.9841269841269841
,195,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,4,252,0.015873015873015872
,195,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,160,160,1.0
,195,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,207,207,1.0
,195,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,104,104,1.0
,195,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,248,248,1.0
,195,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,164,164,1.0
,195,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,207,207,1.0
,195,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,105,105,1.0
,195,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,248,248,1.0
,195,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,164,164,1.0
,195,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,207,207,1.0
,195,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,105,105,1.0
,195,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,248,248,1.0
,195,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,164,164,1.0
,195,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,207,207,1.0
,195,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,105,105,1.0
,195,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,248,248,1.0
,195,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,164,164,1.0
,195,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,207,207,1.0
,195,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,105,105,1.0
,195,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,248,248,1.0
,195,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,164,164,1.0
,195,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,207,207,1.0
,195,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,105,105,1.0
,195,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,248,248,1.0
,195,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,164,164,1.0
,195,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,207,207,1.0
,195,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,105,105,1.0
,195,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,722,0.3476454293628809
,195,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,160,722,0.22160664819944598
,195,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,207,722,0.2867036011080332
,195,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,104,722,0.1440443213296399

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,195,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,195,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,195,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,195,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,195,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,195,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,195,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,195,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,195,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,195,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,195,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,195,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,195,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,195,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,195,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,195,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,195,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,195,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,195,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,195,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,195,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,195,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,195,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,195,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,195,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,195,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,195,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,195,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,195,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,195,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,195,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,195,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,195,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-195, gap: 1.0059771537780762
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,210
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,167
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,100
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,257
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(734) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,184 -> new_capacity, 184
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,184 -> new_capacity, 184
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,184 -> new_capacity, 184
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,184 -> new_capacity, 184
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-196 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-196
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 706}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 734}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 721}, 'frontend': {'frontend@POST@/cart/checkout': 697}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 744}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 720}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 729}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2418}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:42:08 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-196, gap: 0.9888553619384766
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,213
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,161
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,100
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,257
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.43219661712646484
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.6562578678131104 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-197
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-197, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,197,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,254,258,0.9844961240310077
,197,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,4,258,0.015503875968992248
,197,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,167,167,1.0
,197,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,210,210,1.0
,197,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,100,100,1.0
,197,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,254,254,1.0
,197,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,171,171,1.0
,197,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,210,210,1.0
,197,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,101,101,1.0
,197,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,254,254,1.0
,197,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,171,171,1.0
,197,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,210,210,1.0
,197,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,101,101,1.0
,197,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,254,254,1.0
,197,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,171,171,1.0
,197,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,210,210,1.0
,197,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,101,101,1.0
,197,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,254,254,1.0
,197,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,171,171,1.0
,197,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,210,210,1.0
,197,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,101,101,1.0
,197,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,254,254,1.0
,197,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,171,171,1.0
,197,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,210,210,1.0
,197,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,101,101,1.0
,197,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,254,254,1.0
,197,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,171,171,1.0
,197,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,210,210,1.0
,197,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,101,101,1.0
,197,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,257,734,0.35013623978201636
,197,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,167,734,0.22752043596730245
,197,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,210,734,0.28610354223433243
,197,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,100,734,0.1362397820163488

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,197,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,197,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,197,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,197,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,197,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,197,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,197,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,197,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,197,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,197,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,197,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,197,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,197,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,197,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,197,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,197,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,197,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,197,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,197,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,197,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,197,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,197,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,197,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,197,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,197,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,197,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,197,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,197,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,197,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,197,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,197,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,197,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,197,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-197, gap: 1.017627477645874
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,206
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,159
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,108
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,252
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(725) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,182 -> new_capacity, 182
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,182 -> new_capacity, 182
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,182 -> new_capacity, 182
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,182 -> new_capacity, 182
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-198 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-198
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 730}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 725}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 705}, 'frontend': {'frontend@POST@/cart/checkout': 717}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 753}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 724}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 717}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2443}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:42:10 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-198, gap: 1.0275931358337402
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,210
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,159
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,108
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,246
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.5111939907073975
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.8493151664733887 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-199
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-199, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,199,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,248,253,0.9802371541501976
,199,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,5,253,0.019762845849802372
,199,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,159,159,1.0
,199,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,199,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,108,108,1.0
,199,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,248,248,1.0
,199,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,164,164,1.0
,199,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,199,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,109,109,1.0
,199,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,248,248,1.0
,199,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,164,164,1.0
,199,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,199,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,109,109,1.0
,199,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,248,248,1.0
,199,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,164,164,1.0
,199,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,199,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,109,109,1.0
,199,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,248,248,1.0
,199,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,164,164,1.0
,199,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,199,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,109,109,1.0
,199,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,248,248,1.0
,199,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,164,164,1.0
,199,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,199,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,109,109,1.0
,199,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,248,248,1.0
,199,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,164,164,1.0
,199,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,199,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,109,109,1.0
,199,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,252,725,0.34758620689655173
,199,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,159,725,0.2193103448275862
,199,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,725,0.28413793103448276
,199,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,108,725,0.1489655172413793

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,199,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,199,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,199,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,199,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,199,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,199,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,199,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,199,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,199,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,199,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,199,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,199,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,199,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,199,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,199,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,199,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,199,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,199,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,199,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,199,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,199,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,199,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,199,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,199,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,199,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,199,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,199,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,199,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,199,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,199,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,199,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,199,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,199,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(723) at sslateingress > total capcity(0) at frontend
__main__ - perform_jumping(line:292) - INFO - loghill temp_counter 199 (current ruleset  prev_processing_latency: 241.79851668726823, cur_processing_latency: 108.33333333333333
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - calculate_ruleset_overperformance(line:722) - INFO - calculate_ruleset_overperformance: rules:
Index(['src_svc', 'dst_svc', 'src_endpoint', 'dst_endpoint', 'src_cid',
       'dst_cid', 'flow', 'total', 'weight'],
      dtype='object')
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-199, gap: 1.0020027160644531
__main__ - calculate_ruleset_overperformance(line:727) - INFO - calculate_ruleset_overperformance: src_regions: ['us-east-1' 'us-south-1' 'us-central-1' 'us-west-1']
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,214
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,157
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,109
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,243
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - calculate_ruleset_overperformance(line:735) - INFO - calculate_ruleset_overperformance: src_region: us-east-1, dst_regions: ['us-east-1' 'us-south-1']
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-200 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-200
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
__main__ - calculate_ruleset_overperformance(line:754) - INFO - loghill calculate_ruleset_overperformance: src_region: us-east-1, dst_region: us-east-1, expected_latency: 18.29768100560894, actual_latency: 0, load in us-east-1 for this ruleset: 245.02380952380952
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 708}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 723}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 704}, 'frontend': {'frontend@POST@/cart/checkout': 720}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 712}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 730}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 707}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2455}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
__main__ - calculate_ruleset_overperformance(line:754) - INFO - loghill calculate_ruleset_overperformance: src_region: us-east-1, dst_region: us-south-1, expected_latency: 8.474950641699392, actual_latency: 0, load in us-south-1 for this ruleset: 5.976190476190476
__main__ - perform_jumping(line:297) - INFO - loghill ruleset_overperformance: {'us-east-1': {'us-east-1': 4483.367505445753, 'us-south-1': 50.647919311108275}}
__main__ - perform_jumping(line:384) - INFO - loghill old cur_convex_comb_value: 0.25
__main__ - perform_jumping(line:393) - INFO - loghill new cur_convex_comb_value: 0.5
apscheduler.executors.default - run_job(line:131) - ERROR - Job "perform_jumping (trigger: interval[0:00:10], next run at: 2024-10-28 03:42:21 UTC)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/app/global_controller.py", line 396, in perform_jumping
    jumping_df = jump_towards_optimizer_desired(starting_df, desired_df, cur_convex_comb_value).copy()
  File "/app/global_controller.py", line 548, in jump_towards_optimizer_desired
    raise ValueError(f"{df_name} must contain columns: {required_columns} (has columns: {df.columns})")
ValueError: desired_df must contain columns: {'src_svc', 'dst_svc'} (has columns: RangeIndex(start=0, stop=0, step=1))
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:42:12 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-200, gap: 0.9302027225494385
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,214
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,160
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,100
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,243
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.5239338874816895
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.6202259063720703 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-201
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-201, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,201,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,243,243,1.0
,201,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,157,157,1.0
,201,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,214,214,1.0
,201,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,109,109,1.0
,201,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,243,243,1.0
,201,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,158,158,1.0
,201,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,214,214,1.0
,201,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,110,110,1.0
,201,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,243,243,1.0
,201,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,158,158,1.0
,201,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,214,214,1.0
,201,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,110,110,1.0
,201,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,243,243,1.0
,201,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,158,158,1.0
,201,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,214,214,1.0
,201,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,110,110,1.0
,201,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,243,243,1.0
,201,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,158,158,1.0
,201,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,214,214,1.0
,201,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,110,110,1.0
,201,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,243,243,1.0
,201,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,158,158,1.0
,201,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,214,214,1.0
,201,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,110,110,1.0
,201,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,243,243,1.0
,201,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,158,158,1.0
,201,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,214,214,1.0
,201,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,110,110,1.0
,201,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,243,723,0.3360995850622407
,201,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,157,723,0.21715076071922546
,201,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,214,723,0.2959889349930844
,201,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,109,723,0.1507607192254495

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,201,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,201,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,201,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,201,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,201,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,201,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,201,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,201,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,201,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,201,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,201,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,201,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,201,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,201,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,201,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,201,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,201,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,201,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,201,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,201,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,201,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,201,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,201,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,201,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,201,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,201,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,201,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,201,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,201,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,201,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,201,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,201,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,201,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(719) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,180 -> new_capacity, 180
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-201, gap: 1.030655860900879
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,214
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,157
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,105
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,243
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,180 -> new_capacity, 180
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,180 -> new_capacity, 180
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,180 -> new_capacity, 180
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-202 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-202
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 748}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 719}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 708}, 'frontend': {'frontend@POST@/cart/checkout': 719}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 723}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 718}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 696}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2463}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:42:14 UTC)" skipped: maximum number of running instances reached (1)
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-202, gap: 0.9840526580810547
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,210
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,153
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,106
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,254
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:42:15 UTC)" skipped: maximum number of running instances reached (1)
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-203, gap: 0.9987244606018066
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,199
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,157
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,105
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,256
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.44987034797668457
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 2.0718324184417725 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-204
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-204, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,204,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,243,243,1.0
,204,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,157,157,1.0
,204,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,214,214,1.0
,204,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,105,105,1.0
,204,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,243,243,1.0
,204,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,158,158,1.0
,204,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,214,214,1.0
,204,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,106,106,1.0
,204,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,243,243,1.0
,204,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,158,158,1.0
,204,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,214,214,1.0
,204,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,106,106,1.0
,204,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,243,243,1.0
,204,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,158,158,1.0
,204,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,214,214,1.0
,204,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,106,106,1.0
,204,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,243,243,1.0
,204,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,158,158,1.0
,204,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,214,214,1.0
,204,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,106,106,1.0
,204,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,243,243,1.0
,204,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,158,158,1.0
,204,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,214,214,1.0
,204,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,106,106,1.0
,204,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,243,243,1.0
,204,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,158,158,1.0
,204,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,214,214,1.0
,204,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,106,106,1.0
,204,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,243,719,0.3379694019471488
,204,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,157,719,0.21835883171070933
,204,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,214,719,0.29763560500695413
,204,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,105,719,0.14603616133518776

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,204,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,204,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,204,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,204,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,204,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,204,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,204,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,204,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,204,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,204,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,204,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,204,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,204,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,204,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,204,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,204,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,204,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,204,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,204,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,204,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,204,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,204,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,204,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,204,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,204,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,204,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,204,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,204,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,204,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,204,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,204,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,204,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,204,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(713) at sslateingress > total capcity(0) at frontend
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-204, gap: 1.0166406631469727
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,200
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,159
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,104
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,250
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-205 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-205
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 738}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 713}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 716}, 'frontend': {'frontend@POST@/cart/checkout': 707}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 713}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 726}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 715}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2467}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:42:17 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-205, gap: 0.9867510795593262
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,199
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,159
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,96
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,255
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.4687228202819824
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.7548179626464844 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-206
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-206, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,206,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,248,251,0.9880478087649402
,206,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,3,251,0.01195219123505976
,206,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,159,159,1.0
,206,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,200,200,1.0
,206,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,104,104,1.0
,206,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,248,248,1.0
,206,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,162,162,1.0
,206,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,200,200,1.0
,206,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,105,105,1.0
,206,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,248,248,1.0
,206,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,162,162,1.0
,206,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,200,200,1.0
,206,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,105,105,1.0
,206,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,248,248,1.0
,206,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,162,162,1.0
,206,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,200,200,1.0
,206,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,105,105,1.0
,206,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,248,248,1.0
,206,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,162,162,1.0
,206,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,200,200,1.0
,206,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,105,105,1.0
,206,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,248,248,1.0
,206,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,162,162,1.0
,206,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,200,200,1.0
,206,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,105,105,1.0
,206,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,248,248,1.0
,206,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,162,162,1.0
,206,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,200,200,1.0
,206,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,105,105,1.0
,206,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,250,713,0.3506311360448808
,206,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,159,713,0.22300140252454417
,206,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,200,713,0.2805049088359046
,206,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,104,713,0.1458625525946704

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,206,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,206,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,206,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,206,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,206,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,206,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,206,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,206,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,206,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,206,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,206,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,206,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,206,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,206,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,206,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,206,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,206,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,206,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,206,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,206,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,206,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,206,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,206,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,206,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,206,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,206,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,206,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,206,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,206,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,206,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,206,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,206,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,206,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(710) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,178 -> new_capacity, 178
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,178 -> new_capacity, 178
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,178 -> new_capacity, 178
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,178 -> new_capacity, 178
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-206 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-206
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-206, gap: 1.006467580795288
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,198
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,160
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,100
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,252
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 760}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 710}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 722}, 'frontend': {'frontend@POST@/cart/checkout': 712}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 715}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 696}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 727}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2429}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:42:19 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-207, gap: 0.9773139953613281
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,197
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,156
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,100
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,251
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.5365958213806152
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.59745454788208 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-208
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-208, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,208,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,249,253,0.9841897233201581
,208,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,4,253,0.015810276679841896
,208,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,160,160,1.0
,208,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,198,198,1.0
,208,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,100,100,1.0
,208,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,249,249,1.0
,208,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,164,164,1.0
,208,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,198,198,1.0
,208,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,101,101,1.0
,208,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,249,249,1.0
,208,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,164,164,1.0
,208,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,198,198,1.0
,208,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,101,101,1.0
,208,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,249,249,1.0
,208,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,164,164,1.0
,208,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,198,198,1.0
,208,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,101,101,1.0
,208,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,249,249,1.0
,208,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,164,164,1.0
,208,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,198,198,1.0
,208,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,101,101,1.0
,208,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,249,249,1.0
,208,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,164,164,1.0
,208,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,198,198,1.0
,208,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,101,101,1.0
,208,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,249,249,1.0
,208,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,164,164,1.0
,208,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,198,198,1.0
,208,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,101,101,1.0
,208,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,252,710,0.35492957746478876
,208,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,160,710,0.22535211267605634
,208,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,198,710,0.27887323943661974
,208,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,100,710,0.14084507042253522

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,208,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,208,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,208,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,208,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,208,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,208,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,208,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,208,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,208,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,208,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,208,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,208,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,208,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,208,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,208,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,208,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,208,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,208,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,208,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,208,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,208,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,208,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,208,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,208,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,208,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,208,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,208,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,208,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,208,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,208,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,208,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,208,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,208,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-208, gap: 1.0242297649383545
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,197
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,156
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,105
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,262
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(720) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-209 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-209
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 767}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 720}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 711}, 'frontend': {'frontend@POST@/cart/checkout': 719}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 701}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 718}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 726}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2440}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:42:21 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - perform_jumping(line:292) - INFO - loghill temp_counter 209 (current ruleset  prev_processing_latency: 108.33333333333333, cur_processing_latency: 249.97205948625506
__main__ - calculate_ruleset_overperformance(line:722) - INFO - calculate_ruleset_overperformance: rules:
Index(['src_svc', 'dst_svc', 'src_endpoint', 'dst_endpoint', 'src_cid',
       'dst_cid', 'flow', 'total', 'weight'],
      dtype='object')
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-209, gap: 1.000436782836914
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,197
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,158
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,99
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,262
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - calculate_ruleset_overperformance(line:727) - INFO - calculate_ruleset_overperformance: src_regions: ['us-east-1' 'us-south-1' 'us-central-1' 'us-west-1']
__main__ - calculate_ruleset_overperformance(line:735) - INFO - calculate_ruleset_overperformance: src_region: us-east-1, dst_regions: ['us-east-1' 'us-south-1']
__main__ - calculate_ruleset_overperformance(line:754) - INFO - loghill calculate_ruleset_overperformance: src_region: us-east-1, dst_region: us-east-1, expected_latency: 17.886661681068116, actual_latency: 455.3118756936737, load in us-east-1 for this ruleset: 242.0952380952381
__main__ - calculate_ruleset_overperformance(line:754) - INFO - loghill calculate_ruleset_overperformance: src_region: us-east-1, dst_region: us-south-1, expected_latency: 7.941202100011106, actual_latency: 145.0, load in us-south-1 for this ruleset: 5.904761904761904
__main__ - perform_jumping(line:297) - INFO - loghill ruleset_overperformance: {'us-east-1': {'us-east-1': -105898.56133524224, 'us-south-1': -809.2995685523152}}
__main__ - perform_jumping(line:382) - INFO - loghill reversing direction from 1 to -1
__main__ - perform_jumping(line:384) - INFO - loghill old cur_convex_comb_value: 0.5
__main__ - perform_jumping(line:393) - INFO - loghill new cur_convex_comb_value: 0.25
apscheduler.executors.default - run_job(line:131) - ERROR - Job "perform_jumping (trigger: interval[0:00:10], next run at: 2024-10-28 03:42:31 UTC)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/app/global_controller.py", line 396, in perform_jumping
    jumping_df = jump_towards_optimizer_desired(starting_df, desired_df, cur_convex_comb_value).copy()
  File "/app/global_controller.py", line 548, in jump_towards_optimizer_desired
    raise ValueError(f"{df_name} must contain columns: {required_columns} (has columns: {df.columns})")
ValueError: desired_df must contain columns: {'src_svc', 'dst_svc'} (has columns: RangeIndex(start=0, stop=0, step=1))
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.4294564723968506
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.378202199935913 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-210
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-210, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,210,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,251,263,0.9543726235741445
,210,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,12,263,0.045627376425855515
,210,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,156,156,1.0
,210,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,197,197,1.0
,210,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,105,105,1.0
,210,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,251,251,1.0
,210,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,168,168,1.0
,210,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,197,197,1.0
,210,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,106,106,1.0
,210,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,251,251,1.0
,210,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,168,168,1.0
,210,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,197,197,1.0
,210,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,106,106,1.0
,210,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,251,251,1.0
,210,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,168,168,1.0
,210,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,197,197,1.0
,210,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,106,106,1.0
,210,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,251,251,1.0
,210,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,168,168,1.0
,210,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,197,197,1.0
,210,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,106,106,1.0
,210,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,251,251,1.0
,210,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,168,168,1.0
,210,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,197,197,1.0
,210,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,106,106,1.0
,210,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,251,251,1.0
,210,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,168,168,1.0
,210,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,197,197,1.0
,210,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,106,106,1.0
,210,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,262,720,0.3638888888888889
,210,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,156,720,0.21666666666666667
,210,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,197,720,0.27361111111111114
,210,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,105,720,0.14583333333333334

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,210,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,210,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,210,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,210,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,210,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,210,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,210,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,210,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,210,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,210,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,210,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,210,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,210,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,210,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,210,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,210,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,210,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,210,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,210,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,210,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,210,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,210,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,210,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,210,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,210,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,210,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,210,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,210,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,210,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,210,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,210,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,210,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,210,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(714) at sslateingress > total capcity(0) at frontend
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-210, gap: 0.9902157783508301
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,200
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,156
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,94
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,264
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-211 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-211
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 760}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 714}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 706}, 'frontend': {'frontend@POST@/cart/checkout': 706}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 711}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 731}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 736}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2431}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:42:23 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-211, gap: 0.9781198501586914
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,200
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,160
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,91
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,258
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.43533945083618164
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.691636562347412 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-212
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-212, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,212,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,252,265,0.9509433962264151
,212,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,13,265,0.04905660377358491
,212,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,156,156,1.0
,212,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,200,200,1.0
,212,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,94,94,1.0
,212,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,252,252,1.0
,212,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,169,169,1.0
,212,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,200,200,1.0
,212,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,95,95,1.0
,212,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,252,252,1.0
,212,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,169,169,1.0
,212,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,200,200,1.0
,212,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,95,95,1.0
,212,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,252,252,1.0
,212,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,169,169,1.0
,212,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,200,200,1.0
,212,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,95,95,1.0
,212,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,252,252,1.0
,212,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,169,169,1.0
,212,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,200,200,1.0
,212,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,95,95,1.0
,212,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,252,252,1.0
,212,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,169,169,1.0
,212,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,200,200,1.0
,212,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,95,95,1.0
,212,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,252,252,1.0
,212,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,169,169,1.0
,212,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,200,200,1.0
,212,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,95,95,1.0
,212,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,264,714,0.3697478991596639
,212,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,156,714,0.2184873949579832
,212,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,200,714,0.2801120448179272
,212,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,94,714,0.13165266106442577

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,212,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,212,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,212,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,212,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,212,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,212,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,212,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,212,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,212,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,212,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,212,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,212,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,212,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,212,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,212,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,212,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,212,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,212,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,212,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,212,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,212,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,212,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,212,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,212,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,212,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,212,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,212,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,212,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,212,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,212,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,212,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,212,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,212,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-212, gap: 1.0363004207611084
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,200
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,156
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,92
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,258
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(706) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,177 -> new_capacity, 177
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,177 -> new_capacity, 177
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,177 -> new_capacity, 177
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,177 -> new_capacity, 177
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-213 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-213
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 717}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 706}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 713}, 'frontend': {'frontend@POST@/cart/checkout': 714}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 693}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 736}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 730}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2458}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:42:25 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-213, gap: 1.0601308345794678
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,206
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,152
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,96
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,257
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.4325556755065918
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.8238306045532227 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-214
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-214, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,214,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,250,259,0.9652509652509652
,214,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,9,259,0.03474903474903475
,214,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,156,156,1.0
,214,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,200,200,1.0
,214,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,92,92,1.0
,214,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,250,250,1.0
,214,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,165,165,1.0
,214,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,200,200,1.0
,214,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,92,92,1.0
,214,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,250,250,1.0
,214,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,165,165,1.0
,214,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,200,200,1.0
,214,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,92,92,1.0
,214,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,250,250,1.0
,214,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,165,165,1.0
,214,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,200,200,1.0
,214,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,92,92,1.0
,214,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,250,250,1.0
,214,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,165,165,1.0
,214,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,200,200,1.0
,214,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,92,92,1.0
,214,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,250,250,1.0
,214,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,165,165,1.0
,214,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,200,200,1.0
,214,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,92,92,1.0
,214,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,250,250,1.0
,214,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,165,165,1.0
,214,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,200,200,1.0
,214,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,92,92,1.0
,214,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,258,706,0.3654390934844193
,214,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,156,706,0.22096317280453256
,214,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,200,706,0.28328611898017
,214,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,92,706,0.13031161473087818

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,214,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,214,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,214,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,214,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,214,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,214,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,214,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,214,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,214,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,214,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,214,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,214,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,214,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,214,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,214,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,214,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,214,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,214,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,214,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,214,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,214,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,214,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,214,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,214,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,214,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,214,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,214,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,214,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,214,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,214,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,214,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,214,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,214,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(708) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,178 -> new_capacity, 178
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,178 -> new_capacity, 178
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-214, gap: 0.9126989841461182
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,208
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,152
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,96
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,252
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,178 -> new_capacity, 178
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,178 -> new_capacity, 178
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-215 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-215
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 751}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 708}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 709}, 'frontend': {'frontend@POST@/cart/checkout': 716}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 703}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 730}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 710}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2444}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:42:27 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-215, gap: 0.9841346740722656
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,211
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,151
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,92
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,252
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.5072484016418457
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.6199395656585693 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-216
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-216, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,216,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,253,0.9723320158102767
,216,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,7,253,0.02766798418972332
,216,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,152,152,1.0
,216,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,208,208,1.0
,216,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,96,96,1.0
,216,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,216,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,159,159,1.0
,216,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,208,208,1.0
,216,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,97,97,1.0
,216,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,216,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,159,159,1.0
,216,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,208,208,1.0
,216,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,97,97,1.0
,216,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,216,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,159,159,1.0
,216,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,208,208,1.0
,216,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,97,97,1.0
,216,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,216,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,159,159,1.0
,216,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,208,208,1.0
,216,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,97,97,1.0
,216,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,216,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,159,159,1.0
,216,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,208,208,1.0
,216,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,97,97,1.0
,216,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,216,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,159,159,1.0
,216,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,208,208,1.0
,216,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,97,97,1.0
,216,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,252,708,0.3559322033898305
,216,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,152,708,0.21468926553672316
,216,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,208,708,0.2937853107344633
,216,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,96,708,0.13559322033898305

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,216,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,216,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,216,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,216,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,216,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,216,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,216,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,216,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,216,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,216,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,216,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,216,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,216,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,216,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,216,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,216,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,216,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,216,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,216,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,216,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,216,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,216,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,216,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,216,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,216,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,216,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,216,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,216,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,216,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,216,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,216,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,216,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,216,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-216, gap: 1.034348487854004
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,222
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,152
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,99
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,249
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(722) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-217 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-217
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 735}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 722}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 706}, 'frontend': {'frontend@POST@/cart/checkout': 714}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 661}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 767}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 689}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2454}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:42:29 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-217, gap: 0.9745273590087891
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,212
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,152
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,102
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,250
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.5538206100463867
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.6915059089660645 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-218
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-218, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,218,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,244,250,0.976
,218,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,250,0.024
,218,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,152,152,1.0
,218,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,215,223,0.9641255605381166
,218,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-west-1,8,223,0.03587443946188341
,218,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,99,99,1.0
,218,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,244,244,1.0
,218,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,158,158,1.0
,218,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,215,215,1.0
,218,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,107,107,1.0
,218,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,244,244,1.0
,218,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,158,158,1.0
,218,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,215,215,1.0
,218,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,107,107,1.0
,218,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,244,244,1.0
,218,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,158,158,1.0
,218,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,215,215,1.0
,218,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,107,107,1.0
,218,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,244,244,1.0
,218,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,158,158,1.0
,218,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,215,215,1.0
,218,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,107,107,1.0
,218,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,244,244,1.0
,218,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,158,158,1.0
,218,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,215,215,1.0
,218,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,107,107,1.0
,218,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,244,244,1.0
,218,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,158,158,1.0
,218,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,215,215,1.0
,218,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,107,107,1.0
,218,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,249,722,0.3448753462603878
,218,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,152,722,0.21052631578947367
,218,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,222,722,0.3074792243767313
,218,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,99,722,0.1371191135734072

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,218,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,218,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,218,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,218,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,218,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,218,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,218,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,218,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,218,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,218,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,218,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,218,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,218,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,218,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,218,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,218,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,218,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,218,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,218,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,218,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,218,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,218,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,218,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,218,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,218,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,218,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,218,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,218,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,218,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,218,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,218,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,218,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,218,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(726) at sslateingress > total capcity(0) at frontend
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-218, gap: 1.0195741653442383
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,219
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,150
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,107
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,250
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,182 -> new_capacity, 182
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,182 -> new_capacity, 182
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,182 -> new_capacity, 182
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,182 -> new_capacity, 182
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-219 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-219
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 735}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 726}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 718}, 'frontend': {'frontend@POST@/cart/checkout': 716}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 668}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 765}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 714}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2480}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:42:31 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - perform_jumping(line:292) - INFO - loghill temp_counter 219 (current ruleset  prev_processing_latency: 249.97205948625506, cur_processing_latency: 279.30727272727273
__main__ - calculate_ruleset_overperformance(line:722) - INFO - calculate_ruleset_overperformance: rules:
Index(['src_svc', 'dst_svc', 'src_endpoint', 'dst_endpoint', 'src_cid',
       'dst_cid', 'flow', 'total', 'weight'],
      dtype='object')
__main__ - calculate_ruleset_overperformance(line:727) - INFO - calculate_ruleset_overperformance: src_regions: ['us-east-1' 'us-south-1' 'us-central-1' 'us-west-1']
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-219, gap: 1.0663814544677734
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,205
__main__ - calculate_ruleset_overperformance(line:735) - INFO - calculate_ruleset_overperformance: src_region: us-east-1, dst_regions: ['us-east-1' 'us-south-1']
__main__ - calculate_ruleset_overperformance(line:754) - INFO - loghill calculate_ruleset_overperformance: src_region: us-east-1, dst_region: us-east-1, expected_latency: 19.134546003070824, actual_latency: 435.49201277955274, load in us-east-1 for this ruleset: 250.88095238095238
__main__ - calculate_ruleset_overperformance(line:754) - INFO - loghill calculate_ruleset_overperformance: src_region: us-east-1, dst_region: us-south-1, expected_latency: 7.767678911561004, actual_latency: 143.5089058524173, load in us-south-1 for this ruleset: 6.119047619047619
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,149
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,105
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,247
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - perform_jumping(line:297) - INFO - loghill ruleset_overperformance: {'us-east-1': {'us-east-1': -104456.15779580452, 'us-south-1': -830.6070315190492}}
__main__ - perform_jumping(line:382) - INFO - loghill reversing direction from -1 to 1
__main__ - perform_jumping(line:384) - INFO - loghill old cur_convex_comb_value: 0.25
__main__ - perform_jumping(line:393) - INFO - loghill new cur_convex_comb_value: 0.5
apscheduler.executors.default - run_job(line:131) - ERROR - Job "perform_jumping (trigger: interval[0:00:10], next run at: 2024-10-28 03:42:41 UTC)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/app/global_controller.py", line 396, in perform_jumping
    jumping_df = jump_towards_optimizer_desired(starting_df, desired_df, cur_convex_comb_value).copy()
  File "/app/global_controller.py", line 548, in jump_towards_optimizer_desired
    raise ValueError(f"{df_name} must contain columns: {required_columns} (has columns: {df.columns})")
ValueError: desired_df must contain columns: {'src_svc', 'dst_svc'} (has columns: RangeIndex(start=0, stop=0, step=1))
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.5124447345733643
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.8355834484100342 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-220
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-220, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,220,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,244,251,0.9721115537848606
,220,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,7,251,0.027888446215139442
,220,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,150,150,1.0
,220,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,217,220,0.9863636363636363
,220,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-west-1,3,220,0.013636363636363636
,220,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,107,107,1.0
,220,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,244,244,1.0
,220,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,157,157,1.0
,220,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,217,217,1.0
,220,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,110,110,1.0
,220,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,244,244,1.0
,220,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,157,157,1.0
,220,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,217,217,1.0
,220,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,110,110,1.0
,220,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,244,244,1.0
,220,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,157,157,1.0
,220,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,217,217,1.0
,220,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,110,110,1.0
,220,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,244,244,1.0
,220,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,157,157,1.0
,220,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,217,217,1.0
,220,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,110,110,1.0
,220,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,244,244,1.0
,220,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,157,157,1.0
,220,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,217,217,1.0
,220,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,110,110,1.0
,220,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,244,244,1.0
,220,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,157,157,1.0
,220,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,217,217,1.0
,220,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,110,110,1.0
,220,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,250,726,0.3443526170798898
,220,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,150,726,0.2066115702479339
,220,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,219,726,0.30165289256198347
,220,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,107,726,0.14738292011019283

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,220,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,220,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,220,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,220,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,220,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,220,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,220,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,220,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,220,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,220,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,220,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,220,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,220,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,220,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,220,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,220,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,220,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,220,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,220,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,220,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,220,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,220,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,220,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,220,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,220,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,220,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,220,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,220,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,220,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,220,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,220,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,220,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,220,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(697) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,175 -> new_capacity, 175
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,175 -> new_capacity, 175
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,175 -> new_capacity, 175
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-220, gap: 0.927375316619873
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,175 -> new_capacity, 175
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,203
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-220 ROUTING_RULE:SLATE-with-jumping-global
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,147
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-220
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,96
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,251
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 738}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 697}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 718}, 'frontend': {'frontend@POST@/cart/checkout': 717}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 689}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 697}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 739}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2474}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:42:33 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-221, gap: 0.9778270721435547
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,203
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,147
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,105
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,251
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.5450904369354248
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.8622920513153076 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-222
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-222, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,222,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,243,252,0.9642857142857143
,222,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,9,252,0.03571428571428571
,222,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,147,147,1.0
,222,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,203,203,1.0
,222,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,96,96,1.0
,222,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,243,243,1.0
,222,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,156,156,1.0
,222,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,203,203,1.0
,222,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,96,96,1.0
,222,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,243,243,1.0
,222,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,156,156,1.0
,222,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,203,203,1.0
,222,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,96,96,1.0
,222,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,243,243,1.0
,222,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,156,156,1.0
,222,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,203,203,1.0
,222,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,96,96,1.0
,222,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,243,243,1.0
,222,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,156,156,1.0
,222,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,203,203,1.0
,222,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,96,96,1.0
,222,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,243,243,1.0
,222,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,156,156,1.0
,222,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,203,203,1.0
,222,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,96,96,1.0
,222,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,243,243,1.0
,222,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,156,156,1.0
,222,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,203,203,1.0
,222,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,96,96,1.0
,222,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,697,0.3601147776183644
,222,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,147,697,0.2109038737446198
,222,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,203,697,0.29124820659971307
,222,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,96,697,0.13773314203730272

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,222,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,222,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,222,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,222,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,222,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,222,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,222,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,222,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,222,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,222,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,222,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,222,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,222,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,222,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,222,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,222,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,222,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,222,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,222,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,222,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,222,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,222,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,222,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,222,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,222,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,222,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,222,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,222,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,222,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,222,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,222,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,222,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,222,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-222, gap: 1.0156846046447754
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,201
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,147
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,99
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,253
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(700) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,176 -> new_capacity, 176
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,176 -> new_capacity, 176
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,176 -> new_capacity, 176
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,176 -> new_capacity, 176
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-223 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-223
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 707}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 700}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 716}, 'frontend': {'frontend@POST@/cart/checkout': 714}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 716}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 706}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 712}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2444}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:42:35 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-223, gap: 0.9841179847717285
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,204
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,144
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,96
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,241
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.45920777320861816
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.6563167572021484 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-224
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-224, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,224,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,244,254,0.9606299212598425
,224,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,10,254,0.03937007874015748
,224,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,147,147,1.0
,224,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,201,201,1.0
,224,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,99,99,1.0
,224,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,244,244,1.0
,224,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,157,157,1.0
,224,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,201,201,1.0
,224,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,100,100,1.0
,224,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,244,244,1.0
,224,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,157,157,1.0
,224,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,201,201,1.0
,224,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,100,100,1.0
,224,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,244,244,1.0
,224,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,157,157,1.0
,224,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,201,201,1.0
,224,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,100,100,1.0
,224,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,244,244,1.0
,224,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,157,157,1.0
,224,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,201,201,1.0
,224,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,100,100,1.0
,224,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,244,244,1.0
,224,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,157,157,1.0
,224,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,201,201,1.0
,224,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,100,100,1.0
,224,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,244,244,1.0
,224,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,157,157,1.0
,224,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,201,201,1.0
,224,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,100,100,1.0
,224,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,253,700,0.36142857142857143
,224,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,147,700,0.21
,224,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,201,700,0.28714285714285714
,224,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,99,700,0.14142857142857143

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,224,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,224,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,224,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,224,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,224,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,224,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,224,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,224,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,224,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,224,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,224,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,224,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,224,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,224,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,224,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,224,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,224,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,224,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,224,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,224,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,224,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,224,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,224,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,224,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,224,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,224,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,224,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,224,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,224,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,224,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,224,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,224,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,224,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(687) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,172 -> new_capacity, 172
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,172 -> new_capacity, 172
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,172 -> new_capacity, 172
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,172 -> new_capacity, 172
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-224 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-224
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 727}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 687}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 707}, 'frontend': {'frontend@POST@/cart/checkout': 712}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 749}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 729}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 722}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2428}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-224, gap: 1.02573561668396
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,202
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,151
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,95
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,239
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:42:37 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-225, gap: 0.9982576370239258
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,201
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,154
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,95
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,252
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.3829491138458252
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.51682710647583 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-226
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-226, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,226,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,239,239,1.0
,226,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,151,151,1.0
,226,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,202,202,1.0
,226,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,95,95,1.0
,226,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,239,239,1.0
,226,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,152,152,1.0
,226,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,202,202,1.0
,226,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,96,96,1.0
,226,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,239,239,1.0
,226,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,152,152,1.0
,226,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,202,202,1.0
,226,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,96,96,1.0
,226,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,239,239,1.0
,226,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,152,152,1.0
,226,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,202,202,1.0
,226,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,96,96,1.0
,226,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,239,239,1.0
,226,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,152,152,1.0
,226,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,202,202,1.0
,226,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,96,96,1.0
,226,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,239,239,1.0
,226,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,152,152,1.0
,226,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,202,202,1.0
,226,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,96,96,1.0
,226,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,239,239,1.0
,226,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,152,152,1.0
,226,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,202,202,1.0
,226,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,96,96,1.0
,226,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,239,687,0.34788937409024745
,226,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,151,687,0.2197962154294032
,226,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,202,687,0.2940320232896652
,226,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,95,687,0.13828238719068414

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,226,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,226,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,226,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,226,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,226,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,226,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,226,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,226,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,226,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,226,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,226,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,226,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,226,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,226,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,226,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,226,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,226,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,226,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,226,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,226,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,226,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,226,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,226,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,226,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,226,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,226,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,226,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,226,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,226,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,226,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,226,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,226,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,226,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(705) at sslateingress > total capcity(0) at frontend
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-226, gap: 0.9885118007659912
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,198
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,155
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,96
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,256
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,177 -> new_capacity, 177
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,177 -> new_capacity, 177
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,177 -> new_capacity, 177
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,177 -> new_capacity, 177
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-227 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-227
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 740}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 705}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 705}, 'frontend': {'frontend@POST@/cart/checkout': 706}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 741}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 687}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 727}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2430}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:42:39 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-227, gap: 0.9996037483215332
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,196
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,154
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,95
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,256
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.43935275077819824
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.669604778289795 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-228
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-228, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,228,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,248,257,0.9649805447470817
,228,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,9,257,0.03501945525291829
,228,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,155,155,1.0
,228,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,198,198,1.0
,228,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,96,96,1.0
,228,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,248,248,1.0
,228,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,164,164,1.0
,228,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,198,198,1.0
,228,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,97,97,1.0
,228,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,248,248,1.0
,228,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,164,164,1.0
,228,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,198,198,1.0
,228,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,97,97,1.0
,228,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,248,248,1.0
,228,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,164,164,1.0
,228,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,198,198,1.0
,228,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,97,97,1.0
,228,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,248,248,1.0
,228,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,164,164,1.0
,228,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,198,198,1.0
,228,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,97,97,1.0
,228,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,248,248,1.0
,228,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,164,164,1.0
,228,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,198,198,1.0
,228,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,97,97,1.0
,228,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,248,248,1.0
,228,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,164,164,1.0
,228,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,198,198,1.0
,228,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,97,97,1.0
,228,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,256,705,0.36312056737588655
,228,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,155,705,0.2198581560283688
,228,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,198,705,0.28085106382978725
,228,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,96,705,0.13617021276595745

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,228,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,228,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,228,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,228,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,228,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,228,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,228,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,228,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,228,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,228,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,228,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,228,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,228,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,228,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,228,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,228,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,228,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,228,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,228,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,228,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,228,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,228,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,228,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,228,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,228,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,228,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,228,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,228,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,228,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,228,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,228,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,228,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,228,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(712) at sslateingress > total capcity(0) at frontend
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-228, gap: 1.0232627391815186
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,196
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,160
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,100
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,256
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-229 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-229
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 780}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 712}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 714}, 'frontend': {'frontend@POST@/cart/checkout': 714}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 734}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 698}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 755}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2452}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:42:41 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-229, gap: 0.9656777381896973
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,196
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,154
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,105
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,256
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - perform_jumping(line:292) - INFO - loghill temp_counter 230 (current ruleset  prev_processing_latency: 279.30727272727273, cur_processing_latency: 291.25482625482624
__main__ - calculate_ruleset_overperformance(line:722) - INFO - calculate_ruleset_overperformance: rules:
Index(['src_svc', 'dst_svc', 'src_endpoint', 'dst_endpoint', 'src_cid',
       'dst_cid', 'flow', 'total', 'weight'],
      dtype='object')
__main__ - calculate_ruleset_overperformance(line:727) - INFO - calculate_ruleset_overperformance: src_regions: ['us-east-1' 'us-south-1' 'us-central-1' 'us-west-1']
__main__ - calculate_ruleset_overperformance(line:735) - INFO - calculate_ruleset_overperformance: src_region: us-east-1, dst_regions: ['us-east-1' 'us-south-1']
__main__ - calculate_ruleset_overperformance(line:754) - INFO - loghill calculate_ruleset_overperformance: src_region: us-east-1, dst_region: us-east-1, expected_latency: 17.750753487582674, actual_latency: 450.472131147541, load in us-east-1 for this ruleset: 241.11904761904762
__main__ - calculate_ruleset_overperformance(line:754) - INFO - loghill calculate_ruleset_overperformance: src_region: us-east-1, dst_region: us-south-1, expected_latency: 6.85256374209235, actual_latency: 137.0, load in us-south-1 for this ruleset: 5.8809523809523805
__main__ - perform_jumping(line:297) - INFO - loghill ruleset_overperformance: {'us-east-1': {'us-east-1': -104337.36646577138, 'us-south-1': -765.3908751357902}}
__main__ - perform_jumping(line:382) - INFO - loghill reversing direction from 1 to -1
__main__ - perform_jumping(line:384) - INFO - loghill old cur_convex_comb_value: 0.5
__main__ - perform_jumping(line:393) - INFO - loghill new cur_convex_comb_value: 0.25
apscheduler.executors.default - run_job(line:131) - ERROR - Job "perform_jumping (trigger: interval[0:00:10], next run at: 2024-10-28 03:42:51 UTC)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/app/global_controller.py", line 396, in perform_jumping
    jumping_df = jump_towards_optimizer_desired(starting_df, desired_df, cur_convex_comb_value).copy()
  File "/app/global_controller.py", line 548, in jump_towards_optimizer_desired
    raise ValueError(f"{df_name} must contain columns: {required_columns} (has columns: {df.columns})")
ValueError: desired_df must contain columns: {'src_svc', 'dst_svc'} (has columns: RangeIndex(start=0, stop=0, step=1))
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.39286065101623535
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.507478952407837 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-230
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-230, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,230,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,250,257,0.9727626459143969
,230,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,7,257,0.027237354085603113
,230,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,160,160,1.0
,230,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,196,196,1.0
,230,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,100,100,1.0
,230,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,250,250,1.0
,230,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,167,167,1.0
,230,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,196,196,1.0
,230,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,101,101,1.0
,230,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,250,250,1.0
,230,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,167,167,1.0
,230,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,196,196,1.0
,230,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,101,101,1.0
,230,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,250,250,1.0
,230,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,167,167,1.0
,230,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,196,196,1.0
,230,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,101,101,1.0
,230,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,250,250,1.0
,230,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,167,167,1.0
,230,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,196,196,1.0
,230,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,101,101,1.0
,230,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,250,250,1.0
,230,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,167,167,1.0
,230,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,196,196,1.0
,230,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,101,101,1.0
,230,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,250,250,1.0
,230,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,167,167,1.0
,230,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,196,196,1.0
,230,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,101,101,1.0
,230,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,256,712,0.3595505617977528
,230,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,160,712,0.2247191011235955
,230,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,196,712,0.2752808988764045
,230,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,100,712,0.1404494382022472

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,230,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,230,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,230,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,230,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,230,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,230,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,230,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,230,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,230,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,230,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,230,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,230,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,230,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,230,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,230,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,230,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,230,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,230,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,230,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,230,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,230,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,230,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,230,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,230,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,230,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,230,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,230,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,230,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,230,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,230,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,230,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,230,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,230,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(717) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,180 -> new_capacity, 180
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,180 -> new_capacity, 180
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,180 -> new_capacity, 180
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,180 -> new_capacity, 180
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-230 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-230
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 775}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 717}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 689}, 'frontend': {'frontend@POST@/cart/checkout': 696}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 740}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 741}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 726}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2498}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-230, gap: 1.13393235206604
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,196
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,157
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,105
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,259
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:42:43 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-231, gap: 0.8898336887359619
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,202
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,157
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,105
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,257
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.4090311527252197
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.8552582263946533 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-232
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-232, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,232,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,250,260,0.9615384615384616
,232,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,10,260,0.038461538461538464
,232,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,157,157,1.0
,232,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,196,196,1.0
,232,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,105,105,1.0
,232,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,250,250,1.0
,232,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,167,167,1.0
,232,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,196,196,1.0
,232,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,106,106,1.0
,232,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,250,250,1.0
,232,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,167,167,1.0
,232,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,196,196,1.0
,232,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,106,106,1.0
,232,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,250,250,1.0
,232,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,167,167,1.0
,232,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,196,196,1.0
,232,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,106,106,1.0
,232,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,250,250,1.0
,232,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,167,167,1.0
,232,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,196,196,1.0
,232,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,106,106,1.0
,232,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,250,250,1.0
,232,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,167,167,1.0
,232,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,196,196,1.0
,232,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,106,106,1.0
,232,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,250,250,1.0
,232,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,167,167,1.0
,232,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,196,196,1.0
,232,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,106,106,1.0
,232,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,259,717,0.3612273361227336
,232,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,157,717,0.21896792189679218
,232,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,196,717,0.2733612273361227
,232,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,105,717,0.14644351464435146

apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:42:44 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,232,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,232,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,232,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,232,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,232,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,232,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,232,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,232,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,232,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,232,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,232,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,232,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,232,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,232,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,232,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,232,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,232,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,232,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,232,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,232,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,232,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,232,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,232,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,232,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,232,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,232,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,232,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,232,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,232,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,232,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,232,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,232,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,232,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-232, gap: 1.0101776123046875
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,206
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,160
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,105
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,256
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-233, gap: 0.9743239879608154
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,208
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,167
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,101
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,248
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(724) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,182 -> new_capacity, 182
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,182 -> new_capacity, 182
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,182 -> new_capacity, 182
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,182 -> new_capacity, 182
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-234 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-234
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 753}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 724}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 704}, 'frontend': {'frontend@POST@/cart/checkout': 709}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 749}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 741}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 688}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2399}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:42:46 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-234, gap: 1.063138484954834
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,208
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,159
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,101
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,258
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.4001297950744629
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.394191026687622 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-235
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-235, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,235,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,248,248,1.0
,235,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,167,167,1.0
,235,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,208,208,1.0
,235,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,235,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,248,248,1.0
,235,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,168,168,1.0
,235,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,208,208,1.0
,235,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,235,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,248,248,1.0
,235,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,168,168,1.0
,235,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,208,208,1.0
,235,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,235,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,248,248,1.0
,235,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,168,168,1.0
,235,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,208,208,1.0
,235,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,235,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,248,248,1.0
,235,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,168,168,1.0
,235,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,208,208,1.0
,235,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,235,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,248,248,1.0
,235,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,168,168,1.0
,235,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,208,208,1.0
,235,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,235,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,248,248,1.0
,235,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,168,168,1.0
,235,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,208,208,1.0
,235,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,235,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,248,724,0.3425414364640884
,235,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,167,724,0.23066298342541436
,235,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,208,724,0.287292817679558
,235,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,724,0.13950276243093923

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,235,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,235,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,235,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,235,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,235,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,235,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,235,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,235,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,235,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,235,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,235,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,235,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,235,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,235,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,235,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,235,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,235,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,235,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,235,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,235,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,235,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,235,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,235,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,235,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,235,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,235,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,235,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,235,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,235,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,235,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,235,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,235,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,235,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(731) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,183 -> new_capacity, 183
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,183 -> new_capacity, 183
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,183 -> new_capacity, 183
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,183 -> new_capacity, 183
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-235 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-235
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 758}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 731}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 727}, 'frontend': {'frontend@POST@/cart/checkout': 717}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 741}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 692}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 729}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2436}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-235, gap: 0.9479033946990967
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,206
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,158
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,113
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,254
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:42:48 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-236, gap: 0.9836423397064209
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,204
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,150
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,103
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,247
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.38171815872192383
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.7165734767913818 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-237
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-237, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,237,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,249,255,0.9764705882352941
,237,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,255,0.023529411764705882
,237,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,158,158,1.0
,237,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,237,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,113,113,1.0
,237,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,249,249,1.0
,237,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,164,164,1.0
,237,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,237,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,114,114,1.0
,237,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,249,249,1.0
,237,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,164,164,1.0
,237,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,237,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,114,114,1.0
,237,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,249,249,1.0
,237,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,164,164,1.0
,237,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,237,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,114,114,1.0
,237,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,249,249,1.0
,237,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,164,164,1.0
,237,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,237,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,114,114,1.0
,237,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,249,249,1.0
,237,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,164,164,1.0
,237,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,237,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,114,114,1.0
,237,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,249,249,1.0
,237,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,164,164,1.0
,237,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,237,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,114,114,1.0
,237,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,254,731,0.34746922024623805
,237,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,158,731,0.2161422708618331
,237,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,731,0.2818057455540356
,237,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,113,731,0.1545827633378933

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,237,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,237,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,237,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,237,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,237,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,237,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,237,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,237,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,237,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,237,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,237,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,237,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,237,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,237,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,237,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,237,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,237,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,237,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,237,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,237,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,237,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,237,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,237,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,237,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,237,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,237,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,237,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,237,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,237,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,237,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,237,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,237,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,237,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-237, gap: 1.0200605392456055
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,215
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,158
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,103
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,247
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(723) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-238 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-238
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 736}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 723}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 716}, 'frontend': {'frontend@POST@/cart/checkout': 721}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 728}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 739}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 718}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2474}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:42:50 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-238, gap: 0.9817936420440674
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,207
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,158
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,103
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,263
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.42401552200317383
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.8788857460021973 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-239
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-239, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,239,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,248,0.9919354838709677
,239,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,2,248,0.008064516129032258
,239,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,158,158,1.0
,239,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,214,216,0.9907407407407407
,239,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-west-1,2,216,0.009259259259259259
,239,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,103,103,1.0
,239,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,239,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,239,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,214,214,1.0
,239,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,105,105,1.0
,239,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,239,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,239,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,214,214,1.0
,239,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,105,105,1.0
,239,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,239,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,239,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,214,214,1.0
,239,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,105,105,1.0
,239,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,239,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,239,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,214,214,1.0
,239,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,105,105,1.0
,239,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,239,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,239,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,214,214,1.0
,239,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,105,105,1.0
,239,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,239,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,239,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,214,214,1.0
,239,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,105,105,1.0
,239,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,247,723,0.34163208852005533
,239,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,158,723,0.21853388658367912
,239,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,215,723,0.29737206085753803
,239,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,103,723,0.14246196403872752

apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:42:51 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - perform_jumping(line:292) - INFO - loghill temp_counter 239 (current ruleset  prev_processing_latency: 291.25482625482624, cur_processing_latency: 270.53766851704995
__main__ - calculate_ruleset_overperformance(line:722) - INFO - calculate_ruleset_overperformance: rules:
Index(['src_svc', 'dst_svc', 'src_endpoint', 'dst_endpoint', 'src_cid',
       'dst_cid', 'flow', 'total', 'weight'],
      dtype='object')
__main__ - calculate_ruleset_overperformance(line:727) - INFO - calculate_ruleset_overperformance: src_regions: ['us-east-1' 'us-south-1' 'us-central-1' 'us-west-1']
__main__ - calculate_ruleset_overperformance(line:735) - INFO - calculate_ruleset_overperformance: src_region: us-east-1, dst_regions: ['us-east-1' 'us-south-1']
__main__ - calculate_ruleset_overperformance(line:754) - INFO - loghill calculate_ruleset_overperformance: src_region: us-east-1, dst_region: us-east-1, expected_latency: 18.023118998567643, actual_latency: 451.4032258064516, load in us-east-1 for this ruleset: 243.07142857142856
__main__ - calculate_ruleset_overperformance(line:754) - INFO - loghill calculate_ruleset_overperformance: src_region: us-east-1, dst_region: us-south-1, expected_latency: 7.343480610682195, actual_latency: 0, load in us-south-1 for this ruleset: 5.928571428571428
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-239, gap: 1.0405137538909912
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,202
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,157
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,105
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,266
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - perform_jumping(line:297) - INFO - loghill ruleset_overperformance: {'us-east-1': {'us-east-1': -105342.32167623064, 'us-south-1': 43.536349334758725}}
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,239,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,239,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,239,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,239,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,239,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,239,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,239,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,239,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,239,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,239,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,239,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,239,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,239,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,239,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,239,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,239,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,239,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,239,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,239,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,239,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,239,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,239,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,239,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,239,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,239,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,239,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,239,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,239,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,239,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,239,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,239,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,239,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,239,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - perform_jumping(line:384) - INFO - loghill old cur_convex_comb_value: 0.25
__main__ - perform_jumping(line:393) - INFO - loghill new cur_convex_comb_value: 0.0
apscheduler.executors.default - run_job(line:131) - ERROR - Job "perform_jumping (trigger: interval[0:00:10], next run at: 2024-10-28 03:43:01 UTC)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/app/global_controller.py", line 396, in perform_jumping
    jumping_df = jump_towards_optimizer_desired(starting_df, desired_df, cur_convex_comb_value).copy()
  File "/app/global_controller.py", line 548, in jump_towards_optimizer_desired
    raise ValueError(f"{df_name} must contain columns: {required_columns} (has columns: {df.columns})")
ValueError: desired_df must contain columns: {'src_svc', 'dst_svc'} (has columns: RangeIndex(start=0, stop=0, step=1))
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(731) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,183 -> new_capacity, 183
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,183 -> new_capacity, 183
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,183 -> new_capacity, 183
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,183 -> new_capacity, 183
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-240 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-240
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 718}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 731}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 717}, 'frontend': {'frontend@POST@/cart/checkout': 728}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 730}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 741}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 715}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2469}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-240, gap: 0.9755125045776367
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,204
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,157
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,106
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,264
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:42:53 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-241, gap: 0.976508617401123
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,209
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,155
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,105
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,258
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.5559167861938477
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.7907674312591553 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-242
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-242, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,242,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,252,265,0.9509433962264151
,242,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,13,265,0.04905660377358491
,242,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,157,157,1.0
,242,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,204,204,1.0
,242,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,106,106,1.0
,242,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,252,252,1.0
,242,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,170,170,1.0
,242,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,204,204,1.0
,242,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,107,107,1.0
,242,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,252,252,1.0
,242,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,170,170,1.0
,242,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,204,204,1.0
,242,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,107,107,1.0
,242,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,252,252,1.0
,242,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,170,170,1.0
,242,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,204,204,1.0
,242,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,107,107,1.0
,242,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,252,252,1.0
,242,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,170,170,1.0
,242,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,204,204,1.0
,242,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,107,107,1.0
,242,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,252,252,1.0
,242,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,170,170,1.0
,242,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,204,204,1.0
,242,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,107,107,1.0
,242,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,252,252,1.0
,242,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,170,170,1.0
,242,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,204,204,1.0
,242,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,107,107,1.0
,242,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,264,731,0.36114911080711354
,242,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,157,731,0.21477428180574556
,242,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,204,731,0.27906976744186046
,242,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,106,731,0.14500683994528044

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,242,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,242,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,242,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,242,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,242,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,242,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,242,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,242,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,242,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,242,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,242,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,242,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,242,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,242,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,242,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,242,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,242,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,242,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,242,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,242,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,242,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,242,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,242,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,242,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,242,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,242,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,242,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,242,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,242,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,242,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,242,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,242,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,242,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-242, gap: 1.03776216506958
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,209
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,146
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,105
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,254
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(714) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-243 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-243
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 750}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 714}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 715}, 'frontend': {'frontend@POST@/cart/checkout': 723}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 685}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 711}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 728}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2454}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:42:55 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-243, gap: 0.970820426940918
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,212
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,146
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,105
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,246
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.5821573734283447
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.8917815685272217 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-244
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-244, result: model solved
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:42:56 UTC)" skipped: maximum number of running instances reached (1)
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-244, gap: 1.0068745613098145
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,205
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,152
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,97
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,246
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,244,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,244,255,0.9568627450980393
,244,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,11,255,0.043137254901960784
,244,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,146,146,1.0
,244,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,209,209,1.0
,244,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,105,105,1.0
,244,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,244,244,1.0
,244,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,157,157,1.0
,244,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,209,209,1.0
,244,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,106,106,1.0
,244,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,244,244,1.0
,244,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,157,157,1.0
,244,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,209,209,1.0
,244,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,106,106,1.0
,244,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,244,244,1.0
,244,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,157,157,1.0
,244,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,209,209,1.0
,244,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,106,106,1.0
,244,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,244,244,1.0
,244,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,157,157,1.0
,244,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,209,209,1.0
,244,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,106,106,1.0
,244,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,244,244,1.0
,244,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,157,157,1.0
,244,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,209,209,1.0
,244,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,106,106,1.0
,244,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,244,244,1.0
,244,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,157,157,1.0
,244,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,209,209,1.0
,244,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,106,106,1.0
,244,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,254,714,0.3557422969187675
,244,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,146,714,0.20448179271708683
,244,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,209,714,0.2927170868347339
,244,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,105,714,0.14705882352941177

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,245,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,245,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,245,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,245,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,245,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,245,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,245,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,245,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,245,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,245,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,245,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,245,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,245,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,245,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,245,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,245,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,245,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,245,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,245,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,245,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,245,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,245,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,245,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,245,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,245,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,245,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,245,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,245,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,245,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,245,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,245,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,245,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,245,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-245, gap: 0.9757130146026611
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,196
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,143
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,105
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,245
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(689) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,173 -> new_capacity, 173
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,173 -> new_capacity, 173
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,173 -> new_capacity, 173
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,173 -> new_capacity, 173
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-246 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-246
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 774}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 689}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 733}, 'frontend': {'frontend@POST@/cart/checkout': 716}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 704}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 678}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 695}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2423}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:42:58 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-246, gap: 0.9995849132537842
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,203
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,151
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,108
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,245
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.38866209983825684
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.541893482208252 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-247
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-247, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,247,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,239,246,0.9715447154471545
,247,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,7,246,0.028455284552845527
,247,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,143,143,1.0
,247,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,196,196,1.0
,247,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,105,105,1.0
,247,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,239,239,1.0
,247,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,150,150,1.0
,247,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,196,196,1.0
,247,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,106,106,1.0
,247,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,239,239,1.0
,247,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,150,150,1.0
,247,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,196,196,1.0
,247,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,106,106,1.0
,247,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,239,239,1.0
,247,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,150,150,1.0
,247,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,196,196,1.0
,247,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,106,106,1.0
,247,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,239,239,1.0
,247,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,150,150,1.0
,247,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,196,196,1.0
,247,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,106,106,1.0
,247,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,239,239,1.0
,247,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,150,150,1.0
,247,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,196,196,1.0
,247,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,106,106,1.0
,247,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,239,239,1.0
,247,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,150,150,1.0
,247,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,196,196,1.0
,247,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,106,106,1.0
,247,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,245,689,0.3555878084179971
,247,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,143,689,0.20754716981132076
,247,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,196,689,0.2844702467343977
,247,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,105,689,0.15239477503628446

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,247,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,247,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,247,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,247,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,247,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,247,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,247,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,247,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,247,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,247,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,247,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,247,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,247,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,247,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,247,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,247,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,247,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,247,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,247,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,247,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,247,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,247,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,247,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,247,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,247,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,247,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,247,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,247,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,247,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,247,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,247,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,247,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,247,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-247, gap: 1.0258567333221436
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,203
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,162
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,111
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,245
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(721) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-248 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-248
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 729}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 721}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 713}, 'frontend': {'frontend@POST@/cart/checkout': 714}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 699}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 681}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 743}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2442}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:43:00 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-248, gap: 1.0036499500274658
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,197
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,162
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,103
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,245
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.411391019821167
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.7542531490325928 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-249
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-249, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,249,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,245,245,1.0
,249,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,162,162,1.0
,249,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,203,203,1.0
,249,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,111,111,1.0
,249,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,245,245,1.0
,249,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,163,163,1.0
,249,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,203,203,1.0
,249,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,112,112,1.0
,249,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,245,245,1.0
,249,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,163,163,1.0
,249,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,203,203,1.0
,249,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,112,112,1.0
,249,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,245,245,1.0
,249,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,163,163,1.0
,249,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,203,203,1.0
,249,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,112,112,1.0
,249,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,245,245,1.0
,249,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,163,163,1.0
,249,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,203,203,1.0
,249,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,112,112,1.0
,249,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,245,245,1.0
,249,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,163,163,1.0
,249,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,203,203,1.0
,249,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,112,112,1.0
,249,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,245,245,1.0
,249,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,163,163,1.0
,249,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,203,203,1.0
,249,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,112,112,1.0
,249,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,245,721,0.33980582524271846
,249,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,162,721,0.22468793342579751
,249,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,203,721,0.2815533980582524
,249,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,111,721,0.1539528432732316

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,249,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,249,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,249,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,249,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,249,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,249,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,249,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,249,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,249,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,249,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,249,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,249,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,249,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,249,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,249,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,249,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,249,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,249,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,249,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,249,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,249,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,249,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,249,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,249,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,249,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,249,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,249,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,249,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,249,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,249,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,249,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,249,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,249,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(708) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,178 -> new_capacity, 178
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,178 -> new_capacity, 178
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-249, gap: 1.0123577117919922
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,197
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,178 -> new_capacity, 178
__main__ - perform_jumping(line:292) - INFO - loghill temp_counter 249 (current ruleset  prev_processing_latency: 270.53766851704995, cur_processing_latency: 281.0745069393718
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,153
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,178 -> new_capacity, 178
__main__ - calculate_ruleset_overperformance(line:722) - INFO - calculate_ruleset_overperformance: rules:
Index(['src_svc', 'dst_svc', 'src_endpoint', 'dst_endpoint', 'src_cid',
       'dst_cid', 'flow', 'total', 'weight'],
      dtype='object')
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,111
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-249 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-249
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,247
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 725}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 708}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 726}, 'frontend': {'frontend@POST@/cart/checkout': 722}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 680}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 722}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 735}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2434}}
__main__ - calculate_ruleset_overperformance(line:727) - INFO - calculate_ruleset_overperformance: src_regions: ['us-east-1' 'us-south-1' 'us-central-1' 'us-west-1']
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
__main__ - calculate_ruleset_overperformance(line:735) - INFO - calculate_ruleset_overperformance: src_region: us-east-1, dst_regions: ['us-east-1' 'us-south-1']
__main__ - calculate_ruleset_overperformance(line:754) - INFO - loghill calculate_ruleset_overperformance: src_region: us-east-1, dst_region: us-east-1, expected_latency: 18.993695693458637, actual_latency: 429.9933554817276, load in us-east-1 for this ruleset: 249.9047619047619
__main__ - calculate_ruleset_overperformance(line:754) - INFO - loghill calculate_ruleset_overperformance: src_region: us-east-1, dst_region: us-south-1, expected_latency: 8.2948379650803, actual_latency: 0, load in us-south-1 for this ruleset: 6.095238095238095
__main__ - perform_jumping(line:297) - INFO - loghill ruleset_overperformance: {'us-east-1': {'us-east-1': -102710.77212232549, 'us-south-1': 50.55901235858468}}
__main__ - perform_jumping(line:382) - INFO - loghill reversing direction from -1 to 1
__main__ - perform_jumping(line:384) - INFO - loghill old cur_convex_comb_value: 0.0
__main__ - perform_jumping(line:393) - INFO - loghill new cur_convex_comb_value: 0.25
apscheduler.executors.default - run_job(line:131) - ERROR - Job "perform_jumping (trigger: interval[0:00:10], next run at: 2024-10-28 03:43:11 UTC)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/app/global_controller.py", line 396, in perform_jumping
    jumping_df = jump_towards_optimizer_desired(starting_df, desired_df, cur_convex_comb_value).copy()
  File "/app/global_controller.py", line 548, in jump_towards_optimizer_desired
    raise ValueError(f"{df_name} must contain columns: {required_columns} (has columns: {df.columns})")
ValueError: desired_df must contain columns: {'src_svc', 'dst_svc'} (has columns: RangeIndex(start=0, stop=0, step=1))
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:43:02 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-250, gap: 0.9693012237548828
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,198
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,153
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,111
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,249
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.4640767574310303
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.819481611251831 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-251
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-251, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,251,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,244,248,0.9838709677419355
,251,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,4,248,0.016129032258064516
,251,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,153,153,1.0
,251,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,197,197,1.0
,251,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,111,111,1.0
,251,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,244,244,1.0
,251,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,157,157,1.0
,251,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,197,197,1.0
,251,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,112,112,1.0
,251,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,244,244,1.0
,251,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,157,157,1.0
,251,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,197,197,1.0
,251,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,112,112,1.0
,251,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,244,244,1.0
,251,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,157,157,1.0
,251,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,197,197,1.0
,251,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,112,112,1.0
,251,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,244,244,1.0
,251,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,157,157,1.0
,251,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,197,197,1.0
,251,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,112,112,1.0
,251,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,244,244,1.0
,251,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,157,157,1.0
,251,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,197,197,1.0
,251,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,112,112,1.0
,251,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,244,244,1.0
,251,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,157,157,1.0
,251,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,197,197,1.0
,251,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,112,112,1.0
,251,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,247,708,0.3488700564971751
,251,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,153,708,0.21610169491525424
,251,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,197,708,0.2782485875706215
,251,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,111,708,0.15677966101694915

apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:43:03 UTC)" skipped: maximum number of running instances reached (1)
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,251,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,251,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,251,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,251,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,251,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,251,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,251,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,251,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,251,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,251,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,251,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,251,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,251,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,251,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,251,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,251,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,251,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,251,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,251,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,251,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,251,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,251,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,251,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,251,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,251,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,251,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,251,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,251,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,251,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,251,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,251,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,251,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,251,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-251, gap: 1.0171928405761719
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,201
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,158
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,109
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,249
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(723) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-252 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-252
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 734}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 723}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 724}, 'frontend': {'frontend@POST@/cart/checkout': 711}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 687}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 742}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 727}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2442}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-252, gap: 1.023540735244751
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,201
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,159
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,106
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,257
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:43:05 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-253, gap: 0.9874649047851562
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,207
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,151
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,106
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,256
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.45260119438171387
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.8225574493408203 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-254
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-254, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,254,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,250,258,0.9689922480620154
,254,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,8,258,0.031007751937984496
,254,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,159,159,1.0
,254,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,201,201,1.0
,254,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,106,106,1.0
,254,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,250,250,1.0
,254,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,167,167,1.0
,254,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,201,201,1.0
,254,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,107,107,1.0
,254,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,250,250,1.0
,254,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,167,167,1.0
,254,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,201,201,1.0
,254,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,107,107,1.0
,254,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,250,250,1.0
,254,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,167,167,1.0
,254,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,201,201,1.0
,254,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,107,107,1.0
,254,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,250,250,1.0
,254,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,167,167,1.0
,254,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,201,201,1.0
,254,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,107,107,1.0
,254,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,250,250,1.0
,254,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,167,167,1.0
,254,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,201,201,1.0
,254,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,107,107,1.0
,254,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,250,250,1.0
,254,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,167,167,1.0
,254,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,201,201,1.0
,254,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,107,107,1.0
,254,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,257,723,0.355463347164592
,254,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,159,723,0.21991701244813278
,254,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,201,723,0.27800829875518673
,254,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,106,723,0.14661134163208853

apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:43:06 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,254,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,254,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,254,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,254,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,254,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,254,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,254,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,254,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,254,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,254,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,254,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,254,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,254,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,254,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,254,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,254,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,254,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,254,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,254,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,254,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,254,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,254,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,254,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,254,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,254,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,254,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,254,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,254,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,254,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,254,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,254,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,254,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,254,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-254, gap: 0.9976797103881836
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,199
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,151
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,98
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,246
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-255, gap: 0.9801561832427979
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,201
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,160
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,102
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,249
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(712) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-256 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-256
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 771}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 712}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 715}, 'frontend': {'frontend@POST@/cart/checkout': 721}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 709}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 720}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 705}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2451}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:43:08 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-256, gap: 1.0101637840270996
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,202
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,153
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,106
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,247
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.35745692253112793
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.3668551445007324 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-257
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-257, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,257,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,248,250,0.992
,257,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,2,250,0.008
,257,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,160,160,1.0
,257,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,201,201,1.0
,257,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,102,102,1.0
,257,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,248,248,1.0
,257,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,162,162,1.0
,257,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,201,201,1.0
,257,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,103,103,1.0
,257,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,248,248,1.0
,257,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,162,162,1.0
,257,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,201,201,1.0
,257,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,103,103,1.0
,257,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,248,248,1.0
,257,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,162,162,1.0
,257,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,201,201,1.0
,257,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,103,103,1.0
,257,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,248,248,1.0
,257,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,162,162,1.0
,257,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,201,201,1.0
,257,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,103,103,1.0
,257,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,248,248,1.0
,257,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,162,162,1.0
,257,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,201,201,1.0
,257,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,103,103,1.0
,257,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,248,248,1.0
,257,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,162,162,1.0
,257,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,201,201,1.0
,257,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,103,103,1.0
,257,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,249,712,0.3497191011235955
,257,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,160,712,0.2247191011235955
,257,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,201,712,0.28230337078651685
,257,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,102,712,0.14325842696629212

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,257,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,257,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,257,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,257,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,257,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,257,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,257,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,257,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,257,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,257,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,257,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,257,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,257,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,257,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,257,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,257,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,257,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,257,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,257,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,257,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,257,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,257,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,257,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,257,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,257,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,257,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,257,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,257,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,257,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,257,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,257,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,257,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,257,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(692) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,174 -> new_capacity, 174
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,174 -> new_capacity, 174
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,174 -> new_capacity, 174
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,174 -> new_capacity, 174
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-257 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-257
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 721}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 692}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 706}, 'frontend': {'frontend@POST@/cart/checkout': 700}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 702}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 741}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 719}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2446}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-257, gap: 1.0087385177612305
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,191
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,147
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,106
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,248
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:43:10 UTC)" skipped: maximum number of running instances reached (1)
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-258, gap: 0.9216563701629639
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,185
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,143
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,108
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,246
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.4868152141571045
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.63303804397583 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-259
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-259, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,259,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,242,249,0.9718875502008032
,259,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,7,249,0.028112449799196786
,259,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,147,147,1.0
,259,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,191,191,1.0
,259,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,106,106,1.0
,259,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,242,242,1.0
,259,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,154,154,1.0
,259,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,191,191,1.0
,259,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,107,107,1.0
,259,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,242,242,1.0
,259,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,154,154,1.0
,259,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,191,191,1.0
,259,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,107,107,1.0
,259,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,242,242,1.0
,259,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,154,154,1.0
,259,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,191,191,1.0
,259,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,107,107,1.0
,259,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,242,242,1.0
,259,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,154,154,1.0
,259,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,191,191,1.0
,259,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,107,107,1.0
,259,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,242,242,1.0
,259,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,154,154,1.0
,259,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,191,191,1.0
,259,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,107,107,1.0
,259,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,242,242,1.0
,259,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,154,154,1.0
,259,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,191,191,1.0
,259,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,107,107,1.0
,259,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,248,692,0.3583815028901734
,259,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,147,692,0.21242774566473988
,259,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,191,692,0.27601156069364163
,259,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,106,692,0.1531791907514451

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,259,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,259,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,259,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,259,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,259,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,259,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,259,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,259,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,259,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,259,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,259,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,259,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,259,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,259,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,259,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,259,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,259,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,259,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,259,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,259,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,259,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,259,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,259,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,259,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,259,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,259,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,259,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,259,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,259,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,259,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,259,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,259,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,259,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-259, gap: 1.0204246044158936
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,208
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,143
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,101
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,246
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(698) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,175 -> new_capacity, 175
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,175 -> new_capacity, 175
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,175 -> new_capacity, 175
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,175 -> new_capacity, 175
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-260 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-260
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 724}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 698}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 707}, 'frontend': {'frontend@POST@/cart/checkout': 685}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 728}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 750}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 719}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2437}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
__main__ - perform_jumping(line:292) - INFO - loghill temp_counter 260 (current ruleset  prev_processing_latency: 281.0745069393718, cur_processing_latency: 290.6770586241952
__main__ - calculate_ruleset_overperformance(line:722) - INFO - calculate_ruleset_overperformance: rules:
Index(['src_svc', 'dst_svc', 'src_endpoint', 'dst_endpoint', 'src_cid',
       'dst_cid', 'flow', 'total', 'weight'],
      dtype='object')
__main__ - calculate_ruleset_overperformance(line:727) - INFO - calculate_ruleset_overperformance: src_regions: ['us-east-1' 'us-south-1' 'us-central-1' 'us-west-1']
__main__ - calculate_ruleset_overperformance(line:735) - INFO - calculate_ruleset_overperformance: src_region: us-east-1, dst_regions: ['us-east-1' 'us-south-1']
__main__ - calculate_ruleset_overperformance(line:754) - INFO - loghill calculate_ruleset_overperformance: src_region: us-east-1, dst_region: us-east-1, expected_latency: 16.03391725755342, actual_latency: 434.4909688013136, load in us-east-1 for this ruleset: 228.42857142857142
__main__ - calculate_ruleset_overperformance(line:754) - INFO - loghill calculate_ruleset_overperformance: src_region: us-east-1, dst_region: us-south-1, expected_latency: 7.260288322548682, actual_latency: 141.0, load in us-south-1 for this ruleset: 5.571428571428571
__main__ - perform_jumping(line:297) - INFO - loghill ruleset_overperformance: {'us-east-1': {'us-east-1': -95587.54648835321, 'us-south-1': -745.1212507743716}}
__main__ - perform_jumping(line:382) - INFO - loghill reversing direction from 1 to -1
__main__ - perform_jumping(line:384) - INFO - loghill old cur_convex_comb_value: 0.25
__main__ - perform_jumping(line:393) - INFO - loghill new cur_convex_comb_value: 0.0
apscheduler.executors.default - run_job(line:131) - ERROR - Job "perform_jumping (trigger: interval[0:00:10], next run at: 2024-10-28 03:43:21 UTC)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/app/global_controller.py", line 396, in perform_jumping
    jumping_df = jump_towards_optimizer_desired(starting_df, desired_df, cur_convex_comb_value).copy()
  File "/app/global_controller.py", line 548, in jump_towards_optimizer_desired
    raise ValueError(f"{df_name} must contain columns: {required_columns} (has columns: {df.columns})")
ValueError: desired_df must contain columns: {'src_svc', 'dst_svc'} (has columns: RangeIndex(start=0, stop=0, step=1))
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:43:12 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-260, gap: 0.9746253490447998
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,208
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,150
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,98
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,243
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.44880151748657227
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.7000517845153809 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-261
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-261, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,261,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,240,247,0.97165991902834
,261,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,7,247,0.02834008097165992
,261,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,143,143,1.0
,261,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,208,208,1.0
,261,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,261,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,240,240,1.0
,261,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,150,150,1.0
,261,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,208,208,1.0
,261,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,261,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,240,240,1.0
,261,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,150,150,1.0
,261,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,208,208,1.0
,261,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,261,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,240,240,1.0
,261,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,150,150,1.0
,261,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,208,208,1.0
,261,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,261,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,240,240,1.0
,261,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,150,150,1.0
,261,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,208,208,1.0
,261,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,261,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,240,240,1.0
,261,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,150,150,1.0
,261,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,208,208,1.0
,261,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,261,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,240,240,1.0
,261,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,150,150,1.0
,261,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,208,208,1.0
,261,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,261,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,246,698,0.3524355300859599
,261,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,143,698,0.20487106017191978
,261,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,208,698,0.2979942693409742
,261,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,698,0.14469914040114612

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,261,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,261,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,261,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,261,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,261,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,261,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,261,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,261,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,261,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,261,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,261,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,261,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,261,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,261,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,261,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,261,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,261,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,261,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,261,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,261,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,261,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,261,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,261,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,261,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,261,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,261,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,261,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,261,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,261,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,261,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,261,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,261,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,261,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(702) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,176 -> new_capacity, 176
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,176 -> new_capacity, 176
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,176 -> new_capacity, 176
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,176 -> new_capacity, 176
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-261 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-261
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 739}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 702}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 718}, 'frontend': {'frontend@POST@/cart/checkout': 711}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 708}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 704}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 696}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2468}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-261, gap: 1.0122945308685303
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,201
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,159
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,94
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,248
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:43:14 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-262, gap: 0.9845867156982422
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,206
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,160
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,96
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,254
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.4615616798400879
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.7310619354248047 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-263
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-263, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,263,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,247,249,0.9919678714859438
,263,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,2,249,0.008032128514056224
,263,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,159,159,1.0
,263,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,201,201,1.0
,263,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,94,94,1.0
,263,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,247,247,1.0
,263,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,161,161,1.0
,263,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,201,201,1.0
,263,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,95,95,1.0
,263,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,247,247,1.0
,263,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,161,161,1.0
,263,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,201,201,1.0
,263,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,95,95,1.0
,263,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,247,247,1.0
,263,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,161,161,1.0
,263,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,201,201,1.0
,263,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,95,95,1.0
,263,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,247,247,1.0
,263,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,161,161,1.0
,263,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,201,201,1.0
,263,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,95,95,1.0
,263,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,247,247,1.0
,263,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,161,161,1.0
,263,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,201,201,1.0
,263,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,95,95,1.0
,263,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,247,247,1.0
,263,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,161,161,1.0
,263,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,201,201,1.0
,263,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,95,95,1.0
,263,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,248,702,0.35327635327635326
,263,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,159,702,0.2264957264957265
,263,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,201,702,0.2863247863247863
,263,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,94,702,0.1339031339031339

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,263,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,263,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,263,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,263,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,263,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,263,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,263,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,263,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,263,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,263,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,263,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,263,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,263,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,263,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,263,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,263,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,263,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,263,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,263,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,263,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,263,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,263,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,263,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,263,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,263,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,263,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,263,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,263,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,263,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,263,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,263,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,263,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,263,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-263, gap: 1.0094385147094727
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,205
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,165
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,96
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,244
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(710) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,178 -> new_capacity, 178
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,178 -> new_capacity, 178
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,178 -> new_capacity, 178
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,178 -> new_capacity, 178
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-264 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-264
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 713}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 710}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 704}, 'frontend': {'frontend@POST@/cart/checkout': 711}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 704}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 664}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 675}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2467}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:43:16 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-264, gap: 0.9865682125091553
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,198
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,163
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,91
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,244
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.35106658935546875
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.3568196296691895 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-265
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-265, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,265,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,244,244,1.0
,265,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,165,165,1.0
,265,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,205,205,1.0
,265,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,96,96,1.0
,265,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,244,244,1.0
,265,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,166,166,1.0
,265,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,205,205,1.0
,265,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,97,97,1.0
,265,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,244,244,1.0
,265,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,166,166,1.0
,265,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,205,205,1.0
,265,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,97,97,1.0
,265,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,244,244,1.0
,265,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,166,166,1.0
,265,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,205,205,1.0
,265,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,97,97,1.0
,265,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,244,244,1.0
,265,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,166,166,1.0
,265,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,205,205,1.0
,265,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,97,97,1.0
,265,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,244,244,1.0
,265,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,166,166,1.0
,265,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,205,205,1.0
,265,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,97,97,1.0
,265,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,244,244,1.0
,265,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,166,166,1.0
,265,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,205,205,1.0
,265,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,97,97,1.0
,265,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,244,710,0.3436619718309859
,265,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,165,710,0.2323943661971831
,265,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,205,710,0.2887323943661972
,265,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,96,710,0.1352112676056338

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,265,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,265,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,265,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,265,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,265,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,265,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,265,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,265,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,265,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,265,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,265,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,265,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,265,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,265,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,265,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,265,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,265,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,265,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,265,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,265,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,265,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,265,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,265,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,265,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,265,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,265,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,265,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,265,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,265,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,265,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,265,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,265,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,265,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(681) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,171 -> new_capacity, 171
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-265, gap: 1.0264170169830322
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,189
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,152
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,91
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,249
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,171 -> new_capacity, 171
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,171 -> new_capacity, 171
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,171 -> new_capacity, 171
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-266 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-266
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 728}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 681}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 703}, 'frontend': {'frontend@POST@/cart/checkout': 706}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 697}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 691}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 675}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2463}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:43:18 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-266, gap: 0.9910871982574463
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,189
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,152
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,94
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,251
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.3693971633911133
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.3455414772033691 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-267
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-267, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,267,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,244,250,0.976
,267,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,250,0.024
,267,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,152,152,1.0
,267,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,189,189,1.0
,267,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,91,91,1.0
,267,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,244,244,1.0
,267,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,158,158,1.0
,267,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,189,189,1.0
,267,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,92,92,1.0
,267,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,244,244,1.0
,267,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,158,158,1.0
,267,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,189,189,1.0
,267,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,92,92,1.0
,267,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,244,244,1.0
,267,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,158,158,1.0
,267,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,189,189,1.0
,267,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,92,92,1.0
,267,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,244,244,1.0
,267,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,158,158,1.0
,267,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,189,189,1.0
,267,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,92,92,1.0
,267,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,244,244,1.0
,267,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,158,158,1.0
,267,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,189,189,1.0
,267,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,92,92,1.0
,267,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,244,244,1.0
,267,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,158,158,1.0
,267,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,189,189,1.0
,267,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,92,92,1.0
,267,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,249,681,0.3656387665198238
,267,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,152,681,0.22320117474302498
,267,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,189,681,0.2775330396475771
,267,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,91,681,0.13362701908957417

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,267,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,267,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,267,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,267,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,267,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,267,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,267,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,267,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,267,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,267,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,267,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,267,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,267,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,267,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,267,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,267,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,267,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,267,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,267,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,267,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,267,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,267,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,267,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,267,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,267,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,267,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,267,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,267,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,267,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,267,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,267,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,267,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,267,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(702) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,176 -> new_capacity, 176
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-267, gap: 1.0239911079406738
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,194
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,151
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,104
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,253
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,176 -> new_capacity, 176
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,176 -> new_capacity, 176
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,176 -> new_capacity, 176
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-268 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-268
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 750}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 702}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 728}, 'frontend': {'frontend@POST@/cart/checkout': 708}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 717}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 733}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 712}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2471}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:43:20 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-268, gap: 0.9549260139465332
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,194
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,152
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,98
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,248
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.473247766494751
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.545262098312378 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-269
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-269, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,269,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,254,0.968503937007874
,269,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,8,254,0.031496062992125984
,269,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,151,151,1.0
,269,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,194,194,1.0
,269,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,104,104,1.0
,269,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,269,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,159,159,1.0
,269,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,194,194,1.0
,269,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,105,105,1.0
,269,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,269,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,159,159,1.0
,269,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,194,194,1.0
,269,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,105,105,1.0
,269,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,269,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,159,159,1.0
,269,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,194,194,1.0
,269,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,105,105,1.0
,269,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,269,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,159,159,1.0
,269,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,194,194,1.0
,269,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,105,105,1.0
,269,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,269,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,159,159,1.0
,269,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,194,194,1.0
,269,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,105,105,1.0
,269,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,269,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,159,159,1.0
,269,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,194,194,1.0
,269,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,105,105,1.0
,269,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,253,702,0.3603988603988604
,269,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,151,702,0.2150997150997151
,269,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,194,702,0.27635327635327633
,269,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,104,702,0.14814814814814814

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,269,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,269,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,269,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,269,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,269,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,269,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,269,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,269,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,269,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,269,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,269,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,269,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,269,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,269,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,269,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,269,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,269,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,269,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,269,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,269,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,269,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,269,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,269,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,269,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,269,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,269,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,269,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,269,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,269,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,269,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,269,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,269,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,269,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(700) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,176 -> new_capacity, 176
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,176 -> new_capacity, 176
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,176 -> new_capacity, 176
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,176 -> new_capacity, 176
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-269 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-269
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 771}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 700}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 734}, 'frontend': {'frontend@POST@/cart/checkout': 713}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 714}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 731}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 725}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2464}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-269, gap: 1.025646686553955
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,201
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,152
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,98
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,249
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - perform_jumping(line:292) - INFO - loghill temp_counter 270 (current ruleset  prev_processing_latency: 290.6770586241952, cur_processing_latency: 186.1694290976059
__main__ - calculate_ruleset_overperformance(line:722) - INFO - calculate_ruleset_overperformance: rules:
Index(['src_svc', 'dst_svc', 'src_endpoint', 'dst_endpoint', 'src_cid',
       'dst_cid', 'flow', 'total', 'weight'],
      dtype='object')
__main__ - calculate_ruleset_overperformance(line:727) - INFO - calculate_ruleset_overperformance: src_regions: ['us-east-1' 'us-south-1' 'us-central-1' 'us-west-1']
__main__ - calculate_ruleset_overperformance(line:735) - INFO - calculate_ruleset_overperformance: src_region: us-east-1, dst_regions: ['us-east-1' 'us-south-1']
__main__ - calculate_ruleset_overperformance(line:754) - INFO - loghill calculate_ruleset_overperformance: src_region: us-east-1, dst_region: us-east-1, expected_latency: 17.079449380366693, actual_latency: 510.0, load in us-east-1 for this ruleset: 236.23809523809524
__main__ - calculate_ruleset_overperformance(line:754) - INFO - loghill calculate_ruleset_overperformance: src_region: us-east-1, dst_region: us-south-1, expected_latency: 8.116921784517537, actual_latency: 140.66083916083917, load in us-south-1 for this ruleset: 5.761904761904762
__main__ - perform_jumping(line:297) - INFO - loghill ruleset_overperformance: {'us-east-1': {'us-east-1': -116446.61198209529, 'us-south-1': -763.705428692139}}
__main__ - perform_jumping(line:384) - INFO - loghill old cur_convex_comb_value: 0.0
__main__ - perform_jumping(line:393) - INFO - loghill new cur_convex_comb_value: 0
apscheduler.executors.default - run_job(line:131) - ERROR - Job "perform_jumping (trigger: interval[0:00:10], next run at: 2024-10-28 03:43:31 UTC)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/app/global_controller.py", line 396, in perform_jumping
    jumping_df = jump_towards_optimizer_desired(starting_df, desired_df, cur_convex_comb_value).copy()
  File "/app/global_controller.py", line 548, in jump_towards_optimizer_desired
    raise ValueError(f"{df_name} must contain columns: {required_columns} (has columns: {df.columns})")
ValueError: desired_df must contain columns: {'src_svc', 'dst_svc'} (has columns: RangeIndex(start=0, stop=0, step=1))
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:43:22 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-270, gap: 0.9701647758483887
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,210
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,152
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,103
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,252
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.4707307815551758
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.5044136047363281 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-271
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-271, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,271,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,244,250,0.976
,271,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,250,0.024
,271,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,152,152,1.0
,271,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,201,201,1.0
,271,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,98,98,1.0
,271,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,244,244,1.0
,271,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,158,158,1.0
,271,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,201,201,1.0
,271,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,99,99,1.0
,271,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,244,244,1.0
,271,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,158,158,1.0
,271,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,201,201,1.0
,271,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,99,99,1.0
,271,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,244,244,1.0
,271,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,158,158,1.0
,271,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,201,201,1.0
,271,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,99,99,1.0
,271,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,244,244,1.0
,271,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,158,158,1.0
,271,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,201,201,1.0
,271,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,99,99,1.0
,271,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,244,244,1.0
,271,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,158,158,1.0
,271,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,201,201,1.0
,271,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,99,99,1.0
,271,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,244,244,1.0
,271,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,158,158,1.0
,271,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,201,201,1.0
,271,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,99,99,1.0
,271,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,249,700,0.3557142857142857
,271,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,152,700,0.21714285714285714
,271,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,201,700,0.28714285714285714
,271,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,98,700,0.14

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,271,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,271,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,271,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,271,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,271,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,271,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,271,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,271,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,271,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,271,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,271,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,271,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,271,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,271,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,271,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,271,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,271,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,271,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,271,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,271,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,271,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,271,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,271,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,271,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,271,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,271,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,271,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,271,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,271,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,271,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,271,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,271,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,271,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-271, gap: 1.0077977180480957
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,208
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,157
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,97
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,257
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(719) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,180 -> new_capacity, 180
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,180 -> new_capacity, 180
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,180 -> new_capacity, 180
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,180 -> new_capacity, 180
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-272 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-272
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 726}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 719}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 709}, 'frontend': {'frontend@POST@/cart/checkout': 703}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 710}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 701}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 721}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2414}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:43:24 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-272, gap: 0.987358808517456
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,201
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,157
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,97
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,257
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.4774465560913086
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.624314546585083 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-273
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-273, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,273,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,250,258,0.9689922480620154
,273,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,8,258,0.031007751937984496
,273,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,157,157,1.0
,273,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,208,208,1.0
,273,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,97,97,1.0
,273,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,250,250,1.0
,273,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,165,165,1.0
,273,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,208,208,1.0
,273,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,98,98,1.0
,273,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,250,250,1.0
,273,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,165,165,1.0
,273,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,208,208,1.0
,273,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,98,98,1.0
,273,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,250,250,1.0
,273,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,165,165,1.0
,273,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,208,208,1.0
,273,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,98,98,1.0
,273,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,250,250,1.0
,273,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,165,165,1.0
,273,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,208,208,1.0
,273,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,98,98,1.0
,273,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,250,250,1.0
,273,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,165,165,1.0
,273,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,208,208,1.0
,273,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,98,98,1.0
,273,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,250,250,1.0
,273,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,165,165,1.0
,273,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,208,208,1.0
,273,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,98,98,1.0
,273,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,257,719,0.3574408901251738
,273,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,157,719,0.21835883171070933
,273,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,208,719,0.28929068150208626
,273,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,97,719,0.1349095966620306

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,273,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,273,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,273,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,273,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,273,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,273,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,273,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,273,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,273,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,273,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,273,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,273,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,273,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,273,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,273,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,273,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,273,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,273,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,273,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,273,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,273,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,273,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,273,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,273,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,273,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,273,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,273,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,273,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,273,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,273,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,273,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,273,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,273,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-273, gap: 1.0138304233551025
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,208
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,153
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,97
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,246
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(704) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,177 -> new_capacity, 177
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,177 -> new_capacity, 177
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,177 -> new_capacity, 177
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,177 -> new_capacity, 177
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-274 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-274
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 748}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 704}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 719}, 'frontend': {'frontend@POST@/cart/checkout': 722}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 716}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 735}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 717}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2421}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:43:26 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-274, gap: 0.9894583225250244
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,208
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,155
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,97
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,243
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.43469905853271484
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.8150243759155273 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-275
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-275, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,275,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,244,247,0.9878542510121457
,275,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,3,247,0.012145748987854251
,275,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,153,153,1.0
,275,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,208,208,1.0
,275,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,97,97,1.0
,275,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,244,244,1.0
,275,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,156,156,1.0
,275,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,208,208,1.0
,275,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,98,98,1.0
,275,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,244,244,1.0
,275,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,156,156,1.0
,275,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,208,208,1.0
,275,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,98,98,1.0
,275,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,244,244,1.0
,275,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,156,156,1.0
,275,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,208,208,1.0
,275,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,98,98,1.0
,275,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,244,244,1.0
,275,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,156,156,1.0
,275,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,208,208,1.0
,275,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,98,98,1.0
,275,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,244,244,1.0
,275,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,156,156,1.0
,275,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,208,208,1.0
,275,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,98,98,1.0
,275,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,244,244,1.0
,275,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,156,156,1.0
,275,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,208,208,1.0
,275,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,98,98,1.0
,275,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,246,704,0.3494318181818182
,275,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,153,704,0.21732954545454544
,275,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,208,704,0.29545454545454547
,275,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,97,704,0.1377840909090909

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,275,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,275,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,275,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,275,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,275,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,275,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,275,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,275,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,275,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,275,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,275,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,275,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,275,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,275,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,275,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,275,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,275,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,275,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,275,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,275,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,275,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,275,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,275,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,275,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,275,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,275,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,275,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,275,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,275,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,275,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,275,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,275,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,275,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-275, gap: 1.021843671798706
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,199
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,153
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,99
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,246
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(697) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,175 -> new_capacity, 175
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,175 -> new_capacity, 175
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,175 -> new_capacity, 175
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,175 -> new_capacity, 175
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-276 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-276
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 716}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 697}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 709}, 'frontend': {'frontend@POST@/cart/checkout': 727}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 737}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 721}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 736}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2415}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:43:28 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-276, gap: 0.9930853843688965
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,206
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,150
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,99
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,251
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.3777425289154053
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.6896836757659912 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-277
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-277, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,277,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,244,247,0.9878542510121457
,277,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,3,247,0.012145748987854251
,277,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,153,153,1.0
,277,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,199,199,1.0
,277,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,99,99,1.0
,277,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,244,244,1.0
,277,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,156,156,1.0
,277,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,199,199,1.0
,277,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,100,100,1.0
,277,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,244,244,1.0
,277,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,156,156,1.0
,277,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,199,199,1.0
,277,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,100,100,1.0
,277,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,244,244,1.0
,277,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,156,156,1.0
,277,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,199,199,1.0
,277,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,100,100,1.0
,277,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,244,244,1.0
,277,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,156,156,1.0
,277,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,199,199,1.0
,277,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,100,100,1.0
,277,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,244,244,1.0
,277,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,156,156,1.0
,277,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,199,199,1.0
,277,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,100,100,1.0
,277,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,244,244,1.0
,277,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,156,156,1.0
,277,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,199,199,1.0
,277,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,100,100,1.0
,277,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,246,697,0.35294117647058826
,277,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,153,697,0.21951219512195122
,277,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,199,697,0.2855093256814921
,277,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,99,697,0.14203730272596843

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,277,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,277,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,277,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,277,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,277,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,277,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,277,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,277,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,277,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,277,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,277,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,277,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,277,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,277,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,277,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,277,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,277,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,277,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,277,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,277,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,277,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,277,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,277,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,277,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,277,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,277,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,277,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,277,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,277,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,277,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,277,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,277,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,277,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-277, gap: 1.0091261863708496
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(727) at sslateingress > total capcity(0) at frontend
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,206
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,182 -> new_capacity, 182
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,182 -> new_capacity, 182
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,182 -> new_capacity, 182
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,156
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,100
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,265
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,182 -> new_capacity, 182
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-278 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-278
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 734}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 727}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 716}, 'frontend': {'frontend@POST@/cart/checkout': 723}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 700}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 722}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 740}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2437}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:43:30 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-278, gap: 0.9712414741516113
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,208
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,156
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,102
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,263
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.6029777526855469
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.6106488704681396 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-279
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-279, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,279,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,252,266,0.9473684210526315
,279,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,14,266,0.05263157894736842
,279,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,156,156,1.0
,279,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,279,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,100,100,1.0
,279,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,252,252,1.0
,279,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,170,170,1.0
,279,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,279,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,101,101,1.0
,279,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,252,252,1.0
,279,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,170,170,1.0
,279,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,279,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,101,101,1.0
,279,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,252,252,1.0
,279,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,170,170,1.0
,279,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,279,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,101,101,1.0
,279,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,252,252,1.0
,279,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,170,170,1.0
,279,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,279,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,101,101,1.0
,279,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,252,252,1.0
,279,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,170,170,1.0
,279,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,279,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,101,101,1.0
,279,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,252,252,1.0
,279,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,170,170,1.0
,279,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,279,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,101,101,1.0
,279,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,265,727,0.36451169188445665
,279,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,156,727,0.21458046767537828
,279,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,727,0.2833562585969739
,279,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,100,727,0.1375515818431912

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,279,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,279,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,279,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,279,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,279,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,279,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,279,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,279,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,279,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,279,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,279,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,279,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,279,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,279,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,279,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,279,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,279,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,279,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,279,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,279,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,279,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,279,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,279,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,279,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,279,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,279,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,279,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,279,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,279,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,279,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,279,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,279,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,279,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-279, gap: 0.9945011138916016
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,212
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,148
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,102
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,252
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(714) at sslateingress > total capcity(0) at frontend
__main__ - perform_jumping(line:292) - INFO - loghill temp_counter 280 (current ruleset  prev_processing_latency: 186.1694290976059, cur_processing_latency: 268.1666666666667
__main__ - calculate_ruleset_overperformance(line:722) - INFO - calculate_ruleset_overperformance: rules:
Index(['src_svc', 'dst_svc', 'src_endpoint', 'dst_endpoint', 'src_cid',
       'dst_cid', 'flow', 'total', 'weight'],
      dtype='object')
__main__ - calculate_ruleset_overperformance(line:727) - INFO - calculate_ruleset_overperformance: src_regions: ['us-east-1' 'us-south-1' 'us-central-1' 'us-west-1']
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - calculate_ruleset_overperformance(line:735) - INFO - calculate_ruleset_overperformance: src_region: us-east-1, dst_regions: ['us-east-1' 'us-south-1']
__main__ - calculate_ruleset_overperformance(line:754) - INFO - loghill calculate_ruleset_overperformance: src_region: us-east-1, dst_region: us-east-1, expected_latency: 16.814771605578883, actual_latency: 0, load in us-east-1 for this ruleset: 234.28571428571428
__main__ - calculate_ruleset_overperformance(line:754) - INFO - loghill calculate_ruleset_overperformance: src_region: us-east-1, dst_region: us-south-1, expected_latency: 7.941202100011106, actual_latency: 0, load in us-south-1 for this ruleset: 5.7142857142857135
__main__ - perform_jumping(line:297) - INFO - loghill ruleset_overperformance: {'us-east-1': {'us-east-1': 3939.4607761641955, 'us-south-1': 45.378297714349166}}
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,179 -> new_capacity, 179
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-280 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-280
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 756}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 714}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 729}, 'frontend': {'frontend@POST@/cart/checkout': 710}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 717}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 700}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 735}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2433}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
__main__ - perform_jumping(line:382) - INFO - loghill reversing direction from 1 to -1
__main__ - perform_jumping(line:384) - INFO - loghill old cur_convex_comb_value: 0
__main__ - perform_jumping(line:393) - INFO - loghill new cur_convex_comb_value: 0
apscheduler.executors.default - run_job(line:131) - ERROR - Job "perform_jumping (trigger: interval[0:00:10], next run at: 2024-10-28 03:43:41 UTC)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/app/global_controller.py", line 396, in perform_jumping
    jumping_df = jump_towards_optimizer_desired(starting_df, desired_df, cur_convex_comb_value).copy()
  File "/app/global_controller.py", line 548, in jump_towards_optimizer_desired
    raise ValueError(f"{df_name} must contain columns: {required_columns} (has columns: {df.columns})")
ValueError: desired_df must contain columns: {'src_svc', 'dst_svc'} (has columns: RangeIndex(start=0, stop=0, step=1))
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:43:32 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-280, gap: 1.0086941719055176
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,203
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,157
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,102
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,253
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.5152802467346191
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.6922893524169922 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-281
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-281, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,281,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,244,253,0.9644268774703557
,281,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,9,253,0.03557312252964427
,281,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,148,148,1.0
,281,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,212,212,1.0
,281,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,102,102,1.0
,281,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,244,244,1.0
,281,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,157,157,1.0
,281,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,212,212,1.0
,281,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,103,103,1.0
,281,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,244,244,1.0
,281,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,157,157,1.0
,281,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,212,212,1.0
,281,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,103,103,1.0
,281,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,244,244,1.0
,281,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,157,157,1.0
,281,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,212,212,1.0
,281,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,103,103,1.0
,281,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,244,244,1.0
,281,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,157,157,1.0
,281,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,212,212,1.0
,281,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,103,103,1.0
,281,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,244,244,1.0
,281,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,157,157,1.0
,281,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,212,212,1.0
,281,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,103,103,1.0
,281,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,244,244,1.0
,281,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,157,157,1.0
,281,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,212,212,1.0
,281,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,103,103,1.0
,281,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,252,714,0.35294117647058826
,281,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,148,714,0.20728291316526612
,281,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,212,714,0.2969187675070028
,281,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,102,714,0.14285714285714285

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,281,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,281,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,281,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,281,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,281,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,281,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,281,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,281,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,281,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,281,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,281,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,281,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,281,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,281,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,281,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,281,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,281,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,281,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,281,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,281,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,281,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,281,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,281,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,281,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,281,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,281,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,281,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,281,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,281,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,281,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,281,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,281,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,281,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-281, gap: 1.0211448669433594
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,205
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,147
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,102
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,251
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(705) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,177 -> new_capacity, 177
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,177 -> new_capacity, 177
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,177 -> new_capacity, 177
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,177 -> new_capacity, 177
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-282 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-282
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 760}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 705}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 713}, 'frontend': {'frontend@POST@/cart/checkout': 702}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 690}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 681}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 752}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2460}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:43:34 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-282, gap: 0.974313497543335
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,205
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,142
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,108
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,256
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.46126556396484375
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.8062307834625244 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-283
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-283, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,283,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,243,252,0.9642857142857143
,283,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,9,252,0.03571428571428571
,283,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,147,147,1.0
,283,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,205,205,1.0
,283,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,102,102,1.0
,283,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,243,243,1.0
,283,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,156,156,1.0
,283,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,205,205,1.0
,283,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,283,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,243,243,1.0
,283,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,156,156,1.0
,283,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,205,205,1.0
,283,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,283,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,243,243,1.0
,283,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,156,156,1.0
,283,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,205,205,1.0
,283,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,283,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,243,243,1.0
,283,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,156,156,1.0
,283,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,205,205,1.0
,283,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,283,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,243,243,1.0
,283,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,156,156,1.0
,283,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,205,205,1.0
,283,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,283,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,243,243,1.0
,283,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,156,156,1.0
,283,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,205,205,1.0
,283,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,283,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,705,0.35602836879432626
,283,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,147,705,0.20851063829787234
,283,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,205,705,0.2907801418439716
,283,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,102,705,0.14468085106382977

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,283,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,283,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,283,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,283,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,283,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,283,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,283,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,283,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,283,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,283,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,283,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,283,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,283,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,283,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,283,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,283,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,283,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,283,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,283,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,283,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,283,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,283,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,283,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,283,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,283,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,283,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,283,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,283,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,283,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,283,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,283,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,283,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,283,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-283, gap: 1.03452467918396
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,208
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,148
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,105
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,259
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(720) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-284 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-284
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 752}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 720}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 708}, 'frontend': {'frontend@POST@/cart/checkout': 707}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 719}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 673}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 734}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2480}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:43:36 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-284, gap: 0.9685988426208496
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,207
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,148
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,105
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,263
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.4786033630371094
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.731224536895752 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-285
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-285, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,285,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,247,260,0.95
,285,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,13,260,0.05
,285,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,148,148,1.0
,285,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,208,208,1.0
,285,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,105,105,1.0
,285,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,247,247,1.0
,285,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,161,161,1.0
,285,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,208,208,1.0
,285,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,106,106,1.0
,285,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,247,247,1.0
,285,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,161,161,1.0
,285,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,208,208,1.0
,285,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,106,106,1.0
,285,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,247,247,1.0
,285,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,161,161,1.0
,285,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,208,208,1.0
,285,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,106,106,1.0
,285,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,247,247,1.0
,285,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,161,161,1.0
,285,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,208,208,1.0
,285,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,106,106,1.0
,285,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,247,247,1.0
,285,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,161,161,1.0
,285,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,208,208,1.0
,285,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,106,106,1.0
,285,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,247,247,1.0
,285,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,161,161,1.0
,285,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,208,208,1.0
,285,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,106,106,1.0
,285,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,259,720,0.3597222222222222
,285,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,148,720,0.20555555555555555
,285,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,208,720,0.28888888888888886
,285,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,105,720,0.14583333333333334

apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:43:37 UTC)" skipped: maximum number of running instances reached (1)
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,285,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,285,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,285,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,285,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,285,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,285,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,285,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,285,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,285,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,285,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,285,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,285,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,285,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,285,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,285,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,285,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,285,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,285,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,285,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,285,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,285,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,285,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,285,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,285,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,285,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,285,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,285,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,285,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,285,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,285,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,285,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,285,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,285,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-285, gap: 1.0136845111846924
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,200
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,151
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,111
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,263
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-286, gap: 0.9825549125671387
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,194
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,151
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,111
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,252
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(708) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,178 -> new_capacity, 178
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,178 -> new_capacity, 178
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,178 -> new_capacity, 178
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,178 -> new_capacity, 178
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-287 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-287
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 720}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 708}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 707}, 'frontend': {'frontend@POST@/cart/checkout': 715}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 705}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 706}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 714}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2470}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:43:39 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-287, gap: 1.002596139907837
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,194
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,148
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,107
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,254
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.43602490425109863
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 2.2097647190093994 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-288
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-288, result: model solved
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:43:40 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-288, gap: 1.2772512435913086
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,196
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,148
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,107
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,252
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,288,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,245,253,0.9683794466403162
,288,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,8,253,0.03162055335968379
,288,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,151,151,1.0
,288,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,194,194,1.0
,288,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,111,111,1.0
,288,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,245,245,1.0
,288,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,159,159,1.0
,288,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,194,194,1.0
,288,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,112,112,1.0
,288,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,245,245,1.0
,288,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,159,159,1.0
,288,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,194,194,1.0
,288,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,112,112,1.0
,288,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,245,245,1.0
,288,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,159,159,1.0
,288,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,194,194,1.0
,288,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,112,112,1.0
,288,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,245,245,1.0
,288,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,159,159,1.0
,288,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,194,194,1.0
,288,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,112,112,1.0
,288,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,245,245,1.0
,288,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,159,159,1.0
,288,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,194,194,1.0
,288,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,112,112,1.0
,288,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,245,245,1.0
,288,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,159,159,1.0
,288,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,194,194,1.0
,288,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,112,112,1.0
,288,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,252,708,0.3559322033898305
,288,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,151,708,0.2132768361581921
,288,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,194,708,0.2740112994350282
,288,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,111,708,0.15677966101694915

__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,288,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,288,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,288,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,288,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,288,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,288,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,288,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,288,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,288,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,288,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,288,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,288,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,288,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,288,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,288,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,288,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,288,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,288,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,288,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,288,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,288,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,288,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,288,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,288,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,288,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,288,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,288,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,288,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,288,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,288,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,288,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,288,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,288,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(709) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,178 -> new_capacity, 178
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,178 -> new_capacity, 178
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,178 -> new_capacity, 178
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,178 -> new_capacity, 178
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-289 ROUTING_RULE:SLATE-with-jumping-global
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-289
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-289, gap: 0.7602903842926025
__main__ - perform_jumping(line:292) - INFO - loghill temp_counter 289 (current ruleset  prev_processing_latency: 268.1666666666667, cur_processing_latency: 301.2074966532798
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,191
__main__ - calculate_ruleset_overperformance(line:722) - INFO - calculate_ruleset_overperformance: rules:
Index(['src_svc', 'dst_svc', 'src_endpoint', 'dst_endpoint', 'src_cid',
       'dst_cid', 'flow', 'total', 'weight'],
      dtype='object')
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,147
__main__ - calculate_ruleset_overperformance(line:727) - INFO - calculate_ruleset_overperformance: src_regions: ['us-east-1' 'us-south-1' 'us-central-1' 'us-west-1']
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 756}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 709}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 719}, 'frontend': {'frontend@POST@/cart/checkout': 718}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 725}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 723}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 737}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2477}}
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,106
__main__ - calculate_ruleset_overperformance(line:735) - INFO - calculate_ruleset_overperformance: src_region: us-east-1, dst_regions: ['us-east-1' 'us-south-1']
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,265
__main__ - calculate_ruleset_overperformance(line:754) - INFO - loghill calculate_ruleset_overperformance: src_region: us-east-1, dst_region: us-east-1, expected_latency: 17.212611953781725, actual_latency: 437.6016260162602, load in us-east-1 for this ruleset: 237.2142857142857
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
__main__ - calculate_ruleset_overperformance(line:754) - INFO - loghill calculate_ruleset_overperformance: src_region: us-east-1, dst_region: us-south-1, expected_latency: 8.2948379650803, actual_latency: 141.0, load in us-south-1 for this ruleset: 5.785714285714286
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - perform_jumping(line:297) - INFO - loghill ruleset_overperformance: {'us-east-1': {'us-east-1': -99722.27969296362, 'us-south-1': -767.794151773464}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
__main__ - perform_jumping(line:382) - INFO - loghill reversing direction from 1 to -1
__main__ - perform_jumping(line:384) - INFO - loghill old cur_convex_comb_value: 0
__main__ - perform_jumping(line:393) - INFO - loghill new cur_convex_comb_value: 0
apscheduler.executors.default - run_job(line:131) - ERROR - Job "perform_jumping (trigger: interval[0:00:10], next run at: 2024-10-28 03:43:51 UTC)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/app/global_controller.py", line 396, in perform_jumping
    jumping_df = jump_towards_optimizer_desired(starting_df, desired_df, cur_convex_comb_value).copy()
  File "/app/global_controller.py", line 548, in jump_towards_optimizer_desired
    raise ValueError(f"{df_name} must contain columns: {required_columns} (has columns: {df.columns})")
ValueError: desired_df must contain columns: {'src_svc', 'dst_svc'} (has columns: RangeIndex(start=0, stop=0, step=1))
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:43:42 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-290, gap: 0.9466667175292969
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,198
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,158
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,105
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,249
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.3841061592102051
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.5935382843017578 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-291
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-291, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,291,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,249,266,0.9360902255639098
,291,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,17,266,0.06390977443609022
,291,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,147,147,1.0
,291,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,191,191,1.0
,291,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,106,106,1.0
,291,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,249,249,1.0
,291,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,164,164,1.0
,291,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,191,191,1.0
,291,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,107,107,1.0
,291,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,249,249,1.0
,291,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,164,164,1.0
,291,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,191,191,1.0
,291,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,107,107,1.0
,291,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,249,249,1.0
,291,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,164,164,1.0
,291,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,191,191,1.0
,291,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,107,107,1.0
,291,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,249,249,1.0
,291,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,164,164,1.0
,291,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,191,191,1.0
,291,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,107,107,1.0
,291,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,249,249,1.0
,291,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,164,164,1.0
,291,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,191,191,1.0
,291,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,107,107,1.0
,291,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,249,249,1.0
,291,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,164,164,1.0
,291,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,191,191,1.0
,291,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,107,107,1.0
,291,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,265,709,0.37376586741889983
,291,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,147,709,0.2073342736248237
,291,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,191,709,0.2693935119887165
,291,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,106,709,0.14950634696755993

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,291,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,291,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,291,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,291,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,291,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,291,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,291,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,291,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,291,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,291,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,291,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,291,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,291,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,291,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,291,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,291,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,291,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,291,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,291,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,291,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,291,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,291,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,291,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,291,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,291,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,291,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,291,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,291,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,291,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,291,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,291,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,291,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,291,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-291, gap: 1.006619930267334
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,208
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,162
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,105
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,247
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(722) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-292 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-292
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 757}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 722}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 708}, 'frontend': {'frontend@POST@/cart/checkout': 714}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 694}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 731}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 718}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2437}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:43:44 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-292, gap: 1.055215835571289
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,203
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,150
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,105
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,247
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.3611171245574951
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.5274665355682373 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-293
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-293, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,293,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,247,247,1.0
,293,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,162,162,1.0
,293,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,208,208,1.0
,293,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,105,105,1.0
,293,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,247,247,1.0
,293,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,163,163,1.0
,293,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,208,208,1.0
,293,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,106,106,1.0
,293,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,247,247,1.0
,293,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,163,163,1.0
,293,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,208,208,1.0
,293,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,106,106,1.0
,293,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,247,247,1.0
,293,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,163,163,1.0
,293,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,208,208,1.0
,293,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,106,106,1.0
,293,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,247,247,1.0
,293,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,163,163,1.0
,293,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,208,208,1.0
,293,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,106,106,1.0
,293,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,247,247,1.0
,293,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,163,163,1.0
,293,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,208,208,1.0
,293,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,106,106,1.0
,293,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,247,247,1.0
,293,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,163,163,1.0
,293,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,208,208,1.0
,293,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,106,106,1.0
,293,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,247,722,0.34210526315789475
,293,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,162,722,0.22437673130193905
,293,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,208,722,0.2880886426592798
,293,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,105,722,0.14542936288088643

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,293,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,293,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,293,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,293,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,293,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,293,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,293,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,293,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,293,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,293,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,293,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,293,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,293,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,293,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,293,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,293,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,293,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,293,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,293,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,293,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,293,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,293,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,293,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,293,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,293,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,293,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,293,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,293,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,293,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,293,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,293,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,293,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,293,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-293, gap: 0.9432041645050049
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,203
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,150
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,105
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,251
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(709) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,178 -> new_capacity, 178
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,178 -> new_capacity, 178
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,178 -> new_capacity, 178
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,178 -> new_capacity, 178
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-294 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-294
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 734}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 709}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 708}, 'frontend': {'frontend@POST@/cart/checkout': 713}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 694}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 734}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 716}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2429}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:43:46 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-294, gap: 0.9979877471923828
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,203
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,150
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,110
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,251
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.4494497776031494
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.5783569812774658 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-295
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-295, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,295,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,244,252,0.9682539682539683
,295,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,8,252,0.031746031746031744
,295,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,150,150,1.0
,295,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,203,203,1.0
,295,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,105,105,1.0
,295,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,244,244,1.0
,295,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,158,158,1.0
,295,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,203,203,1.0
,295,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,106,106,1.0
,295,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,244,244,1.0
,295,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,158,158,1.0
,295,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,203,203,1.0
,295,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,106,106,1.0
,295,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,244,244,1.0
,295,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,158,158,1.0
,295,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,203,203,1.0
,295,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,106,106,1.0
,295,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,244,244,1.0
,295,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,158,158,1.0
,295,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,203,203,1.0
,295,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,106,106,1.0
,295,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,244,244,1.0
,295,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,158,158,1.0
,295,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,203,203,1.0
,295,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,106,106,1.0
,295,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,244,244,1.0
,295,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,158,158,1.0
,295,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,203,203,1.0
,295,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,106,106,1.0
,295,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,709,0.3540197461212976
,295,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,150,709,0.21156558533145275
,295,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,203,709,0.2863187588152327
,295,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,105,709,0.14809590973201692

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,295,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,295,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,295,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,295,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,295,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,295,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,295,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,295,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,295,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,295,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,295,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,295,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,295,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,295,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,295,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,295,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,295,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,295,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,295,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,295,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,295,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,295,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,295,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,295,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,295,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,295,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,295,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,295,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,295,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,295,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,295,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,295,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,295,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-295, gap: 1.0057215690612793
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,203
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,151
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,109
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,253
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(716) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,180 -> new_capacity, 180
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,180 -> new_capacity, 180
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,180 -> new_capacity, 180
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,180 -> new_capacity, 180
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-296 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-296
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 723}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 716}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 707}, 'frontend': {'frontend@POST@/cart/checkout': 717}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 750}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 721}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 740}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2440}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:43:48 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-296, gap: 1.0142858028411865
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,194
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,151
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,103
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,251
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.5176615715026855
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.779999017715454 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-297
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-297, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,297,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,254,0.968503937007874
,297,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,8,254,0.031496062992125984
,297,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,151,151,1.0
,297,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,203,203,1.0
,297,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,109,109,1.0
,297,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,297,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,159,159,1.0
,297,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,203,203,1.0
,297,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,110,110,1.0
,297,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,297,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,159,159,1.0
,297,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,203,203,1.0
,297,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,110,110,1.0
,297,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,297,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,159,159,1.0
,297,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,203,203,1.0
,297,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,110,110,1.0
,297,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,297,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,159,159,1.0
,297,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,203,203,1.0
,297,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,110,110,1.0
,297,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,297,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,159,159,1.0
,297,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,203,203,1.0
,297,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,110,110,1.0
,297,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,297,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,159,159,1.0
,297,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,203,203,1.0
,297,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,110,110,1.0
,297,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,253,716,0.35335195530726254
,297,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,151,716,0.21089385474860337
,297,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,203,716,0.2835195530726257
,297,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,109,716,0.15223463687150837

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,297,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,297,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,297,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,297,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,297,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,297,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,297,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,297,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,297,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,297,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,297,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,297,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,297,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,297,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,297,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,297,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,297,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,297,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,297,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,297,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,297,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,297,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,297,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,297,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,297,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,297,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,297,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,297,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,297,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,297,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,297,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,297,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,297,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-297, gap: 0.9909124374389648
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,206
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,150
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,108
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,243
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(707) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,177 -> new_capacity, 177
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,177 -> new_capacity, 177
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,177 -> new_capacity, 177
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,177 -> new_capacity, 177
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-298 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-298
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 744}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 707}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 716}, 'frontend': {'frontend@POST@/cart/checkout': 694}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 748}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 719}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 696}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2428}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:43:50 UTC)" skipped: maximum number of running instances reached (1)
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-298, gap: 0.9849820137023926
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,205
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,153
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,106
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,241
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.39867568016052246
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.7238469123840332 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-299
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-299, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,299,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,241,244,0.9877049180327869
,299,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,3,244,0.012295081967213115
,299,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,150,150,1.0
,299,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,299,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,108,108,1.0
,299,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,241,241,1.0
,299,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,153,153,1.0
,299,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,299,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,109,109,1.0
,299,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,241,241,1.0
,299,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,153,153,1.0
,299,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,299,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,109,109,1.0
,299,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,241,241,1.0
,299,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,153,153,1.0
,299,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,299,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,109,109,1.0
,299,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,241,241,1.0
,299,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,153,153,1.0
,299,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,299,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,109,109,1.0
,299,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,241,241,1.0
,299,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,153,153,1.0
,299,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,299,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,109,109,1.0
,299,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,241,241,1.0
,299,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,153,153,1.0
,299,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,299,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,109,109,1.0
,299,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,243,707,0.3437057991513437
,299,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,150,707,0.21216407355021216
,299,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,707,0.2913719943422914
,299,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,108,707,0.15275813295615276

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,299,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,299,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,299,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,299,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,299,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,299,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,299,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,299,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,299,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,299,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,299,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,299,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,299,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,299,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,299,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,299,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,299,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,299,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,299,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,299,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,299,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,299,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,299,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,299,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,299,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,299,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,299,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,299,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,299,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,299,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,299,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,299,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,299,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(708) at sslateingress > total capcity(0) at frontend
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-299, gap: 1.0105652809143066
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,207
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,153
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,103
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,245
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - perform_jumping(line:292) - INFO - loghill temp_counter 300 (current ruleset  prev_processing_latency: 301.2074966532798, cur_processing_latency: 252.6465604879702
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,178 -> new_capacity, 178
__main__ - calculate_ruleset_overperformance(line:722) - INFO - calculate_ruleset_overperformance: rules:
Index(['src_svc', 'dst_svc', 'src_endpoint', 'dst_endpoint', 'src_cid',
       'dst_cid', 'flow', 'total', 'weight'],
      dtype='object')
__main__ - calculate_ruleset_overperformance(line:727) - INFO - calculate_ruleset_overperformance: src_regions: ['us-east-1' 'us-south-1' 'us-central-1' 'us-west-1']
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,178 -> new_capacity, 178
__main__ - calculate_ruleset_overperformance(line:735) - INFO - calculate_ruleset_overperformance: src_region: us-east-1, dst_regions: ['us-east-1' 'us-south-1']
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,178 -> new_capacity, 178
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,178 -> new_capacity, 178
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-300 ROUTING_RULE:SLATE-with-jumping-global
__main__ - calculate_ruleset_overperformance(line:754) - INFO - loghill calculate_ruleset_overperformance: src_region: us-east-1, dst_region: us-east-1, expected_latency: 16.946835930965744, actual_latency: 412.2852529601722, load in us-east-1 for this ruleset: 235.26190476190476
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-300
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 719}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 708}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 718}, 'frontend': {'frontend@POST@/cart/checkout': 697}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 710}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 703}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 696}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2414}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
__main__ - calculate_ruleset_overperformance(line:754) - INFO - loghill calculate_ruleset_overperformance: src_region: us-east-1, dst_region: us-south-1, expected_latency: 7.095551118323901, actual_latency: 140.75478927203065, load in us-south-1 for this ruleset: 5.738095238095238
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
__main__ - perform_jumping(line:297) - INFO - loghill ruleset_overperformance: {'us-east-1': {'us-east-1': -93008.06901584736, 'us-south-1': -766.949437977222}}
__main__ - perform_jumping(line:384) - INFO - loghill old cur_convex_comb_value: 0
__main__ - perform_jumping(line:393) - INFO - loghill new cur_convex_comb_value: 0.25
apscheduler.executors.default - run_job(line:131) - ERROR - Job "perform_jumping (trigger: interval[0:00:10], next run at: 2024-10-28 03:44:01 UTC)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/app/global_controller.py", line 396, in perform_jumping
    jumping_df = jump_towards_optimizer_desired(starting_df, desired_df, cur_convex_comb_value).copy()
  File "/app/global_controller.py", line 548, in jump_towards_optimizer_desired
    raise ValueError(f"{df_name} must contain columns: {required_columns} (has columns: {df.columns})")
ValueError: desired_df must contain columns: {'src_svc', 'dst_svc'} (has columns: RangeIndex(start=0, stop=0, step=1))
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:43:52 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-300, gap: 0.9869468212127686
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,206
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,161
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,103
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,246
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.4174377918243408
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.5178730487823486 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-301
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-301, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,301,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,243,246,0.9878048780487805
,301,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,3,246,0.012195121951219513
,301,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,153,153,1.0
,301,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,207,207,1.0
,301,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,103,103,1.0
,301,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,243,243,1.0
,301,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,156,156,1.0
,301,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,207,207,1.0
,301,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,104,104,1.0
,301,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,243,243,1.0
,301,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,156,156,1.0
,301,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,207,207,1.0
,301,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,104,104,1.0
,301,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,243,243,1.0
,301,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,156,156,1.0
,301,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,207,207,1.0
,301,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,104,104,1.0
,301,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,243,243,1.0
,301,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,156,156,1.0
,301,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,207,207,1.0
,301,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,104,104,1.0
,301,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,243,243,1.0
,301,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,156,156,1.0
,301,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,207,207,1.0
,301,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,104,104,1.0
,301,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,243,243,1.0
,301,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,156,156,1.0
,301,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,207,207,1.0
,301,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,104,104,1.0
,301,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,245,708,0.346045197740113
,301,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,153,708,0.21610169491525424
,301,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,207,708,0.2923728813559322
,301,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,103,708,0.14548022598870056

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,301,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,301,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,301,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,301,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,301,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,301,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,301,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,301,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,301,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,301,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,301,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,301,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,301,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,301,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,301,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,301,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,301,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,301,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,301,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,301,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,301,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,301,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,301,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,301,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,301,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,301,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,301,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,301,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,301,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,301,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,301,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,301,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,301,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(705) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,177 -> new_capacity, 177
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,177 -> new_capacity, 177
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,177 -> new_capacity, 177
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-301, gap: 1.0172901153564453
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,196
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,161
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,108
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,240
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,177 -> new_capacity, 177
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-302 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-302
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 757}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 705}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 711}, 'frontend': {'frontend@POST@/cart/checkout': 713}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 727}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 704}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 748}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2461}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:43:54 UTC)" skipped: maximum number of running instances reached (1)
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-302, gap: 0.9790458679199219
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,196
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,154
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,102
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,240
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.28150224685668945
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.5134682655334473 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-303
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-303, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,303,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,240,240,1.0
,303,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,161,161,1.0
,303,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,196,196,1.0
,303,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,108,108,1.0
,303,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,240,240,1.0
,303,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,162,162,1.0
,303,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,196,196,1.0
,303,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,109,109,1.0
,303,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,240,240,1.0
,303,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,162,162,1.0
,303,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,196,196,1.0
,303,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,109,109,1.0
,303,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,240,240,1.0
,303,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,162,162,1.0
,303,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,196,196,1.0
,303,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,109,109,1.0
,303,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,240,240,1.0
,303,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,162,162,1.0
,303,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,196,196,1.0
,303,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,109,109,1.0
,303,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,240,240,1.0
,303,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,162,162,1.0
,303,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,196,196,1.0
,303,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,109,109,1.0
,303,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,240,240,1.0
,303,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,162,162,1.0
,303,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,196,196,1.0
,303,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,109,109,1.0
,303,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,240,705,0.3404255319148936
,303,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,161,705,0.22836879432624113
,303,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,196,705,0.27801418439716313
,303,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,108,705,0.15319148936170213

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,303,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,303,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,303,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,303,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,303,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,303,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,303,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,303,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,303,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,303,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,303,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,303,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,303,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,303,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,303,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,303,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,303,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,303,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,303,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,303,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,303,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,303,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,303,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,303,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,303,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,303,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,303,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,303,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,303,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,303,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,303,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,303,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,303,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(692) at sslateingress > total capcity(0) at frontend
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-303, gap: 0.9990472793579102
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,196
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,152
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,103
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,241
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,174 -> new_capacity, 174
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,174 -> new_capacity, 174
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,174 -> new_capacity, 174
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,174 -> new_capacity, 174
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-304 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-304
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 775}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 692}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 724}, 'frontend': {'frontend@POST@/cart/checkout': 734}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 738}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 708}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 729}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2499}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:43:56 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-304, gap: 1.0112013816833496
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,194
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,152
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,101
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,255
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.4291965961456299
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.5363590717315674 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-305
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-305, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,305,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,241,242,0.9958677685950413
,305,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,1,242,0.004132231404958678
,305,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,152,152,1.0
,305,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,196,196,1.0
,305,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,103,103,1.0
,305,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,241,241,1.0
,305,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,153,153,1.0
,305,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,196,196,1.0
,305,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,104,104,1.0
,305,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,241,241,1.0
,305,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,153,153,1.0
,305,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,196,196,1.0
,305,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,104,104,1.0
,305,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,241,241,1.0
,305,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,153,153,1.0
,305,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,196,196,1.0
,305,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,104,104,1.0
,305,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,241,241,1.0
,305,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,153,153,1.0
,305,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,196,196,1.0
,305,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,104,104,1.0
,305,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,241,241,1.0
,305,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,153,153,1.0
,305,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,196,196,1.0
,305,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,104,104,1.0
,305,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,241,241,1.0
,305,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,153,153,1.0
,305,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,196,196,1.0
,305,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,104,104,1.0
,305,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,241,692,0.34826589595375723
,305,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,152,692,0.21965317919075145
,305,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,196,692,0.2832369942196532
,305,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,103,692,0.14884393063583815

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,305,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,305,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,305,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,305,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,305,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,305,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,305,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,305,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,305,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,305,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,305,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,305,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,305,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,305,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,305,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,305,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,305,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,305,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,305,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,305,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,305,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,305,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,305,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,305,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,305,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,305,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,305,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,305,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,305,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,305,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,305,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,305,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,305,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-305, gap: 0.9834790229797363
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,197
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,149
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,103
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,256
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(705) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,177 -> new_capacity, 177
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,177 -> new_capacity, 177
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,177 -> new_capacity, 177
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,177 -> new_capacity, 177
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-306 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-306
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 775}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 705}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 735}, 'frontend': {'frontend@POST@/cart/checkout': 722}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 740}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 713}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 719}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2449}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:43:58 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-306, gap: 1.0016226768493652
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,196
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,154
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,102
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,257
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.35910868644714355
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.4890239238739014 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-307
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-307, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,307,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,257,0.9571984435797666
,307,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,11,257,0.042801556420233464
,307,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,149,149,1.0
,307,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,197,197,1.0
,307,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,103,103,1.0
,307,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,307,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,307,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,197,197,1.0
,307,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,104,104,1.0
,307,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,307,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,307,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,197,197,1.0
,307,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,104,104,1.0
,307,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,307,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,307,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,197,197,1.0
,307,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,104,104,1.0
,307,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,307,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,307,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,197,197,1.0
,307,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,104,104,1.0
,307,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,307,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,307,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,197,197,1.0
,307,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,104,104,1.0
,307,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,307,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,307,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,197,197,1.0
,307,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,104,104,1.0
,307,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,256,705,0.36312056737588655
,307,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,149,705,0.21134751773049645
,307,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,197,705,0.2794326241134752
,307,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,103,705,0.14609929078014183

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,307,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,307,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,307,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,307,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,307,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,307,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,307,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,307,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,307,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,307,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,307,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,307,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,307,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,307,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,307,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,307,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,307,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,307,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,307,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,307,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,307,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,307,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,307,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,307,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,307,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,307,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,307,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,307,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,307,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,307,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,307,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,307,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,307,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(719) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,180 -> new_capacity, 180
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,180 -> new_capacity, 180
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-307, gap: 1.0022451877593994
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,201
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,159
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,105
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,254
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,180 -> new_capacity, 180
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,180 -> new_capacity, 180
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-308 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-308
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 749}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 719}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 714}, 'frontend': {'frontend@POST@/cart/checkout': 716}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 700}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 708}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 705}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2443}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:44:00 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-308, gap: 0.9779744148254395
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,198
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,159
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,105
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,250
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.36049938201904297
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.5270872116088867 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-309
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-309, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,309,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,249,255,0.9764705882352941
,309,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,255,0.023529411764705882
,309,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,159,159,1.0
,309,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,201,201,1.0
,309,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,105,105,1.0
,309,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,249,249,1.0
,309,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,165,165,1.0
,309,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,201,201,1.0
,309,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,106,106,1.0
,309,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,249,249,1.0
,309,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,165,165,1.0
,309,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,201,201,1.0
,309,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,106,106,1.0
,309,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,249,249,1.0
,309,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,165,165,1.0
,309,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,201,201,1.0
,309,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,106,106,1.0
,309,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,249,249,1.0
,309,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,165,165,1.0
,309,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,201,201,1.0
,309,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,106,106,1.0
,309,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,249,249,1.0
,309,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,165,165,1.0
,309,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,201,201,1.0
,309,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,106,106,1.0
,309,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,249,249,1.0
,309,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,165,165,1.0
,309,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,201,201,1.0
,309,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,106,106,1.0
,309,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,254,719,0.3532684283727399
,309,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,159,719,0.2211404728789986
,309,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,201,719,0.2795549374130737
,309,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,105,719,0.14603616133518776

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,309,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,309,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,309,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,309,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,309,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,309,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,309,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,309,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,309,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,309,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,309,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,309,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,309,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,309,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,309,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,309,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,309,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,309,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,309,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,309,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,309,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,309,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,309,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,309,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,309,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,309,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,309,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,309,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,309,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,309,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,309,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,309,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,309,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(711) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,178 -> new_capacity, 178
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,178 -> new_capacity, 178
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,178 -> new_capacity, 178
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,178 -> new_capacity, 178
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-309 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-309
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 731}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 711}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 713}, 'frontend': {'frontend@POST@/cart/checkout': 711}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 677}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 762}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 689}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2466}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-309, gap: 1.040266513824463
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,204
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,150
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,107
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,250
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - perform_jumping(line:292) - INFO - loghill temp_counter 310 (current ruleset  prev_processing_latency: 252.6465604879702, cur_processing_latency: 262.08665401644527
__main__ - calculate_ruleset_overperformance(line:722) - INFO - calculate_ruleset_overperformance: rules:
Index(['src_svc', 'dst_svc', 'src_endpoint', 'dst_endpoint', 'src_cid',
       'dst_cid', 'flow', 'total', 'weight'],
      dtype='object')
__main__ - calculate_ruleset_overperformance(line:727) - INFO - calculate_ruleset_overperformance: src_regions: ['us-east-1' 'us-south-1' 'us-central-1' 'us-west-1']
__main__ - calculate_ruleset_overperformance(line:735) - INFO - calculate_ruleset_overperformance: src_region: us-east-1, dst_regions: ['us-east-1' 'us-south-1']
__main__ - calculate_ruleset_overperformance(line:754) - INFO - loghill calculate_ruleset_overperformance: src_region: us-east-1, dst_region: us-east-1, expected_latency: 17.346323651210838, actual_latency: 409.99197431781704, load in us-east-1 for this ruleset: 238.19047619047618
__main__ - calculate_ruleset_overperformance(line:754) - INFO - loghill calculate_ruleset_overperformance: src_region: us-east-1, dst_region: us-south-1, expected_latency: 7.596352219167232, actual_latency: 140.5578406169666, load in us-south-1 for this ruleset: 5.809523809523809
__main__ - perform_jumping(line:297) - INFO - loghill ruleset_overperformance: {'us-east-1': {'us-east-1': -93524.4545063983, 'us-south-1': -772.442932596739}}
__main__ - perform_jumping(line:382) - INFO - loghill reversing direction from 1 to -1
__main__ - perform_jumping(line:384) - INFO - loghill old cur_convex_comb_value: 0.25
__main__ - perform_jumping(line:393) - INFO - loghill new cur_convex_comb_value: 0.0
apscheduler.executors.default - run_job(line:131) - ERROR - Job "perform_jumping (trigger: interval[0:00:10], next run at: 2024-10-28 03:44:11 UTC)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/app/global_controller.py", line 396, in perform_jumping
    jumping_df = jump_towards_optimizer_desired(starting_df, desired_df, cur_convex_comb_value).copy()
  File "/app/global_controller.py", line 548, in jump_towards_optimizer_desired
    raise ValueError(f"{df_name} must contain columns: {required_columns} (has columns: {df.columns})")
ValueError: desired_df must contain columns: {'src_svc', 'dst_svc'} (has columns: RangeIndex(start=0, stop=0, step=1))
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:44:02 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-310, gap: 0.9870753288269043
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,212
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,146
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,103
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,247
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.3870584964752197
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.5817019939422607 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-311
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-311, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,311,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,244,251,0.9721115537848606
,311,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,7,251,0.027888446215139442
,311,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,150,150,1.0
,311,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,204,204,1.0
,311,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,107,107,1.0
,311,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,244,244,1.0
,311,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,157,157,1.0
,311,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,204,204,1.0
,311,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,108,108,1.0
,311,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,244,244,1.0
,311,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,157,157,1.0
,311,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,204,204,1.0
,311,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,108,108,1.0
,311,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,244,244,1.0
,311,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,157,157,1.0
,311,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,204,204,1.0
,311,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,108,108,1.0
,311,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,244,244,1.0
,311,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,157,157,1.0
,311,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,204,204,1.0
,311,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,108,108,1.0
,311,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,244,244,1.0
,311,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,157,157,1.0
,311,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,204,204,1.0
,311,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,108,108,1.0
,311,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,244,244,1.0
,311,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,157,157,1.0
,311,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,204,204,1.0
,311,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,108,108,1.0
,311,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,250,711,0.35161744022503516
,311,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,150,711,0.2109704641350211
,311,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,204,711,0.2869198312236287
,311,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,107,711,0.15049226441631505

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,311,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,311,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,311,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,311,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,311,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,311,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,311,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,311,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,311,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,311,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,311,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,311,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,311,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,311,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,311,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,311,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,311,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,311,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,311,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,311,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,311,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,311,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,311,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,311,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,311,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,311,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,311,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,311,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,311,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,311,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,311,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,311,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,311,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(720) at sslateingress > total capcity(0) at frontend
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-311, gap: 0.9810776710510254
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,213
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,146
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,107
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,254
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,181 -> new_capacity, 181
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-312 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-312
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 740}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 720}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 722}, 'frontend': {'frontend@POST@/cart/checkout': 723}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 668}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 717}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 732}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2433}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:44:04 UTC)" skipped: maximum number of running instances reached (1)
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-312, gap: 0.9937870502471924
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,213
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,148
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,107
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,254
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.5011591911315918
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.8871064186096191 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-313
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-313, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,313,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,244,255,0.9568627450980393
,313,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,11,255,0.043137254901960784
,313,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,146,146,1.0
,313,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,213,213,1.0
,313,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,107,107,1.0
,313,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,244,244,1.0
,313,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,157,157,1.0
,313,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,213,213,1.0
,313,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,107,107,1.0
,313,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,244,244,1.0
,313,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,157,157,1.0
,313,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,213,213,1.0
,313,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,107,107,1.0
,313,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,244,244,1.0
,313,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,157,157,1.0
,313,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,213,213,1.0
,313,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,107,107,1.0
,313,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,244,244,1.0
,313,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,157,157,1.0
,313,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,213,213,1.0
,313,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,107,107,1.0
,313,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,244,244,1.0
,313,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,157,157,1.0
,313,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,213,213,1.0
,313,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,107,107,1.0
,313,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,244,244,1.0
,313,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,157,157,1.0
,313,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,213,213,1.0
,313,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,107,107,1.0
,313,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,254,720,0.3527777777777778
,313,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,146,720,0.20277777777777778
,313,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,213,720,0.29583333333333334
,313,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,107,720,0.1486111111111111

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,313,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,313,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,313,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,313,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,313,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,313,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,313,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,313,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,313,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,313,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,313,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,313,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,313,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,313,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,313,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,313,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,313,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,313,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,313,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,313,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,313,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,313,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,313,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,313,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,313,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,313,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,313,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,313,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,313,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,313,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,313,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,313,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,313,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:44:05 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-313, gap: 1.0366804599761963
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,211
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,151
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,111
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,252
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(703) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,176 -> new_capacity, 176
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,176 -> new_capacity, 176
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-314, gap: 1.0155866146087646
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,198
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,158
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,103
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,244
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,176 -> new_capacity, 176
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,176 -> new_capacity, 176
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-315 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-315
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 762}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 703}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 724}, 'frontend': {'frontend@POST@/cart/checkout': 700}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 697}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 728}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 700}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2475}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
apscheduler.scheduler - _process_jobs(line:990) - WARNING - Execution of job "optimizer_entrypoint (trigger: interval[0:00:01], next run at: 2024-10-28 03:44:07 UTC)" skipped: maximum number of running instances reached (1)
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-315, gap: 0.9687917232513428
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,202
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,158
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,104
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,253
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.33789706230163574
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 1.4316825866699219 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-316
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-316, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,316,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,244,244,1.0
,316,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,158,158,1.0
,316,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,198,198,1.0
,316,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,103,103,1.0
,316,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,244,244,1.0
,316,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,159,159,1.0
,316,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,198,198,1.0
,316,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,104,104,1.0
,316,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,244,244,1.0
,316,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,159,159,1.0
,316,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,198,198,1.0
,316,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,104,104,1.0
,316,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,244,244,1.0
,316,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,159,159,1.0
,316,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,198,198,1.0
,316,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,104,104,1.0
,316,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,244,244,1.0
,316,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,159,159,1.0
,316,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,198,198,1.0
,316,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,104,104,1.0
,316,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,244,244,1.0
,316,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,159,159,1.0
,316,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,198,198,1.0
,316,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,104,104,1.0
,316,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,244,244,1.0
,316,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,159,159,1.0
,316,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,198,198,1.0
,316,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,104,104,1.0
,316,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,244,703,0.34708392603129445
,316,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,158,703,0.22475106685633
,316,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,198,703,0.28165007112375534
,316,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,103,703,0.1465149359886202

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,316,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,316,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,316,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,316,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,316,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,316,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,316,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,316,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,316,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,316,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,316,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,316,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,316,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,316,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,316,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,316,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,316,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,316,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,316,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,316,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,316,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,316,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,316,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,316,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,316,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,316,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,316,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,316,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,316,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,316,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,316,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,316,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,316,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(710) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,178 -> new_capacity, 178
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,178 -> new_capacity, 178
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,178 -> new_capacity, 178
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,178 -> new_capacity, 178
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-316 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-316
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 771}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 710}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 723}, 'frontend': {'frontend@POST@/cart/checkout': 722}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 721}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 711}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 710}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2448}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-316, gap: 1.0412986278533936
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,206
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,158
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,105
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,241
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.15723800659179688
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 0.7021903991699219 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-317
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-317, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,317,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,241,241,1.0
,317,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,158,158,1.0
,317,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,317,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,105,105,1.0
,317,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,241,241,1.0
,317,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,159,159,1.0
,317,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,317,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,106,106,1.0
,317,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,241,241,1.0
,317,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,159,159,1.0
,317,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,317,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,106,106,1.0
,317,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,241,241,1.0
,317,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,159,159,1.0
,317,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,317,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,106,106,1.0
,317,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,241,241,1.0
,317,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,159,159,1.0
,317,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,317,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,106,106,1.0
,317,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,241,241,1.0
,317,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,159,159,1.0
,317,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,317,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,106,106,1.0
,317,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,241,241,1.0
,317,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,159,159,1.0
,317,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,317,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,106,106,1.0
,317,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,241,710,0.33943661971830985
,317,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,158,710,0.22253521126760564
,317,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,710,0.29014084507042254
,317,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,105,710,0.14788732394366197

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,317,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,317,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,317,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,317,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,317,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,317,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,317,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,317,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,317,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,317,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,317,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,317,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,317,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,317,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,317,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,317,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,317,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,317,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,317,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,317,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,317,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,317,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,317,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,317,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,317,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,317,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,317,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,317,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,317,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,317,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,317,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,317,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,317,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(711) at sslateingress > total capcity(0) at frontend
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-317, gap: 0.9531064033508301
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,200
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,155
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,105
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,251
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,178 -> new_capacity, 178
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,178 -> new_capacity, 178
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,178 -> new_capacity, 178
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,178 -> new_capacity, 178
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-318 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-318
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 743}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 711}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 715}, 'frontend': {'frontend@POST@/cart/checkout': 707}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 729}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 702}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 686}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2454}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.24993348121643066
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 0.6613781452178955 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-318
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-318, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,318,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,318,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,318,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,155,155,1.0
,318,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,200,200,1.0
,318,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,105,105,1.0
,318,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,318,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,161,161,1.0
,318,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,200,200,1.0
,318,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,106,106,1.0
,318,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,318,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,161,161,1.0
,318,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,200,200,1.0
,318,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,106,106,1.0
,318,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,318,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,161,161,1.0
,318,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,200,200,1.0
,318,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,106,106,1.0
,318,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,318,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,161,161,1.0
,318,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,200,200,1.0
,318,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,106,106,1.0
,318,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,318,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,161,161,1.0
,318,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,200,200,1.0
,318,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,106,106,1.0
,318,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,318,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,161,161,1.0
,318,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,200,200,1.0
,318,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,106,106,1.0
,318,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,711,0.3530239099859353
,318,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,155,711,0.2180028129395218
,318,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,200,711,0.2812939521800281
,318,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,105,711,0.14767932489451477

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,318,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,318,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,318,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,318,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,318,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,318,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,318,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,318,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,318,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,318,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,318,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,318,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,318,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,318,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,318,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,318,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,318,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,318,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,318,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,318,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,318,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,318,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,318,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,318,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,318,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,318,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,318,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,318,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,318,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,318,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,318,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,318,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,318,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-318, gap: 0.9872543811798096
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,97
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,157
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,98
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,251
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(603) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,151 -> new_capacity, 151
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,151 -> new_capacity, 151
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,151 -> new_capacity, 151
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,151 -> new_capacity, 151
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-319 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-319
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 589}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 603}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 604}, 'frontend': {'frontend@POST@/cart/checkout': 676}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 703}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 636}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 670}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2444}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.22806429862976074
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 0.7293977737426758 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-319
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-319, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,319,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,241,252,0.9563492063492064
,319,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-central-1,11,252,0.04365079365079365
,319,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,157,157,1.0
,319,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,97,97,1.0
,319,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,98,98,1.0
,319,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,241,241,1.0
,319,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,158,158,1.0
,319,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,108,108,1.0
,319,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,99,99,1.0
,319,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,241,241,1.0
,319,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,158,158,1.0
,319,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,108,108,1.0
,319,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,99,99,1.0
,319,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,241,241,1.0
,319,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,158,158,1.0
,319,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,108,108,1.0
,319,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,99,99,1.0
,319,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,241,241,1.0
,319,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,158,158,1.0
,319,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,108,108,1.0
,319,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,99,99,1.0
,319,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,241,241,1.0
,319,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,158,158,1.0
,319,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,108,108,1.0
,319,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,98,98,1.0
,319,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,241,241,1.0
,319,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,158,158,1.0
,319,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,108,108,1.0
,319,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,98,98,1.0
,319,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,603,0.41625207296849087
,319,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,157,603,0.2603648424543947
,319,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,97,603,0.16086235489220563
,319,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,98,603,0.1625207296849088

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,319,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,319,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,319,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,319,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,319,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,319,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,319,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,319,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,319,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,319,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,319,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,319,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,319,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,319,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,319,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,319,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,319,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,319,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,319,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,319,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,319,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,319,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,319,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,319,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,319,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,319,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,319,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,319,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,319,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,319,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,319,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,319,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,319,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-319, gap: 0.9931125640869141
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,97
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,74
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,74
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,65
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - perform_jumping(line:292) - INFO - loghill temp_counter 320 (current ruleset  prev_processing_latency: 262.08665401644527, cur_processing_latency: 257.99932523616735
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(310) at sslateingress > total capcity(0) at frontend
__main__ - calculate_ruleset_overperformance(line:722) - INFO - calculate_ruleset_overperformance: rules:
Index(['src_svc', 'dst_svc', 'src_endpoint', 'dst_endpoint', 'src_cid',
       'dst_cid', 'flow', 'total', 'weight'],
      dtype='object')
__main__ - calculate_ruleset_overperformance(line:727) - INFO - calculate_ruleset_overperformance: src_regions: ['us-east-1' 'us-south-1' 'us-central-1' 'us-west-1']
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,78 -> new_capacity, 78
__main__ - calculate_ruleset_overperformance(line:735) - INFO - calculate_ruleset_overperformance: src_region: us-east-1, dst_regions: ['us-east-1' 'us-south-1']
__main__ - calculate_ruleset_overperformance(line:754) - INFO - loghill calculate_ruleset_overperformance: src_region: us-east-1, dst_region: us-east-1, expected_latency: 17.480584472654034, actual_latency: 427.0, load in us-east-1 for this ruleset: 239.16666666666666
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,78 -> new_capacity, 78
__main__ - calculate_ruleset_overperformance(line:754) - INFO - loghill calculate_ruleset_overperformance: src_region: us-east-1, dst_region: us-south-1, expected_latency: 8.02878738025728, actual_latency: 138.41104294478527, load in us-south-1 for this ruleset: 5.833333333333333
__main__ - perform_jumping(line:297) - INFO - loghill ruleset_overperformance: {'us-east-1': {'us-east-1': -97943.39354695691, 'us-south-1': -760.5631574597465}}
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,78 -> new_capacity, 78
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,78 -> new_capacity, 78
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-320 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-320
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 457}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 310}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 364}, 'frontend': {'frontend@POST@/cart/checkout': 703}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 544}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 564}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 342}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2149}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
__main__ - perform_jumping(line:301) - INFO - loghill rules are different, stepping towards optimizer output, old rules:
dst_cid       us-central-1  us-east-1  us-south-1  us-west-1
src_cid                                                     
us-central-1           1.0   0.000000    0.000000        0.0
us-east-1              0.0   0.976471    0.023529        0.0
us-south-1             0.0   0.000000    1.000000        0.0
us-west-1              0.0   0.000000    0.000000        1.0, new rules:
dst_cid       us-central-1  us-east-1  us-south-1  us-west-1
src_cid                                                     
us-central-1      1.000000   0.000000         0.0        0.0
us-east-1         0.043651   0.956349         0.0        0.0
us-south-1        0.000000   0.000000         1.0        0.0
us-west-1         0.000000   0.000000         0.0        1.0, cur jumping_df:
dst_cid       us-central-1  us-east-1  us-south-1  us-west-1
src_cid                                                     
us-central-1           1.0    0.00000     0.00000        0.0
us-east-1              0.0    0.97619     0.02381        0.0
us-south-1             0.0    0.00000     1.00000        0.0
us-west-1              0.0    0.00000     0.00000        1.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.15121984481811523
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 0.7328455448150635 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-320
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-320, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,320,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,65,65,1.0
,320,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,74,74,1.0
,320,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,97,97,1.0
,320,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,74,74,1.0
,320,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,65,65,1.0
,320,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,74,74,1.0
,320,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,97,97,1.0
,320,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,74,74,1.0
,320,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,65,65,1.0
,320,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,74,74,1.0
,320,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,97,97,1.0
,320,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,74,74,1.0
,320,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,65,65,1.0
,320,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,74,74,1.0
,320,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,97,97,1.0
,320,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,74,74,1.0
,320,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,65,65,1.0
,320,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,74,74,1.0
,320,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,97,97,1.0
,320,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,74,74,1.0
,320,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,65,65,1.0
,320,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,74,74,1.0
,320,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,97,97,1.0
,320,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,74,74,1.0
,320,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,65,65,1.0
,320,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,74,74,1.0
,320,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,97,97,1.0
,320,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,74,74,1.0
,320,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,65,310,0.20967741935483872
,320,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,74,310,0.23870967741935484
,320,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,97,310,0.31290322580645163
,320,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,74,310,0.23870967741935484

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,320,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,320,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,320,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,320,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,320,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,320,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,320,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,320,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,320,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,320,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,320,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,320,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,320,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,320,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,320,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,320,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,320,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,320,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,320,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,320,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,320,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,320,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,320,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,320,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,320,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,320,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,320,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,320,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,320,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,320,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,320,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,320,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,320,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(272) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,69 -> new_capacity, 69
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,69 -> new_capacity, 69
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-320, gap: 1.0093731880187988
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,97
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,36
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,74
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,65
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,69 -> new_capacity, 69
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,69 -> new_capacity, 69
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-321 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-321
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 356}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 272}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 229}, 'frontend': {'frontend@POST@/cart/checkout': 588}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 312}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 355}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 203}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 2065}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.06168818473815918
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 0.5536556243896484 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-321
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-321, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,321,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,65,65,1.0
,321,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,36,36,1.0
,321,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,97,97,1.0
,321,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,74,74,1.0
,321,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,65,65,1.0
,321,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,37,37,1.0
,321,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,97,97,1.0
,321,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,74,74,1.0
,321,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,65,65,1.0
,321,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,37,37,1.0
,321,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,97,97,1.0
,321,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,74,74,1.0
,321,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,65,65,1.0
,321,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,37,37,1.0
,321,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,97,97,1.0
,321,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,74,74,1.0
,321,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,65,65,1.0
,321,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,37,37,1.0
,321,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,97,97,1.0
,321,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,74,74,1.0
,321,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,65,65,1.0
,321,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,36,36,1.0
,321,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,97,97,1.0
,321,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,74,74,1.0
,321,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,65,65,1.0
,321,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,36,36,1.0
,321,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,97,97,1.0
,321,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,74,74,1.0
,321,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,65,272,0.23897058823529413
,321,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,36,272,0.1323529411764706
,321,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,97,272,0.35661764705882354
,321,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,74,272,0.27205882352941174

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,321,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,321,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,321,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,321,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,321,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,321,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,321,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,321,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,321,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,321,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,321,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,321,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,321,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,321,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,321,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,321,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,321,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,321,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,321,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,321,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,321,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,321,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,321,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,321,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,321,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,321,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,321,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,321,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,321,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,321,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,321,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,321,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,321,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-321, gap: 0.9982089996337891
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,65
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(65) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,17 -> new_capacity, 17
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,17 -> new_capacity, 17
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,17 -> new_capacity, 17
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,17 -> new_capacity, 17
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-322 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-322
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 182}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 65}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 94}, 'frontend': {'frontend@POST@/cart/checkout': 356}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 153}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 152}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 62}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 1894}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.08696174621582031
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 0.44234609603881836 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-322
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-322, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,322,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,65,65,1.0
,322,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,65,65,1.0
,322,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,65,65,1.0
,322,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,65,65,1.0
,322,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,65,65,1.0
,322,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,65,65,1.0
,322,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,65,65,1.0
,322,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,65,65,1.0

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,322,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,322,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,322,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,322,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,322,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,322,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,322,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,322,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,322,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,322,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,322,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,322,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,322,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,322,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,322,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,322,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,322,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,322,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,322,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,322,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,322,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,322,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,322,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,322,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,322,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,322,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,322,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,322,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,322,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,322,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,322,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,322,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,322,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-322, gap: 0.9959523677825928
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,59
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(59) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,15 -> new_capacity, 15
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,15 -> new_capacity, 15
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,15 -> new_capacity, 15
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,15 -> new_capacity, 15
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-323 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-323
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 36}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 59}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 1}, 'frontend': {'frontend@POST@/cart/checkout': 356}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 29}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 92}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 1}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 1807}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.051212310791015625
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 0.36541318893432617 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-323
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-323, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,323,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,59,59,1.0
,323,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,59,59,1.0
,323,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,59,59,1.0
,323,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,59,59,1.0
,323,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,59,59,1.0
,323,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,59,59,1.0
,323,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,59,59,1.0
,323,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,59,59,1.0

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,323,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,323,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,323,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,323,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,323,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,323,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,323,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,323,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,323,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,323,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,323,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,323,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,323,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,323,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,323,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,323,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,323,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,323,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,323,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,323,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,323,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,323,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,323,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,323,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,323,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,323,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,323,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,323,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,323,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,323,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,323,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,323,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,323,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-323, gap: 1.1755905151367188
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1944) - ERROR - !!! Skip optimizer !!! all root_node_rps all regions are 0
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-324, gap: 0.825620174407959
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,48
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(48) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,13 -> new_capacity, 13
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,13 -> new_capacity, 13
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,13 -> new_capacity, 13
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,13 -> new_capacity, 13
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-325 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-325
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 35}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 48}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 2}, 'frontend': {'frontend@POST@/cart/checkout': 273}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 1}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 90}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 32}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 28}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.09222936630249023
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 0.5899331569671631 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-325
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-325, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,325,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,48,48,1.0
,325,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,48,48,1.0
,325,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,48,48,1.0
,325,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,48,48,1.0
,325,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,48,48,1.0
,325,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,48,48,1.0
,325,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,48,48,1.0
,325,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,48,48,1.0

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,325,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,325,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,325,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,325,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,325,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,325,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,325,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,325,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,325,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,325,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,325,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,325,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,325,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,325,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,325,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,325,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,325,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,325,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,325,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,325,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,325,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,325,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,325,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,325,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,325,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,325,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,325,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,325,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,325,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,325,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,325,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,325,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,325,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1957) - ERROR - !!! ERROR !!! Total demand(48) at sslateingress > total capcity(0) at frontend
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,13 -> new_capacity, 13
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,13 -> new_capacity, 13
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-325, gap: 0.9997291564941406
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,48
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,13 -> new_capacity, 13
__main__ - optimizer_entrypoint(line:1961) - ERROR - recalc capacity: frontend, old_capacity,13 -> new_capacity, 13
__main__ - optimizer_entrypoint(line:1963) - INFO - start run optimizer temp_counter-326 ROUTING_RULE:SLATE-with-jumping-global
__main__ - optimizer_entrypoint(line:1964) - INFO - before run_optimizer temp_counter-326
__main__ - optimizer_entrypoint(line:1973) - INFO - WARNING: No capacity threshold in SLATE. latency curve will cover things
__main__ - optimizer_entrypoint(line:1978) - INFO - run_optimizer starts
optimizer_test - run_optimizer(line:118) - INFO - collapsed_endpoint_level_rps: {'cartservice': {'cartservice@POST@/hipstershop.CartService/GetCart': 49}, 'sslateingress': {'sslateingress@POST@/cart/checkout': 48}, 'checkoutservice': {'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder': 3}, 'frontend': {'frontend@POST@/cart/checkout': 166}, 'emailservice': {'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation': 4}, 'shippingservice': {'shippingservice@POST@/hipstershop.ShippingService/ShipOrder': 7}, 'paymentservice': {'paymentservice@POST@/hipstershop.PaymentService/Charge': 7}, 'recommendationservice': {'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations': 1800}}
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout] = 2000.0
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart] = 54.83
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation] = 60.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge] = 10.55
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder] = 54.85
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder] = 18.32
optimizer_header - get_callsize_dict(line:96) - INFO - callsize_dict[frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations] = 54.42
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('sslateingress@POST@/cart/checkout', 'frontend@POST@/cart/checkout')]: 2000.0
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'cartservice@POST@/hipstershop.CartService/GetCart')]: 54.83
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation')]: 60.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'paymentservice@POST@/hipstershop.PaymentService/Charge')]: 10.55
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder', 'shippingservice@POST@/hipstershop.ShippingService/ShipOrder')]: 54.85
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder')]: 18.32
optimizer_test - run_optimizer(line:330) - INFO - flattened_callsize_dict[('frontend@POST@/cart/checkout', 'recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations')]: 54.42
optimizer_test - run_optimizer(line:785) - INFO - Successful run
optimizer_test - run_optimizer(line:786) - WARNING - solver runtime: 0.0949862003326416
__main__ - optimizer_entrypoint(line:1997) - INFO - run_optimizer done, runtime: 0.44010019302368164 seconds
__main__ - optimizer_entrypoint(line:2226) - INFO - after run_optimizer temp_counter-326
__main__ - optimizer_entrypoint(line:2227) - INFO - run_optimizer temp_counter-326, result: model solved
__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,326,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,48,48,1.0
,326,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,48,48,1.0
,326,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,48,48,1.0
,326,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,48,48,1.0
,326,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,48,48,1.0
,326,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,48,48,1.0
,326,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,48,48,1.0
,326,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,48,48,1.0

__main__ - write_optimizer_output(line:1869) - INFO - sim_percentage_df:
,counter,src_svc,dst_svc,src_endpoint,dst_endpoint,src_cid,dst_cid,flow,total,weight
,326,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-east-1,246,252,0.9761904761904762
,326,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-east-1,us-south-1,6,252,0.023809523809523808
,326,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-south-1,us-south-1,154,154,1.0
,326,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-central-1,us-central-1,206,206,1.0
,326,sslateingress,frontend,sslateingress@POST@/cart/checkout,frontend@POST@/cart/checkout,us-west-1,us-west-1,101,101,1.0
,326,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-east-1,us-east-1,246,246,1.0
,326,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-south-1,us-south-1,160,160,1.0
,326,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-central-1,us-central-1,206,206,1.0
,326,checkoutservice,cartservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,cartservice@POST@/hipstershop.CartService/GetCart,us-west-1,us-west-1,102,102,1.0
,326,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-east-1,us-east-1,246,246,1.0
,326,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-south-1,us-south-1,160,160,1.0
,326,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-central-1,us-central-1,206,206,1.0
,326,checkoutservice,emailservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,emailservice@POST@/hipstershop.EmailService/SendOrderConfirmation,us-west-1,us-west-1,102,102,1.0
,326,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-east-1,us-east-1,246,246,1.0
,326,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-south-1,us-south-1,160,160,1.0
,326,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-central-1,us-central-1,206,206,1.0
,326,checkoutservice,paymentservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,paymentservice@POST@/hipstershop.PaymentService/Charge,us-west-1,us-west-1,102,102,1.0
,326,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-east-1,us-east-1,246,246,1.0
,326,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-south-1,us-south-1,160,160,1.0
,326,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-central-1,us-central-1,206,206,1.0
,326,checkoutservice,shippingservice,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,shippingservice@POST@/hipstershop.ShippingService/ShipOrder,us-west-1,us-west-1,102,102,1.0
,326,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-east-1,us-east-1,246,246,1.0
,326,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-south-1,us-south-1,160,160,1.0
,326,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-central-1,us-central-1,206,206,1.0
,326,frontend,checkoutservice,frontend@POST@/cart/checkout,checkoutservice@POST@/hipstershop.CheckoutService/PlaceOrder,us-west-1,us-west-1,102,102,1.0
,326,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-east-1,us-east-1,246,246,1.0
,326,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-south-1,us-south-1,160,160,1.0
,326,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-central-1,us-central-1,206,206,1.0
,326,frontend,recommendationservice,frontend@POST@/cart/checkout,recommendationservice@POST@/hipstershop.RecommendationService/ListRecommendations,us-west-1,us-west-1,102,102,1.0
,326,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-east-1,251,712,0.35252808988764045
,326,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-south-1,154,712,0.21629213483146068
,326,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-central-1,206,712,0.2893258426966292
,326,SOURCE,sslateingress,SOURCE,sslateingress@POST@/cart/checkout,XXXX,us-west-1,101,712,0.14185393258426968

__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1944) - ERROR - !!! Skip optimizer !!! all root_node_rps all regions are 0
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-326, gap: 1.0080437660217285
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-327, gap: 0.9916534423828125
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1944) - ERROR - !!! Skip optimizer !!! all root_node_rps all regions are 0
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-328, gap: 1.1871387958526611
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1944) - ERROR - !!! Skip optimizer !!! all root_node_rps all regions are 0
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1944) - ERROR - !!! Skip optimizer !!! all root_node_rps all regions are 0
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-329, gap: 0.8142106533050537
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - perform_jumping(line:292) - INFO - loghill temp_counter 330 (current ruleset  prev_processing_latency: 0, cur_processing_latency: 0
__main__ - calculate_ruleset_overperformance(line:722) - INFO - calculate_ruleset_overperformance: rules:
Index(['src_svc', 'dst_svc', 'src_endpoint', 'dst_endpoint', 'src_cid',
       'dst_cid', 'flow', 'total', 'weight'],
      dtype='object')
__main__ - calculate_ruleset_overperformance(line:727) - INFO - calculate_ruleset_overperformance: src_regions: ['us-east-1' 'us-south-1' 'us-central-1' 'us-west-1']
__main__ - calculate_ruleset_overperformance(line:735) - INFO - calculate_ruleset_overperformance: src_region: us-east-1, dst_regions: ['us-east-1' 'us-south-1']
__main__ - calculate_ruleset_overperformance(line:754) - INFO - loghill calculate_ruleset_overperformance: src_region: us-east-1, dst_region: us-east-1, expected_latency: 1.0002745620070412, actual_latency: 76.5, load in us-east-1 for this ruleset: 0.9761904761904762
__main__ - calculate_ruleset_overperformance(line:754) - INFO - loghill calculate_ruleset_overperformance: src_region: us-east-1, dst_region: us-south-1, expected_latency: 1.0002745620070412, actual_latency: 76.0, load in us-south-1 for this ruleset: 0.023809523809523808
__main__ - perform_jumping(line:297) - INFO - loghill ruleset_overperformance: {'us-east-1': {'us-east-1': -73.70211292756456, 'us-south-1': -1.785707748523642}}
__main__ - perform_jumping(line:301) - INFO - loghill rules are different, stepping towards optimizer output, old rules:
dst_cid       us-central-1  us-east-1  us-south-1  us-west-1
src_cid                                                     
us-central-1      1.000000   0.000000         0.0        0.0
us-east-1         0.043651   0.956349         0.0        0.0
us-south-1        0.000000   0.000000         1.0        0.0
us-west-1         0.000000   0.000000         0.0        1.0, new rules:
dst_cid       us-central-1
src_cid                   
us-central-1           1.0, cur jumping_df:
dst_cid       us-central-1  us-east-1  us-south-1  us-west-1
src_cid                                                     
us-central-1           1.0    0.00000     0.00000        0.0
us-east-1              0.0    0.97619     0.02381        0.0
us-south-1             0.0    0.00000     1.00000        0.0
us-west-1              0.0    0.00000     0.00000        1.0
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1944) - ERROR - !!! Skip optimizer !!! all root_node_rps all regions are 0
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-330, gap: 1.0050313472747803
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1944) - ERROR - !!! Skip optimizer !!! all root_node_rps all regions are 0
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-331, gap: 0.9919416904449463
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-332, gap: 1.0097429752349854
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1944) - ERROR - !!! Skip optimizer !!! all root_node_rps all regions are 0
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-333, gap: 1.0980079174041748
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1944) - ERROR - !!! Skip optimizer !!! all root_node_rps all regions are 0
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - optimizer_entrypoint(line:1944) - ERROR - !!! Skip optimizer !!! all root_node_rps all regions are 0
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-334, gap: 0.8946044445037842
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
__main__ - training_phase(line:2813) - INFO - Training initialization is done.
__main__ - optimizer_entrypoint(line:1944) - ERROR - !!! Skip optimizer !!! all root_node_rps all regions are 0
__main__ - aggregated_rps_routine(line:3146) - INFO - --------------------------------------------------------------------------------
__main__ - aggregated_rps_routine(line:3147) - INFO - aggregated_rps_routine, temp_counter-335, gap: 0.9946870803833008
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-central-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-south-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-west-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3152) - WARNING - agg_root_node_rps,us-east-1,sslateingress,sslateingress@POST@/cart/checkout,0
__main__ - aggregated_rps_routine(line:3153) - WARNING - --------------------------------------------------------------------------------
